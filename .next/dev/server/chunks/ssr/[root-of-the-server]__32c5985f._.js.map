{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/harsh/Downloads/PulseBank-main/PulseBank-main/hooks/useSocket.ts"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useRef } from \"react\"\r\nimport { io, Socket } from \"socket.io-client\"\r\n\r\nlet globalSocket: Socket | null = null\r\n\r\nexport function useSocket() {\r\n  const socketRef = useRef<Socket | null>(null)\r\n\r\n  useEffect(() => {\r\n    // Reuse global socket instance to avoid multiple connections\r\n    if (!globalSocket) {\r\n      globalSocket = io(\"http://localhost:5000\", {\r\n        reconnection: true,\r\n        reconnectionDelay: 1000,\r\n        reconnectionDelayMax: 5000,\r\n        reconnectionAttempts: 5,\r\n      })\r\n\r\n      globalSocket.on(\"connect\", () => {\r\n        console.log(\"âœ… Socket connected:\", globalSocket?.id)\r\n      })\r\n\r\n      globalSocket.on(\"disconnect\", () => {\r\n        console.log(\"âŒ Socket disconnected\")\r\n      })\r\n\r\n      globalSocket.on(\"error\", (error) => {\r\n        console.error(\"Socket error:\", error)\r\n      })\r\n    }\r\n\r\n    socketRef.current = globalSocket\r\n\r\n    return () => {\r\n      // Don't disconnect here; keep the socket alive for reuse\r\n    }\r\n  }, [])\r\n\r\n  return socketRef\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;AAKA,IAAI,eAA8B;AAE3B,SAAS;IACd,MAAM,YAAY,IAAA,+MAAM,EAAgB;IAExC,IAAA,kNAAS,EAAC;QACR,6DAA6D;QAC7D,IAAI,CAAC,cAAc;YACjB,eAAe,IAAA,8LAAE,EAAC,yBAAyB;gBACzC,cAAc;gBACd,mBAAmB;gBACnB,sBAAsB;gBACtB,sBAAsB;YACxB;YAEA,aAAa,EAAE,CAAC,WAAW;gBACzB,QAAQ,GAAG,CAAC,uBAAuB,cAAc;YACnD;YAEA,aAAa,EAAE,CAAC,cAAc;gBAC5B,QAAQ,GAAG,CAAC;YACd;YAEA,aAAa,EAAE,CAAC,SAAS,CAAC;gBACxB,QAAQ,KAAK,CAAC,iBAAiB;YACjC;QACF;QAEA,UAAU,OAAO,GAAG;QAEpB,OAAO;QACL,yDAAyD;QAC3D;IACF,GAAG,EAAE;IAEL,OAAO;AACT","debugId":null}},
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/harsh/Downloads/PulseBank-main/PulseBank-main/app/hospital/dashboard/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useSocket } from \"@/hooks/useSocket\";\nimport {\n  Heart,\n  AlertCircle,\n  Users,\n  Droplet,\n  TrendingUp,\n  LogOut,\n  FileText,\n  Plus,\n  MapPin,\n  Calendar,\n  Gift,\n  Navigation,\n  CheckCircle,\n} from \"lucide-react\";\nimport Link from \"next/link\";\n\n// ðŸ‘‰ FIXED MAP (dynamic import prevents SSR errors)\nimport dynamic from \"next/dynamic\";\nconst HospitalMap = dynamic(() => import(\"@/components/HospitalMap\"), {\n  ssr: false,\n});\n\n// Existing components (unchanged)\nimport BloodCompatibilityChart from \"@/components/blood-compatibility-chart\";\nimport AIChatbot from \"@/components/ai-chatbot\";\nimport ProfileMenu from \"@/components/profile-menu\";\n// Correct URLs (backend runs on 5000)\nconst STATS_URL = \"http://localhost:5000/hospital/stats\";\nconst ACTIVE_DONORS_URL = \"http://localhost:5000/hospital/active-donors\";\nconst REQUESTS_URL = \"http://localhost:5000/request/all\";\n\n\nexport default function HospitalDashboard() {\n  const [hospitalName, setHospitalName] = useState(\"Hospital\");\n  const [hospitalId, setHospitalId] = useState<string | null>(null);\n  const [hospitalEmail, setHospitalEmail] = useState(\"\");\n  const [hospitalPhone, setHospitalPhone] = useState(\"\");\n  const [hospitalImage, setHospitalImage] = useState(\"\");\n  const [hospitalLocation, setHospitalLocation] = useState<any>(null);\n  const [showProfileMenu, setShowProfileMenu] = useState(false);\n  const [showLocationPrompt, setShowLocationPrompt] = useState(false);\n  const [locationPermissionDenied, setLocationPermissionDenied] = useState(false);\n  const [requests, setRequests] = useState<any[]>([]);\n  const [hospitalRequests, setHospitalRequests] = useState<any[]>([]);\n  const [recipientRequests, setRecipientRequests] = useState<any[]>([]);\n  const [activeDonors, setActiveDonors] = useState<any[]>([]);\n  const [stats, setStats] = useState({\n    totalRequests: 0,\n    livesSaved: 0,\n    donorsNearby: 0,\n    avgMatchTime: 0,\n  });\n\n  const socketRef = useSocket();\n\n  const [isRefreshing, setIsRefreshing] = useState(false);\n\n  /* -----------------------------------------------\n     REFRESH ALL DATA\n  -----------------------------------------------*/\n  // helper to resolve current hospital identity (id and name)\n  const getCurrentHospitalIdentity = () => {\n    let currentHospitalId = hospitalId;\n    let currentHospitalName = hospitalName;\n    try {\n      const stored = localStorage.getItem(\"user\");\n      if (stored) {\n        const u = JSON.parse(stored);\n        currentHospitalId = currentHospitalId || (u._id || u.id || null);\n        currentHospitalName = currentHospitalName || (u.fullName || u.name || null);\n      }\n    } catch (e) {}\n    return { currentHospitalId, currentHospitalName };\n  };\n\n  const handleRefresh = async () => {\n    setIsRefreshing(true);\n    try {\n      // fetch stats and requests in parallel\n      const [statsRes, reqRes] = await Promise.all([fetch(STATS_URL), fetch(REQUESTS_URL)]);\n\n      const statsData = await statsRes.json();\n      setStats({\n        totalRequests: statsData.totalRequests || 0,\n        livesSaved: statsData.livesSaved || 0,\n        donorsNearby: statsData.donorsNearby || 0,\n        avgMatchTime: statsData.avgMatchTime || 0,\n      });\n\n      const reqData = await reqRes.json();\n      const allRequests = reqData.requests || [];\n      setRequests(allRequests);\n\n      const { currentHospitalId, currentHospitalName } = getCurrentHospitalIdentity();\n\n      const hospitals = allRequests.filter((r: any) =>\n        !r.isRecipientRequest && (\n          (r.requestedBy && (\n            r.requestedBy === currentHospitalId ||\n            (r.requestedBy?._id && String(r.requestedBy._id) === String(currentHospitalId)) ||\n            String(r.requestedBy) === String(currentHospitalId)\n          )) ||\n          (r.hospital && currentHospitalName && r.hospital === currentHospitalName)\n        )\n      );\n\n      // Filter recipient requests that are for THIS hospital\n      const recipients = allRequests.filter((r: any) => \n        r.isRecipientRequest && (\n          (r.destinationHospital && currentHospitalName && r.destinationHospital === currentHospitalName) ||\n          (r.hospital && currentHospitalName && r.hospital === currentHospitalName)\n        )\n      );\n      \n      // Only show active requests (not fulfilled/completed/successful)\n      const statusesToExclude = [\"fulfilled\", \"completed\", \"successful\"];\n      \n      const activeHospitalRequests = hospitals.filter((r: any) => \n        !r.status || !statusesToExclude.includes(r.status.toLowerCase())\n      );\n      const activeRecipientRequests = recipients.filter((r: any) => \n        !r.status || !statusesToExclude.includes(r.status.toLowerCase())\n      );\n      \n      setHospitalRequests(activeHospitalRequests);\n      setRecipientRequests(activeRecipientRequests);\n      \n      // Calculate lives saved from fulfilled requests\n      const fulfilledRequests = allRequests.filter((r: any) => \n        r.status && (\n          r.status.toLowerCase() === \"fulfilled\" || \n          r.status.toLowerCase() === \"completed\" || \n          r.status.toLowerCase() === \"successful\"\n        )\n      );\n      \n      setStats({\n        totalRequests: activeHospitalRequests.length + activeRecipientRequests.length,\n        livesSaved: fulfilledRequests.length,\n        donorsNearby: statsData.donorsNearby || 0,\n        avgMatchTime: statsData.avgMatchTime || 0,\n      });\n    } catch (err) {\n      console.error(\"Refresh error:\", err);\n    } finally {\n      setIsRefreshing(false);\n    }\n  };\n\n  /* ----------------------------------------------\n     LOAD HOSPITAL NAME\n  -----------------------------------------------*/\n  useEffect(() => {\n    const stored = localStorage.getItem(\"user\");\n    if (stored) {\n      const user = JSON.parse(stored);\n      setHospitalName(user.fullName || \"Hospital\");\n      setHospitalId(user._id || null);\n      setHospitalEmail(user.email || \"\");\n      setHospitalPhone(user.phone || \"\");\n      setHospitalImage(user.profileImage || \"\");\n    }\n  }, []);\n\n  /* Keep hospital info (including image) in sync with profile page updates */\n  useEffect(() => {\n    const onUserUpdated = (event: any) => {\n      const updated = event?.detail || {};\n      setHospitalName(updated.fullName || \"Hospital\");\n      setHospitalEmail(updated.email || \"\");\n      setHospitalPhone(updated.phone || \"\");\n      setHospitalImage(updated.profileImage || \"\");\n    };\n\n    window.addEventListener(\"user-updated\", onUserUpdated as EventListener);\n    return () => window.removeEventListener(\"user-updated\", onUserUpdated as EventListener);\n  }, []);\n\n  /* -----------------------------------------------\n     REQUEST GEOLOCATION PERMISSION & UPDATE LOCATION\n  -----------------------------------------------*/\n  const requestLocationPermission = async () => {\n    if (!hospitalId) {\n      console.log(\"Hospital ID not available yet\");\n      return;\n    }\n\n    if (!navigator.geolocation) {\n      console.error(\"Geolocation not supported\");\n      setLocationPermissionDenied(true);\n      return;\n    }\n\n    console.log(\"Requesting geolocation permission...\");\n    setShowLocationPrompt(true);\n\n    navigator.geolocation.getCurrentPosition(\n      async (position) => {\n        const { latitude, longitude } = position.coords;\n        console.log(`Location obtained: ${latitude}, ${longitude}`);\n        setHospitalLocation({ latitude, longitude });\n        setShowLocationPrompt(false);\n\n        // Update hospital location in backend\n        try {\n          // Validate hospitalId exists\n          if (!hospitalId) {\n            console.error(\"Hospital ID not available. Please log in again.\");\n            setShowLocationPrompt(false);\n            alert(\"Hospital ID not found. Please log out and log in again.\");\n            return;\n          }\n\n          const response = await fetch(\"http://localhost:5000/hospital/update-location\", {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n              hospitalId,\n              latitude,\n              longitude,\n            }),\n          });\n\n          if (!response.ok) {\n            const errorData = await response.json().catch(() => ({}));\n            console.error(`Failed to update location: HTTP ${response.status}`);\n            console.error(\"Error response:\", errorData);\n            \n            if (response.status === 404) {\n              if (errorData.message === \"Hospital not found. Please log in again.\") {\n                console.error(`Hospital record not found in database for ID: ${hospitalId}`);\n                console.warn(\"Your hospital account may have been deleted. Clearing session...\");\n                localStorage.removeItem(\"user\");\n                alert(\"Your hospital account was not found in the system. Please log in again.\");\n                window.location.href = \"/auth?type=hospital\";\n              } else {\n                console.error(\"Backend endpoint not found. Ensure the backend server is running on http://localhost:5000\");\n                alert(\"Location update failed. Please ensure backend server is running and try again.\");\n              }\n            } else if (response.status === 400) {\n              console.error(\"Bad request:\", errorData.message);\n              alert(\"Missing required location data. Please try again.\");\n            } else {\n              alert(`Error updating location: HTTP ${response.status}`);\n            }\n            setShowLocationPrompt(false);\n            return;\n          }\n\n          const data = await response.json();\n          if (data.success) {\n            console.log(\"Hospital location updated successfully:\", data.hospital);\n          } else {\n            console.error(\"Failed to update location:\", data.message);\n            if (data.message === \"Hospital not found. Please log in again.\") {\n              localStorage.removeItem(\"user\");\n              console.warn(\"Hospital record not found. Redirecting to login...\");\n              window.location.href = \"/auth?type=hospital\";\n            }\n          }\n        } catch (error) {\n          console.error(\"Error updating hospital location:\", error);\n          if (error instanceof TypeError && error.message.includes(\"fetch\")) {\n            console.error(\"Network error: Could not reach backend server at http://localhost:5000. Is the server running?\");\n            alert(\"Could not connect to backend server. Please ensure it's running on port 5000.\");\n          }\n          setShowLocationPrompt(false);\n        }\n      },\n      (error) => {\n        console.warn(\"Geolocation error:\", error);\n        setShowLocationPrompt(false);\n        if (error.code === error.PERMISSION_DENIED) {\n          setLocationPermissionDenied(true);\n          console.log(\"Location permission denied by user\");\n        } else if (error.code === error.TIMEOUT) {\n          console.log(\"Location request timed out - user can retry\");\n        } else {\n          console.log(\"Location unavailable - will prompt user to retry\");\n        }\n        // Don't show alerts for geolocation errors - just log them\n        // User can manually click to retry\n      },\n      {\n        timeout: 10000,\n        enableHighAccuracy: true,\n      }\n    );\n  };\n\n  // Request location permission only if user manually triggers it\n  // Removed automatic location request on mount to prevent geolocation errors blocking dashboard\n  useEffect(() => {\n    // This useEffect can be used later if needed for manual location requests\n    // For now, location sharing is optional and user-triggered\n  }, []);\n\n  /* ----------------------------------------------\n     FETCH STATS\n  -----------------------------------------------*/\n  const loadStats = async () => {\n    try {\n      const res = await fetch(STATS_URL);\n      if (!res.ok) {\n        console.error(`loadStats error: ${res.status}`);\n        return;\n      }\n      const data = await res.json();\n      if (data.success) {\n        setStats((prev) => ({\n          ...prev,\n          donorsNearby: data.donorsNearby,\n          avgMatchTime: data.avgMatchTime,\n        }));\n      }\n    } catch (err) {\n      console.error(\"loadStats fetch error:\", err);\n    }\n  };\n\n  /* ----------------------------------------------\n     FETCH ACTIVE DONORS\n  -----------------------------------------------*/\n  const loadActiveDonors = async () => {\n    try {\n      const res = await fetch(ACTIVE_DONORS_URL);\n      if (!res.ok) {\n        console.error(`loadActiveDonors error: ${res.status}`);\n        return;\n      }\n      const data = await res.json();\n      if (data.success) {\n        setActiveDonors(data.donors || []);\n      }\n    } catch (err) {\n      console.error(\"loadActiveDonors fetch error:\", err);\n    }\n  };\n\n  /* ----------------------------------------------\n     FETCH REQUESTS\n  -----------------------------------------------*/\n  const loadRequests = async () => {\n    try {\n      const res = await fetch(REQUESTS_URL);\n      if (!res.ok) {\n        console.error(`loadRequests error: ${res.status}`);\n        return;\n      }\n      const data = await res.json();\n      const allRequests = data.requests || [];\n      setRequests(allRequests);\n\n      const { currentHospitalId, currentHospitalName } = getCurrentHospitalIdentity();\n\n      const hospitals = allRequests.filter((r: any) =>\n        !r.isRecipientRequest && (\n          (r.requestedBy && (\n            r.requestedBy === currentHospitalId ||\n            (r.requestedBy?._id && String(r.requestedBy._id) === String(currentHospitalId)) ||\n            String(r.requestedBy) === String(currentHospitalId)\n          )) ||\n          (r.hospital && currentHospitalName && r.hospital === currentHospitalName)\n        )\n      );\n\n      const recipients = allRequests.filter((r: any) => r.isRecipientRequest || !r.hospital || r.hospital === \"\");\n      \n      // Filter out fulfilled/completed/successful requests\n      const statusesToExclude = [\"fulfilled\", \"completed\", \"successful\"];\n      const activeHospitals = hospitals.filter((r: any) => \n        !r.status || !statusesToExclude.includes(r.status.toLowerCase())\n      );\n      const activeRecipients = recipients.filter((r: any) => \n        !r.status || !statusesToExclude.includes(r.status.toLowerCase())\n      );\n      \n      setHospitalRequests(activeHospitals);\n      setRecipientRequests(activeRecipients);\n\n      setStats((prev) => ({\n        ...prev,\n        totalRequests: allRequests.length,\n        livesSaved: Math.floor(allRequests.length * 1.5),\n      }));\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  /* ----------------------------------------------\n     INITIAL LOAD + SOCKET LISTENER\n  -----------------------------------------------*/\n  useEffect(() => {\n    loadStats();\n    loadActiveDonors();\n    loadRequests();\n\n    const socket = socketRef.current;\n    if (!socket) return;\n\n    // Listen for donor availability changes\n    socket.on(\"donor_status_changed\", () => {\n      loadStats();\n      loadActiveDonors();\n    });\n\n    // Listen for new requests created by this hospital or other hospitals\n    socket.on(\"request_created\", (payload: any) => {\n      if (!payload || !payload._id) return;\n\n      setRequests((prev) => {\n        const exists = prev.some((r: any) => r._id === payload._id);\n        if (exists) return prev;\n        // increment stats only when actually adding new item\n        setStats((s) => ({ ...s, totalRequests: s.totalRequests + 1 }));\n        return [payload, ...prev];\n      });\n\n      // Add to the appropriate list â€” only include hospitalRequests that belong to this hospital\n      const { currentHospitalId, currentHospitalName } = getCurrentHospitalIdentity();\n\n      if (payload.isRecipientRequest) {\n        // Only add if this request is for THIS hospital\n        if (payload.hospital && currentHospitalName && payload.hospital === currentHospitalName) {\n          setRecipientRequests((prev) => (prev.some((r: any) => r._id === payload._id) ? prev : [payload, ...prev]));\n        }\n      } else {\n        // determine whether this payload was created by THIS hospital\n        const createdByHospital = !!(\n          (payload.requestedBy && (\n            payload.requestedBy === currentHospitalId ||\n            (payload.requestedBy?._id && String(payload.requestedBy._id) === String(currentHospitalId)) ||\n            String(payload.requestedBy) === String(currentHospitalId)\n          )) ||\n          (payload.hospital && currentHospitalName && payload.hospital === currentHospitalName)\n        );\n\n        if (createdByHospital) {\n          setHospitalRequests((prev) => (prev.some((r: any) => r._id === payload._id) ? prev : [payload, ...prev]));\n        }\n      }\n\n      console.log(\"New request created (real-time):\", payload);\n    });\n\n    // Listen for donor availability changes to refresh donor list\n    socket.on(\"availability_changed\", () => {\n      loadActiveDonors();\n      loadStats();\n    });\n    // Listen for request fulfilled (when hospital marks donation completed)\n    socket.on(\"request_fulfilled\", (payload: any) => {\n      // Remove fulfilled request from active requests\n      setHospitalRequests((prev) => prev.filter((r: any) => r._id !== payload.requestId));\n      setRecipientRequests((prev) => prev.filter((r: any) => r._id !== payload.requestId));\n      setRequests((prev) => prev.filter((r: any) => r._id !== payload.requestId));\n\n      // Update stats\n      setStats((prev) => ({\n        ...prev,\n        totalRequests: Math.max(0, prev.totalRequests - 1),\n      }));\n    });\n\n    // Listen for donation confirmation/rejection from donors\n    socket.on(\"request_confirmed\", (payload: any) => {\n      if (!payload || !payload._id) return;\n\n      console.log(\"Request confirmation status updated:\", payload);\n\n      // Update the request in both hospital and recipient request lists\n      setHospitalRequests((prev) =>\n        prev.map((r: any) =>\n          r._id === payload._id\n            ? {\n                ...r,\n                confirmationStatus: payload.confirmationStatus,\n                confirmedBy: payload.confirmedBy,\n                confirmationNotes: payload.confirmationNotes,\n              }\n            : r\n        )\n      );\n\n      setRecipientRequests((prev) =>\n        prev.map((r: any) =>\n          r._id === payload._id\n            ? {\n                ...r,\n                confirmationStatus: payload.confirmationStatus,\n                confirmedBy: payload.confirmedBy,\n                confirmationNotes: payload.confirmationNotes,\n              }\n            : r\n        )\n      );\n\n      // Update the main requests list\n      setRequests((prev) =>\n        prev.map((r: any) =>\n          r._id === payload._id\n            ? {\n                ...r,\n                confirmationStatus: payload.confirmationStatus,\n                confirmedBy: payload.confirmedBy,\n                confirmationNotes: payload.confirmationNotes,\n              }\n            : r\n        )\n      );\n\n      // Update stats to reflect confirmed request (reduce active requests count)\n      setStats((prev) => ({\n        ...prev,\n        totalRequests: Math.max(0, prev.totalRequests - 1),\n      }));\n    });\n\n    // Listen for donation completion (when scheduled time arrives)\n    socket.on(\"donation_completed\", (payload: any) => {\n      if (!payload || !payload.requestId) return;\n\n      console.log(\"Donation completed (time reached):\", payload);\n\n      // Update the request status to \"Successful\"\n      setHospitalRequests((prev) =>\n        prev.map((r: any) =>\n          r._id === payload.requestId\n            ? {\n                ...r,\n                confirmationStatus: \"Successful\",\n                status: \"Fulfilled\",\n              }\n            : r\n        )\n      );\n\n      setRecipientRequests((prev) =>\n        prev.map((r: any) =>\n          r._id === payload.requestId\n            ? {\n                ...r,\n                confirmationStatus: \"Successful\",\n                status: \"Fulfilled\",\n              }\n            : r\n        )\n      );\n\n      setRequests((prev) =>\n        prev.map((r: any) =>\n          r._id === payload.requestId\n            ? {\n                ...r,\n                confirmationStatus: \"Successful\",\n                status: \"Fulfilled\",\n              }\n            : r\n        )\n      );\n    });\n\n    return () => {\n      socket.off(\"donor_status_changed\");\n      socket.off(\"request_created\");\n      socket.off(\"availability_changed\");\n      socket.off(\"request_fulfilled\");\n      socket.off(\"request_confirmed\");\n      socket.off(\"donation_completed\");\n    };\n  }, [socketRef]);\n\n  /* ----------------------------------------------\n     UI HELPERS\n  -----------------------------------------------*/\n  const getUrgencyColor = (urg: string) => {\n    switch (urg?.toUpperCase()) {\n      case \"CRITICAL\":\n        return \"bg-red-600 text-white\";\n      case \"HIGH\":\n        return \"bg-orange-500 text-white\";\n      case \"MODERATE\":\n        return \"bg-yellow-500 text-white\";\n      default:\n        return \"bg-green-500 text-white\";\n    }\n  };\n\n  const getStatusColor = (status: string) =>\n    status === \"Pending\"\n      ? \"bg-yellow-100 text-yellow-700\"\n      : status === \"Fulfilled\"\n      ? \"bg-green-100 text-green-700\"\n      : \"bg-gray-300 text-gray-700\";\n\n  /* ----------------------------------------------\n     RENDER UI\n  -----------------------------------------------*/\n  return (\n    <main className=\"min-h-screen bg-gradient-to-br from-white via-red-50 to-white\">\n      {/* HEADER */}\n      <header className=\"bg-gradient-to-r from-red-600 to-red-700 text-white p-6 sticky top-0 z-30 shadow-lg\">\n        <div className=\"max-w-7xl mx-auto flex justify-between items-center\">\n          <div className=\"flex items-center gap-3\">\n            <Heart className=\"w-8 h-8 fill-white\" />\n            <h1 className=\"text-3xl font-bold\">{hospitalName}</h1>\n          </div>\n\n          <div className=\"flex items-center gap-3 relative\">\n            <button\n              onClick={() => setShowProfileMenu(!showProfileMenu)}\n              className=\"p-2 rounded-full hover:bg-red-500 transition bg-white text-red-600 w-10 h-10 flex items-center justify-center\"\n              title=\"Profile menu\"\n            >\n              ðŸ‘¤\n            </button>\n\n            {showProfileMenu && (\n              <div className=\"absolute right-0 top-12 bg-gradient-to-b from-white to-gray-50 text-gray-800 rounded-2xl shadow-2xl w-64 z-40 border border-red-100 overflow-hidden\">\n                {/* Profile Info Section */}\n                <div className=\"p-5 bg-gradient-to-r from-red-50 to-red-100 border-b-2 border-red-200\">\n                  <p className=\"font-bold text-lg text-red-700\">{hospitalName}</p>\n                  <p className=\"text-sm text-gray-600 mt-1\">{hospitalEmail}</p>\n                  <p className=\"text-sm text-gray-600\">{hospitalPhone}</p>\n                </div>\n                \n                {/* Menu Items */}\n                <div className=\"py-2\">\n                  <Link\n                    href=\"/hospital/profile\"\n                    className=\"flex items-center gap-3 px-4 py-3 hover:bg-red-50 text-gray-800 transition border-l-4 border-transparent hover:border-red-600\"\n                    onClick={() => setShowProfileMenu(false)}\n                  >\n                    <FileText className=\"w-5 h-5 text-red-600\" />\n                    <span className=\"font-medium\">Edit Profile</span>\n                  </Link>\n                  <Link\n                    href=\"/hospital/history\"\n                    className=\"flex items-center gap-3 px-4 py-3 hover:bg-blue-50 text-gray-800 transition border-l-4 border-transparent hover:border-blue-600\"\n                    onClick={() => setShowProfileMenu(false)}\n                  >\n                    <Calendar className=\"w-5 h-5 text-blue-600\" />\n                    <span className=\"font-medium\">View History</span>\n                  </Link>\n                  <button\n                    onClick={() => {\n                      localStorage.removeItem(\"token\");\n                      window.location.href = \"/\";\n                    }}\n                    className=\"w-full flex items-center gap-3 px-4 py-3 hover:bg-red-100 text-gray-800 transition border-l-4 border-transparent hover:border-red-700\"\n                  >\n                    <LogOut className=\"w-5 h-5 text-red-700\" />\n                    <span className=\"font-medium\">Logout</span>\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </header>\n\n      {/* LOCATION PERMISSION BANNER */}\n      {showLocationPrompt && (\n        <div className=\"bg-blue-50 border-l-4 border-blue-600 p-4 mx-6 mt-4 rounded-lg\">\n          <div className=\"flex items-center gap-3\">\n            <Navigation className=\"w-5 h-5 text-blue-600 animate-pulse\" />\n            <div>\n              <p className=\"font-semibold text-blue-900\">Enabling Location Sharing</p>\n              <p className=\"text-sm text-blue-700\">Please allow location access so nearby recipients can find you...</p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {locationPermissionDenied && (\n        <div className=\"bg-amber-50 border-l-4 border-amber-600 p-4 mx-6 mt-4 rounded-lg\">\n          <div className=\"flex items-center justify-between gap-3\">\n            <div className=\"flex items-center gap-3\">\n              <AlertCircle className=\"w-5 h-5 text-amber-600\" />\n              <div>\n                <p className=\"font-semibold text-amber-900\">Location Permission Denied</p>\n                <p className=\"text-sm text-amber-700\">Recipients won't be able to find your hospital. Please enable location in your browser settings.</p>\n              </div>\n            </div>\n            <button\n              onClick={() => {\n                setLocationPermissionDenied(false);\n                requestLocationPermission();\n              }}\n              className=\"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 text-sm font-medium\"\n            >\n              Retry\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* MAIN BODY */}\n      <div className=\"max-w-7xl mx-auto p-6 space-y-12\">\n        {/* HERO CARD */}\n        <div className=\"bg-white rounded-2xl shadow-lg overflow-hidden border-l-4 border-red-600 grid md:grid-cols-2\">\n          <div className=\"p-10\">\n            <h2 className=\"text-3xl font-bold text-red-700\">Welcome back!</h2>\n            <p className=\"text-gray-700 mt-2\">Thanks for coordinating blood donations and saving lives.</p>\n\n            <div className=\"mt-6 flex gap-4\">\n              <Link\n                href=\"/hospital/new-request\"\n                className=\"bg-gradient-to-r from-red-600 to-red-700 text-white px-6 py-3 rounded-lg flex items-center gap-2 font-semibold hover:shadow-lg transition\"\n              >\n                <Plus className=\"w-5 h-5\" /> New Request\n              </Link>\n            </div>\n          </div>\n\n          <div className=\"bg-gradient-to-br from-red-50 via-red-100 to-red-200 flex items-center justify-center p-4 min-h-[280px]\">\n            {hospitalImage ? (\n              <div className=\"relative w-full h-full flex items-center justify-center\">\n                <img\n                  src={hospitalImage}\n                  alt=\"Hospital profile\"\n                  className=\"max-w-full max-h-[250px] rounded-lg shadow-2xl object-contain\"\n                />\n              </div>\n            ) : (\n              <div className=\"flex flex-col items-center gap-3\">\n                <Heart className=\"text-red-600 w-20 h-20\" />\n                <p className=\"text-red-600 text-sm font-medium\">Upload your photo</p>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* ACTIVE DONORS MAP */}\n        <div className=\"mt-8\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-3xl font-bold text-red-700 flex items-center gap-2\">\n              <MapPin className=\"w-8 h-8\" />\n              Active Donors Nearby\n            </h2>\n            <span className=\"bg-gradient-to-r from-green-500 to-green-600 text-white px-4 py-2 rounded-full font-semibold\">\n              {stats.donorsNearby} Donors Online\n            </span>\n          </div>\n          {stats.donorsNearby > 0 && (\n            <div className=\"bg-white rounded-2xl shadow-2xl border-2 border-red-100 overflow-hidden relative z-10\" style={{ height: \"500px\" }}>\n              <HospitalMap activeDonors={activeDonors} />\n            </div>\n          )}\n          {stats.donorsNearby === 0 && (\n            <div className=\"bg-gradient-to-br from-amber-50 to-orange-50 rounded-2xl shadow-2xl border-2 border-amber-200 p-8 text-center\" style={{ height: \"500px\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\" }}>\n              <div>\n                <AlertCircle className=\"w-16 h-16 mx-auto text-amber-500 mb-4\" />\n                <h3 className=\"text-2xl font-bold text-gray-800 mb-2\">No Donors Online</h3>\n                <p className=\"text-gray-600\">No donors are currently available in your area. Check back soon!</p>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* STATISTICS SECTION */}\n        <div className=\"grid md:grid-cols-4 gap-6\">\n          <StatCard icon={Users} label=\"Donors Nearby\" value={stats.donorsNearby} color=\"from-green-500 to-green-600\" />\n          <StatCard icon={Droplet} label=\"Avg Match Time\" value={`${stats.avgMatchTime} min`} color=\"from-red-600 to-red-700\" />\n          <StatCard icon={TrendingUp} label=\"Lives Saved\" value={stats.livesSaved} color=\"from-green-500 to-green-600\" />\n          <StatCard icon={Heart} label=\"Active Requests\" value={stats.totalRequests} color=\"from-red-500 to-red-600\" />\n        </div>\n\n        {/* BLOOD COMPATIBILITY */}\n        <BloodCompatibilityChartHospital />\n\n        {/* REQUEST TABLES */}\n        <div className=\"space-y-8\">\n          {/* Hospital-created requests */}\n          <div className=\"bg-white rounded-2xl shadow-xl p-8 border-2 border-red-200\">\n            <div className=\"flex items-center gap-3 mb-6\">\n              <Droplet className=\"w-8 h-8 text-red-600\" />\n              <h2 className=\"text-3xl font-bold text-red-700\">Hospital Requests</h2>\n            </div>\n\n            {(hospitalRequests || []).length === 0 ? (\n              <div className=\"text-center py-12\">\n                <Droplet className=\"w-16 h-16 text-gray-300 mx-auto mb-3\" />\n                <p className=\"text-gray-500 text-lg\">No hospital requests yet</p>\n              </div>\n            ) : (\n              <div className=\"space-y-4\">\n                {(hospitalRequests || []).map((req: any, i: number) => (\n                  <div key={`h-${i}`} className=\"p-6 border-2 border-red-100 rounded-xl hover:shadow-lg transition bg-gradient-to-r from-red-50 to-white\">\n                    <div className=\"grid md:grid-cols-2 lg:grid-cols-6 gap-4 items-center\">\n                      <div>\n                        <p className=\"text-xs font-semibold text-gray-500 mb-1\">Patient Name</p>\n                        <p className=\"font-bold text-gray-900\">{req.recipientName || req.patientName || req.requestedBy?.fullName || req.requestedByName || \"N/A\"}</p>\n                      </div>\n\n                      <div>\n                        <p className=\"text-xs font-semibold text-gray-500 mb-1\">Blood Type</p>\n                        <p className=\"font-bold text-red-600 text-lg\">{req.bloodType}</p>\n                      </div>\n\n                      <div>\n                        <p className=\"text-xs font-semibold text-gray-500 mb-1\">Units</p>\n                        <p className=\"font-bold text-gray-900\">{req.unitsNeeded}</p>\n                      </div>\n\n                      <div>\n                        <p className=\"text-xs font-semibold text-gray-500 mb-1\">Urgency</p>\n                        <span className={`px-3 py-1 rounded-full text-xs font-semibold inline-block ${getUrgencyColor(req.urgency)}`}>\n                          {req.urgency}\n                        </span>\n                      </div>\n\n                      <div>\n                        <p className=\"text-xs font-semibold text-gray-500 mb-1\">Status</p>\n                        <span className={`px-3 py-1 rounded-full text-xs font-semibold inline-block ${getStatusColor(req.status)}`}>\n                          {req.status}\n                        </span>\n                      </div>\n\n                      <div>\n                        <p className=\"text-xs font-semibold text-gray-500 mb-1\">Confirmation</p>\n                        <span className={`px-3 py-1 rounded-full text-xs font-semibold inline-block ${\n                          req.confirmationStatus === \"Confirmed\" ? \"bg-green-100 text-green-700\" :\n                          req.confirmationStatus === \"Rejected\" ? \"bg-red-100 text-red-700\" :\n                          req.confirmationStatus === \"Successful\" ? \"bg-blue-100 text-blue-700\" :\n                          \"bg-gray-100 text-gray-700\"\n                        }`}>\n                          {req.confirmationStatus || \"Pending\"}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n\n          {/* Recipient-created requests */}\n          <div className=\"bg-white rounded-2xl shadow-xl p-8 border-2 border-purple-200\">\n            <div className=\"flex items-center gap-3 mb-6\">\n              <Heart className=\"w-8 h-8 text-purple-600\" />\n              <h2 className=\"text-3xl font-bold text-purple-700\">Recipient Requests</h2>\n            </div>\n\n            {(recipientRequests || []).length === 0 ? (\n              <div className=\"text-center py-12\">\n                <Heart className=\"w-16 h-16 text-gray-300 mx-auto mb-3\" />\n                <p className=\"text-gray-500 text-lg\">No recipient requests yet</p>\n              </div>\n            ) : (\n              <div className=\"space-y-4\">\n                {(recipientRequests || []).map((req: any, i: number) => (\n                  <div key={`r-${i}`} className=\"p-6 border-2 border-purple-100 rounded-xl hover:shadow-lg transition bg-gradient-to-r from-purple-50 to-white\">\n                    <div className=\"grid md:grid-cols-2 lg:grid-cols-6 gap-4 items-center\">\n                      <div>\n                        <p className=\"text-xs font-semibold text-gray-500 mb-1\">Recipient</p>\n                        <p className=\"font-bold text-gray-900\">{req.recipientName || req.requestedBy?.fullName || req.requestedByName || req.requesterName || (typeof req.requestedBy === 'string' ? req.requestedBy : \"N/A\")}</p>\n                      </div>\n\n                      <div>\n                        <p className=\"text-xs font-semibold text-gray-500 mb-1\">Blood Type</p>\n                        <p className=\"font-bold text-red-600 text-lg\">{req.bloodType}</p>\n                      </div>\n\n                      <div>\n                        <p className=\"text-xs font-semibold text-gray-500 mb-1\">Units</p>\n                        <p className=\"font-bold text-gray-900\">{req.unitsNeeded}</p>\n                      </div>\n\n                      <div>\n                        <p className=\"text-xs font-semibold text-gray-500 mb-1\">Urgency</p>\n                        <span className={`px-3 py-1 rounded-full text-xs font-semibold inline-block ${getUrgencyColor(req.urgency)}`}>\n                          {req.urgency}\n                        </span>\n                      </div>\n\n                      <div>\n                        <p className=\"text-xs font-semibold text-gray-500 mb-1\">Status</p>\n                        <span className={`px-3 py-1 rounded-full text-xs font-semibold inline-block ${getStatusColor(req.status)}`}>\n                          {req.status}\n                        </span>\n                      </div>\n\n                      <div>\n                        <p className=\"text-xs font-semibold text-gray-500 mb-1\">Confirmation</p>\n                        <span className={`px-3 py-1 rounded-full text-xs font-semibold inline-block ${\n                          req.confirmationStatus === \"Confirmed\" ? \"bg-green-100 text-green-700\" :\n                          req.confirmationStatus === \"Rejected\" ? \"bg-red-100 text-red-700\" :\n                          req.confirmationStatus === \"Successful\" ? \"bg-blue-100 text-blue-700\" :\n                          \"bg-gray-100 text-gray-700\"\n                        }`}>\n                          {req.confirmationStatus || \"Pending\"}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      <AIChatbot />\n    </main>\n  );\n}\n\n/* ----------------------------------------------\n   STAT CARD COMPONENT\n-----------------------------------------------*/\nfunction StatCard({ icon: Icon, label, value, color = \"from-red-500 to-red-700\" }: any) {\n  return (\n    <div className={`bg-gradient-to-r ${color} text-white rounded-2xl shadow-xl p-6 hover:shadow-2xl transition transform hover:scale-105`}>\n      <div className=\"flex justify-between items-center mb-3\">\n        <h3 className=\"text-sm font-semibold\">{label}</h3>\n        <Icon className=\"w-6 h-6 opacity-90\" />\n      </div>\n      <p className=\"text-4xl font-bold\">{value}</p>\n    </div>\n  );\n}\n\n/* ----------------------------------------------\n   BLOOD COMPATIBILITY CHART - Hospital Version\n-----------------------------------------------*/\nfunction BloodCompatibilityChartHospital() {\n  const types = [\n    {\n      type: \"O-\",\n      badge: \"ðŸŒŸ Universal Donor\",\n      donate: [\"Everyone\"],\n      description: \"Rarest hero - can save anyone\",\n      bg: \"bg-gradient-to-br from-red-100 to-red-200\",\n      border: \"border-red-400\"\n    },\n    {\n      type: \"O+\",\n      badge: \"Most Common\",\n      donate: [\"O+\", \"A+\", \"B+\", \"AB+\"],\n      description: \"Help positive blood types\",\n      bg: \"bg-gradient-to-br from-red-100 to-red-200\",\n      border: \"border-red-400\"\n    },\n    {\n      type: \"A-\",\n      badge: \"Rare Giver\",\n      donate: [\"A-\", \"A+\", \"AB-\", \"AB+\"],\n      description: \"Support 4 blood types\",\n      bg: \"bg-gradient-to-br from-rose-100 to-rose-200\",\n      border: \"border-rose-400\"\n    },\n    {\n      type: \"A+\",\n      badge: \"Common\",\n      donate: [\"A+\", \"AB+\"],\n      description: \"Help A and AB types\",\n      bg: \"bg-gradient-to-br from-red-50 to-red-100\",\n      border: \"border-red-300\"\n    },\n    {\n      type: \"B-\",\n      badge: \"Rare Giver\",\n      donate: [\"B-\", \"B+\", \"AB-\", \"AB+\"],\n      description: \"Support 4 blood types\",\n      bg: \"bg-gradient-to-br from-rose-100 to-rose-200\",\n      border: \"border-rose-400\"\n    },\n    {\n      type: \"B+\",\n      badge: \"Common\",\n      donate: [\"B+\", \"AB+\"],\n      description: \"Help B and AB types\",\n      bg: \"bg-gradient-to-br from-red-50 to-red-100\",\n      border: \"border-red-300\"\n    },\n    {\n      type: \"AB-\",\n      badge: \"Rarest\",\n      donate: [\"AB-\", \"AB+\"],\n      description: \"Precious for AB types\",\n      bg: \"bg-gradient-to-br from-pink-100 to-pink-200\",\n      border: \"border-pink-400\"\n    },\n    {\n      type: \"AB+\",\n      badge: \"ðŸŒŸ Universal Recipient\",\n      donate: [\"AB+\"],\n      description: \"Can receive from anyone\",\n      bg: \"bg-gradient-to-br from-red-200 to-red-300\",\n      border: \"border-red-500\"\n    },\n  ];\n\n  return (\n    <div className=\"mt-10 p-8 bg-gradient-to-r from-white via-blue-50 to-white rounded-2xl shadow-lg border-2 border-blue-200\">\n      <h2 className=\"text-3xl font-bold text-red-700 mb-2 flex items-center gap-2\">\n        <span className=\"text-4xl\">ðŸ©º</span> Blood Compatibility Chart\n      </h2>\n      <p className=\"text-gray-600 mb-6 text-sm\">Understand which blood types can be used for transfusions and donations</p>\n\n      <div className=\"grid md:grid-cols-2 lg:grid-cols-4 gap-4\">\n        {types.map((b, i) => (\n          <div\n            key={i}\n            className={`${b.bg} p-5 rounded-2xl shadow-lg border-2 ${b.border} hover:shadow-xl transition-all duration-300 transform hover:scale-105`}\n          >\n            <div className=\"flex items-start justify-between mb-3\">\n              <div>\n                <h3 className=\"font-bold text-2xl text-gray-900 mb-1\">{b.type}</h3>\n                <span className=\"inline-block bg-white px-3 py-1 rounded-full text-xs font-bold text-gray-700 shadow-sm\">\n                  {b.badge}\n                </span>\n              </div>\n            </div>\n            <p className=\"text-xs text-gray-700 font-semibold mb-3 italic\">\"{b.description}\"</p>\n            <div>\n              <p className=\"text-xs font-bold text-gray-800 mb-2\">ðŸ’‰ Donates to:</p>\n              <div className=\"flex flex-wrap gap-2\">\n                {b.donate.map((d, j) => (\n                  <span\n                    key={j}\n                    className=\"px-3 py-1.5 bg-white font-bold text-gray-800 rounded-lg text-xs shadow border-2 border-gray-300\"\n                  >\n                    {d}\n                  </span>\n                ))}\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      <div className=\"mt-8 bg-gradient-to-r from-red-50 to-pink-50 rounded-xl p-5 border-l-4 border-red-600\">\n        <p className=\"text-sm text-gray-700\">\n          <span className=\"font-bold text-red-700\">ðŸ’¡ Pro Tip:</span> O- blood type donors are the most sought after because they can donate to anyone. AB+ recipients can receive from all blood types. Understanding compatibility helps you plan better blood requests.\n        </p>\n      </div>\n    </div>\n  );\n}\n\r\n"],"names":[],"mappings":"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","debugId":null}}]
}