{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/harsh/Downloads/PulseBank-main/PulseBank-main/lib/api-endpoints.ts"],"sourcesContent":["// Change this URL to your deployed backend later\nexport const API_BASE_URL = \"http://localhost:5000\";\n\n// =============================\n// AUTH ENDPOINTS\n// =============================\nexport const AUTH = {\n  register: `${API_BASE_URL}/auth/register`,\n  login: `${API_BASE_URL}/auth/login`,\n  me: `${API_BASE_URL}/auth/me`,  // optional\n};\n\n// =============================\n// DONOR ENDPOINTS\n// =============================\nexport const DONOR = {\n  donationHistory: (donorId: string) =>\n    `${API_BASE_URL}/donor/history/${donorId}`,\n\n  urgentRequests: `${API_BASE_URL}/donor/requests`,\n\n  addDonation: `${API_BASE_URL}/donor/add`,\n};\n\n// =============================\n// HOSPITAL ENDPOINTS\n// =============================\nexport const HOSPITAL = {\n  createRequest: `${API_BASE_URL}/request/add`,\n  getRequests: `${API_BASE_URL}/request/all`,\n};\n\n// =============================\n// RECIPIENT ENDPOINTS\n// =============================\nexport const RECIPIENT = {\n  getRequests: (recipientId: string) =>\n    `${API_BASE_URL}/recipient/requests/${recipientId}`,\n\n  requestStatus: (recipientId: string, requestId: string) =>\n    `${API_BASE_URL}/recipient/requests/${recipientId}/${requestId}`,\n};\n\n// =============================\n// REQUEST (General) ENDPOINTS\n// =============================\nexport const REQUEST = {\n  addRequest: `${API_BASE_URL}/request/add`,\n  getAllRequests: `${API_BASE_URL}/request/all`,\n};\n"],"names":[],"mappings":"AAAA,iDAAiD;;;;;;;;;;;;;;;AAC1C,MAAM,eAAe;AAKrB,MAAM,OAAO;IAClB,UAAU,GAAG,aAAa,cAAc,CAAC;IACzC,OAAO,GAAG,aAAa,WAAW,CAAC;IACnC,IAAI,GAAG,aAAa,QAAQ,CAAC;AAC/B;AAKO,MAAM,QAAQ;IACnB,iBAAiB,CAAC,UAChB,GAAG,aAAa,eAAe,EAAE,SAAS;IAE5C,gBAAgB,GAAG,aAAa,eAAe,CAAC;IAEhD,aAAa,GAAG,aAAa,UAAU,CAAC;AAC1C;AAKO,MAAM,WAAW;IACtB,eAAe,GAAG,aAAa,YAAY,CAAC;IAC5C,aAAa,GAAG,aAAa,YAAY,CAAC;AAC5C;AAKO,MAAM,YAAY;IACvB,aAAa,CAAC,cACZ,GAAG,aAAa,oBAAoB,EAAE,aAAa;IAErD,eAAe,CAAC,aAAqB,YACnC,GAAG,aAAa,oBAAoB,EAAE,YAAY,CAAC,EAAE,WAAW;AACpE;AAKO,MAAM,UAAU;IACrB,YAAY,GAAG,aAAa,YAAY,CAAC;IACzC,gBAAgB,GAAG,aAAa,YAAY,CAAC;AAC/C","debugId":null}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/harsh/Downloads/PulseBank-main/PulseBank-main/app/auth/page.tsx"],"sourcesContent":["\"use client\";\n\nimport type React from \"react\";\nimport { useState } from \"react\";\nimport { useSearchParams, useRouter } from \"next/navigation\";\nimport { Heart } from \"lucide-react\";\nimport Link from \"next/link\";\nimport { AUTH } from \"@/lib/api-endpoints\";\n\ntype UserType = \"hospital\" | \"donor\" | \"recipient\";\n\nexport default function Auth() {\n  const searchParams = useSearchParams();\n  const router = useRouter();\n\n  const [userType, setUserType] = useState<UserType>(\n    (searchParams.get(\"type\") as UserType) || \"donor\"\n  );\n\n  const [isLogin, setIsLogin] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\",\n    name: \"\",\n    phone: \"\",\n    bloodType: \"O+\",\n    hospitalName: \"\",\n    recipientName: \"\",\n  });\n\n  // Handle input\n  const handleInputChange = (\n    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\n  ) => {\n    const { name, value } = e.target;\n    setFormData((prev) => ({ ...prev, [name]: value }));\n  };\n\n  // ===============================\n  //  AUTH: LOGIN / REGISTER\n  // ===============================\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n\n    try {\n      // Prepare payload for backend\n      const payload = {\n        fullName:\n          userType === \"hospital\"\n            ? formData.hospitalName\n            : userType === \"donor\"\n              ? formData.name\n              : formData.recipientName,\n\n        email: formData.email,\n        phone: formData.phone,\n        password: formData.password,\n        bloodType: formData.bloodType, // ignored by hospital/recipient\n        role: userType,\n      };\n\n      let res;\n\n      if (isLogin) {\n        // LOGIN\n        res = await fetch(AUTH.login, {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({\n            email: formData.email,\n            password: formData.password,\n          }),\n        });\n      } else {\n        // REGISTER\n        res = await fetch(AUTH.register, {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify(payload),\n        });\n      }\n\n      const data = await res.json();\n\n      if (!res.ok) {\n        alert(data.message || \"Authentication failed\");\n        setLoading(false);\n        return;\n      }\n\n      // Save token + user info\n      if (data.token) {\n        localStorage.setItem(\"token\", data.token);\n      }\n\n      localStorage.setItem(\"user\", JSON.stringify(data.user));\n\n      // Redirect based on role\n      if (data.user.role === \"hospital\") {\n        router.push(\"/hospital/dashboard\");\n      } else if (data.user.role === \"donor\") {\n        router.push(\"/donor/dashboard\");\n      } else {\n        router.push(\"/recipient/dashboard\");\n      }\n    } catch (error) {\n      alert(\"Something went wrong!\");\n      console.error(error);\n    }\n\n    setLoading(false);\n  };\n\n  // UI LABEL CONFIG\n  const userTypeConfig = {\n    hospital: {\n      title: \"Hospital Registration\",\n      icon: \"üè•\",\n      color: \"from-red-600 to-red-700\",\n    },\n    donor: {\n      title: \"Become a Life Saver\",\n      icon: \"‚ù§Ô∏è\",\n      color: \"from-red-500 to-red-600\",\n    },\n    recipient: {\n      title: \"Request Blood\",\n      icon: \"ü©∏\",\n      color: \"from-red-600 to-red-800\",\n    },\n  };\n\n  const config = userTypeConfig[userType];\n\n  return (\n    <main className=\"min-h-screen bg-gradient-to-br from-white via-red-50 to-red-100 flex items-center justify-center p-4\">\n      <Link\n        href=\"/\"\n        className=\"absolute top-4 left-4 flex items-center gap-2 text-red-600 hover:text-red-700 font-semibold\"\n      >\n        <Heart className=\"w-5 h-5\" />\n        Pulse Bank\n      </Link>\n\n      <div className=\"w-full max-w-4xl\">\n        {/* User Type Selection */}\n        <div className=\"grid md:grid-cols-3 gap-4 mb-8\">\n          {([\"hospital\", \"donor\", \"recipient\"] as UserType[]).map((type) => (\n            <button\n              key={type}\n              onClick={() => setUserType(type)}\n              className={`p-6 rounded-xl border-2 transition transform hover:scale-105 ${\n                userType === type\n                  ? \"bg-red-600 text-white border-red-700 shadow-lg\"\n                  : \"bg-white text-gray-700 border-gray-200 hover:border-red-400\"\n              }`}\n            >\n              <div className=\"text-4xl mb-3\">\n                {type === \"hospital\"\n                  ? \"üè•\"\n                  : type === \"donor\"\n                    ? \"‚ù§Ô∏è\"\n                    : \"ü©∏\"}\n              </div>\n              <div className=\"font-semibold capitalize\">{type}</div>\n            </button>\n          ))}\n        </div>\n\n        {/* Main Form */}\n        <div className=\"bg-white rounded-2xl shadow-2xl overflow-hidden\">\n          <div className={`bg-gradient-to-r ${config.color} text-white p-8 text-center`}>\n            <div className=\"text-5xl mb-4\">{config.icon}</div>\n            <h1 className=\"text-3xl font-bold mb-2\">{config.title}</h1>\n            <p className=\"opacity-90\">\n              {isLogin ? \"Welcome back! Sign in to continue\" : \"Join our community and save lives\"}\n            </p>\n          </div>\n\n          {/* ===========================\n              FORM START\n          ============================ */}\n          <form onSubmit={handleSubmit} className=\"p-8 space-y-6\">\n            {/* NAME + EMAIL */}\n            <div className=\"grid md:grid-cols-2 gap-6\">\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                  {userType === \"hospital\"\n                    ? \"Hospital Name\"\n                    : userType === \"donor\"\n                      ? \"Full Name\"\n                      : \"Recipient Name\"}\n                </label>\n                <input\n                  type=\"text\"\n                  name={\n                    userType === \"hospital\"\n                      ? \"hospitalName\"\n                      : userType === \"donor\"\n                        ? \"name\"\n                        : \"recipientName\"\n                  }\n                  value={\n                    userType === \"hospital\"\n                      ? formData.hospitalName\n                      : userType === \"donor\"\n                        ? formData.name\n                        : formData.recipientName\n                  }\n                  onChange={handleInputChange}\n                  required\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-red-500\"\n                  placeholder=\"Enter name\"\n                />\n              </div>\n\n              {/* Email */}\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Email</label>\n                <input\n                  type=\"email\"\n                  name=\"email\"\n                  value={formData.email}\n                  onChange={handleInputChange}\n                  required\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-red-500\"\n                />\n              </div>\n            </div>\n\n            {/* PHONE + BLOOD TYPE / ETC */}\n            <div className=\"grid md:grid-cols-2 gap-6\">\n              {/* Phone */}\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                  Phone Number\n                </label>\n                <input\n                  type=\"tel\"\n                  name=\"phone\"\n                  value={formData.phone}\n                  onChange={handleInputChange}\n                  required\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-red-500\"\n                />\n              </div>\n\n              {/* Donor only: Blood Type */}\n              {userType === \"donor\" && (\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                    Blood Type\n                  </label>\n                  <select\n                    name=\"bloodType\"\n                    value={formData.bloodType}\n                    onChange={handleInputChange}\n                    className=\"w-full px-4 py-3 border rounded-lg focus:ring-red-500\"\n                  >\n                    {[\"O+\", \"O-\", \"A+\", \"A-\", \"B+\", \"B-\", \"AB+\", \"AB-\"].map((b) => (\n                      <option key={b} value={b}>\n                        {b}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n              )}\n            </div>\n\n            {/* PASSWORD */}\n            <div className=\"grid md:grid-cols-2 gap-6\">\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                  Password\n                </label>\n                <input\n                  type=\"password\"\n                  name=\"password\"\n                  value={formData.password}\n                  onChange={handleInputChange}\n                  required\n                  className=\"w-full px-4 py-3 border rounded-lg focus:ring-red-500\"\n                />\n              </div>\n\n              <div className=\"flex items-end\">\n                <button\n                  type=\"button\"\n                  onClick={() => setIsLogin(!isLogin)}\n                  className=\"text-red-600 hover:text-red-700 font-semibold text-sm\"\n                >\n                  {isLogin ? \"Create Account\" : \"Sign In Instead\"}\n                </button>\n              </div>\n            </div>\n\n            {/* SUBMIT */}\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full bg-red-600 text-white font-bold py-3 rounded-lg hover:bg-red-700 transition disabled:opacity-50\"\n            >\n              {loading ? \"Processing...\" : isLogin ? \"Sign In\" : \"Create Account\"}\n            </button>\n          </form>\n        </div>\n      </div>\n    </main>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;AACA;AAPA;;;;;;;AAWe,SAAS;IACtB,MAAM,eAAe,IAAA,qJAAe;IACpC,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EACtC,AAAC,aAAa,GAAG,CAAC,WAAwB;IAG5C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;QACvC,OAAO;QACP,UAAU;QACV,MAAM;QACN,OAAO;QACP,WAAW;QACX,cAAc;QACd,eAAe;IACjB;IAEA,eAAe;IACf,MAAM,oBAAoB,CACxB;QAEA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM;QAChC,YAAY,CAAC,OAAS,CAAC;gBAAE,GAAG,IAAI;gBAAE,CAAC,KAAK,EAAE;YAAM,CAAC;IACnD;IAEA,kCAAkC;IAClC,0BAA0B;IAC1B,kCAAkC;IAClC,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,WAAW;QAEX,IAAI;YACF,8BAA8B;YAC9B,MAAM,UAAU;gBACd,UACE,aAAa,aACT,SAAS,YAAY,GACrB,aAAa,UACX,SAAS,IAAI,GACb,SAAS,aAAa;gBAE9B,OAAO,SAAS,KAAK;gBACrB,OAAO,SAAS,KAAK;gBACrB,UAAU,SAAS,QAAQ;gBAC3B,WAAW,SAAS,SAAS;gBAC7B,MAAM;YACR;YAEA,IAAI;YAEJ,IAAI,SAAS;gBACX,QAAQ;gBACR,MAAM,MAAM,MAAM,+HAAI,CAAC,KAAK,EAAE;oBAC5B,QAAQ;oBACR,SAAS;wBAAE,gBAAgB;oBAAmB;oBAC9C,MAAM,KAAK,SAAS,CAAC;wBACnB,OAAO,SAAS,KAAK;wBACrB,UAAU,SAAS,QAAQ;oBAC7B;gBACF;YACF,OAAO;gBACL,WAAW;gBACX,MAAM,MAAM,MAAM,+HAAI,CAAC,QAAQ,EAAE;oBAC/B,QAAQ;oBACR,SAAS;wBAAE,gBAAgB;oBAAmB;oBAC9C,MAAM,KAAK,SAAS,CAAC;gBACvB;YACF;YAEA,MAAM,OAAO,MAAM,IAAI,IAAI;YAE3B,IAAI,CAAC,IAAI,EAAE,EAAE;gBACX,MAAM,KAAK,OAAO,IAAI;gBACtB,WAAW;gBACX;YACF;YAEA,yBAAyB;YACzB,IAAI,KAAK,KAAK,EAAE;gBACd,aAAa,OAAO,CAAC,SAAS,KAAK,KAAK;YAC1C;YAEA,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC,KAAK,IAAI;YAErD,yBAAyB;YACzB,IAAI,KAAK,IAAI,CAAC,IAAI,KAAK,YAAY;gBACjC,OAAO,IAAI,CAAC;YACd,OAAO,IAAI,KAAK,IAAI,CAAC,IAAI,KAAK,SAAS;gBACrC,OAAO,IAAI,CAAC;YACd,OAAO;gBACL,OAAO,IAAI,CAAC;YACd;QACF,EAAE,OAAO,OAAO;YACd,MAAM;YACN,QAAQ,KAAK,CAAC;QAChB;QAEA,WAAW;IACb;IAEA,kBAAkB;IAClB,MAAM,iBAAiB;QACrB,UAAU;YACR,OAAO;YACP,MAAM;YACN,OAAO;QACT;QACA,OAAO;YACL,OAAO;YACP,MAAM;YACN,OAAO;QACT;QACA,WAAW;YACT,OAAO;YACP,MAAM;YACN,OAAO;QACT;IACF;IAEA,MAAM,SAAS,cAAc,CAAC,SAAS;IAEvC,qBACE,8OAAC;QAAK,WAAU;;0BACd,8OAAC,uKAAI;gBACH,MAAK;gBACL,WAAU;;kCAEV,8OAAC,6MAAK;wBAAC,WAAU;;;;;;oBAAY;;;;;;;0BAI/B,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAI,WAAU;kCACZ,AAAC;4BAAC;4BAAY;4BAAS;yBAAY,CAAgB,GAAG,CAAC,CAAC,qBACvD,8OAAC;gCAEC,SAAS,IAAM,YAAY;gCAC3B,WAAW,CAAC,6DAA6D,EACvE,aAAa,OACT,mDACA,+DACJ;;kDAEF,8OAAC;wCAAI,WAAU;kDACZ,SAAS,aACN,OACA,SAAS,UACP,OACA;;;;;;kDAER,8OAAC;wCAAI,WAAU;kDAA4B;;;;;;;+BAftC;;;;;;;;;;kCAqBX,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAW,CAAC,iBAAiB,EAAE,OAAO,KAAK,CAAC,2BAA2B,CAAC;;kDAC3E,8OAAC;wCAAI,WAAU;kDAAiB,OAAO,IAAI;;;;;;kDAC3C,8OAAC;wCAAG,WAAU;kDAA2B,OAAO,KAAK;;;;;;kDACrD,8OAAC;wCAAE,WAAU;kDACV,UAAU,sCAAsC;;;;;;;;;;;;0CAOrD,8OAAC;gCAAK,UAAU;gCAAc,WAAU;;kDAEtC,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;;kEACC,8OAAC;wDAAM,WAAU;kEACd,aAAa,aACV,kBACA,aAAa,UACX,cACA;;;;;;kEAER,8OAAC;wDACC,MAAK;wDACL,MACE,aAAa,aACT,iBACA,aAAa,UACX,SACA;wDAER,OACE,aAAa,aACT,SAAS,YAAY,GACrB,aAAa,UACX,SAAS,IAAI,GACb,SAAS,aAAa;wDAE9B,UAAU;wDACV,QAAQ;wDACR,WAAU;wDACV,aAAY;;;;;;;;;;;;0DAKhB,8OAAC;;kEACC,8OAAC;wDAAM,WAAU;kEAAiD;;;;;;kEAClE,8OAAC;wDACC,MAAK;wDACL,MAAK;wDACL,OAAO,SAAS,KAAK;wDACrB,UAAU;wDACV,QAAQ;wDACR,WAAU;;;;;;;;;;;;;;;;;;kDAMhB,8OAAC;wCAAI,WAAU;;0DAEb,8OAAC;;kEACC,8OAAC;wDAAM,WAAU;kEAAiD;;;;;;kEAGlE,8OAAC;wDACC,MAAK;wDACL,MAAK;wDACL,OAAO,SAAS,KAAK;wDACrB,UAAU;wDACV,QAAQ;wDACR,WAAU;;;;;;;;;;;;4CAKb,aAAa,yBACZ,8OAAC;;kEACC,8OAAC;wDAAM,WAAU;kEAAiD;;;;;;kEAGlE,8OAAC;wDACC,MAAK;wDACL,OAAO,SAAS,SAAS;wDACzB,UAAU;wDACV,WAAU;kEAET;4DAAC;4DAAM;4DAAM;4DAAM;4DAAM;4DAAM;4DAAM;4DAAO;yDAAM,CAAC,GAAG,CAAC,CAAC,kBACvD,8OAAC;gEAAe,OAAO;0EACpB;+DADU;;;;;;;;;;;;;;;;;;;;;;kDAUvB,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;;kEACC,8OAAC;wDAAM,WAAU;kEAAiD;;;;;;kEAGlE,8OAAC;wDACC,MAAK;wDACL,MAAK;wDACL,OAAO,SAAS,QAAQ;wDACxB,UAAU;wDACV,QAAQ;wDACR,WAAU;;;;;;;;;;;;0DAId,8OAAC;gDAAI,WAAU;0DACb,cAAA,8OAAC;oDACC,MAAK;oDACL,SAAS,IAAM,WAAW,CAAC;oDAC3B,WAAU;8DAET,UAAU,mBAAmB;;;;;;;;;;;;;;;;;kDAMpC,8OAAC;wCACC,MAAK;wCACL,UAAU;wCACV,WAAU;kDAET,UAAU,kBAAkB,UAAU,YAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOjE","debugId":null}}]
}