{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/harsh/Downloads/PulseBank-main/PulseBank-main/hooks/useSocket.ts"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useRef } from \"react\"\r\nimport { io, Socket } from \"socket.io-client\"\r\n\r\nlet globalSocket: Socket | null = null\r\n\r\nexport function useSocket() {\r\n  const socketRef = useRef<Socket | null>(null)\r\n\r\n  useEffect(() => {\r\n    // Reuse global socket instance to avoid multiple connections\r\n    if (!globalSocket) {\r\n      globalSocket = io(\"http://localhost:5000\", {\r\n        reconnection: true,\r\n        reconnectionDelay: 1000,\r\n        reconnectionDelayMax: 5000,\r\n        reconnectionAttempts: 5,\r\n      })\r\n\r\n      globalSocket.on(\"connect\", () => {\r\n        console.log(\"âœ… Socket connected:\", globalSocket?.id)\r\n      })\r\n\r\n      globalSocket.on(\"disconnect\", () => {\r\n        console.log(\"âŒ Socket disconnected\")\r\n      })\r\n\r\n      globalSocket.on(\"error\", (error) => {\r\n        console.error(\"Socket error:\", error)\r\n      })\r\n    }\r\n\r\n    socketRef.current = globalSocket\r\n\r\n    return () => {\r\n      // Don't disconnect here; keep the socket alive for reuse\r\n    }\r\n  }, [])\r\n\r\n  return socketRef\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;AAKA,IAAI,eAA8B;AAE3B,SAAS;IACd,MAAM,YAAY,IAAA,+MAAM,EAAgB;IAExC,IAAA,kNAAS,EAAC;QACR,6DAA6D;QAC7D,IAAI,CAAC,cAAc;YACjB,eAAe,IAAA,8LAAE,EAAC,yBAAyB;gBACzC,cAAc;gBACd,mBAAmB;gBACnB,sBAAsB;gBACtB,sBAAsB;YACxB;YAEA,aAAa,EAAE,CAAC,WAAW;gBACzB,QAAQ,GAAG,CAAC,uBAAuB,cAAc;YACnD;YAEA,aAAa,EAAE,CAAC,cAAc;gBAC5B,QAAQ,GAAG,CAAC;YACd;YAEA,aAAa,EAAE,CAAC,SAAS,CAAC;gBACxB,QAAQ,KAAK,CAAC,iBAAiB;YACjC;QACF;QAEA,UAAU,OAAO,GAAG;QAEpB,OAAO;QACL,yDAAyD;QAC3D;IACF,GAAG,EAAE;IAEL,OAAO;AACT","debugId":null}},
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/harsh/Downloads/PulseBank-main/PulseBank-main/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 238, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/harsh/Downloads/PulseBank-main/PulseBank-main/components/blood-compatibility-chart.tsx"],"sourcesContent":["\"use client\"\n\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\n\nexport default function BloodCompatibilityChart() {\n  // Blood compatibility data: which blood types can receive from which types\n  const compatibilityData = {\n    \"O-\": {\n      canDonateTo: [\"O-\", \"O+\", \"A-\", \"A+\", \"B-\", \"B+\", \"AB-\", \"AB+\"],\n      canReceiveFrom: [\"O-\"],\n      description: \"Universal Donor\",\n    },\n    \"O+\": {\n      canDonateTo: [\"O+\", \"A+\", \"B+\", \"AB+\"],\n      canReceiveFrom: [\"O-\", \"O+\"],\n      description: \"Common Donor\",\n    },\n    \"A-\": {\n      canDonateTo: [\"A-\", \"A+\", \"AB-\", \"AB+\"],\n      canReceiveFrom: [\"O-\", \"A-\"],\n      description: \"Rh Negative\",\n    },\n    \"A+\": {\n      canDonateTo: [\"A+\", \"AB+\"],\n      canReceiveFrom: [\"O-\", \"O+\", \"A-\", \"A+\"],\n      description: \"Most Common\",\n    },\n    \"B-\": {\n      canDonateTo: [\"B-\", \"B+\", \"AB-\", \"AB+\"],\n      canReceiveFrom: [\"O-\", \"B-\"],\n      description: \"Rh Negative\",\n    },\n    \"B+\": {\n      canDonateTo: [\"B+\", \"AB+\"],\n      canReceiveFrom: [\"O-\", \"O+\", \"B-\", \"B+\"],\n      description: \"Common Type\",\n    },\n    \"AB-\": {\n      canDonateTo: [\"AB-\", \"AB+\"],\n      canReceiveFrom: [\"O-\", \"A-\", \"B-\", \"AB-\"],\n      description: \"Rh Negative\",\n    },\n    \"AB+\": {\n      canDonateTo: [\"AB+\"],\n      canReceiveFrom: [\"O-\", \"O+\", \"A-\", \"A+\", \"B-\", \"B+\", \"AB-\", \"AB+\"],\n      description: \"Universal Recipient\",\n    },\n  }\n\n  return (\n    <div className=\"w-full space-y-6\">\n      <Card className=\"border-2 border-red-200\">\n        <CardHeader className=\"bg-gradient-to-r from-red-50 to-red-100 border-b-2 border-red-200\">\n          <CardTitle className=\"text-2xl text-red-700\">Blood Type Compatibility Chart</CardTitle>\n          <CardDescription>Understand who can donate to whom and vice versa</CardDescription>\n        </CardHeader>\n        <CardContent className=\"pt-6\">\n          <div className=\"grid md:grid-cols-2 lg:grid-cols-4 gap-4\">\n            {Object.entries(compatibilityData).map(([bloodType, data]) => (\n              <div key={bloodType} className=\"border-2 border-red-200 rounded-lg p-4 hover:border-red-400 transition\">\n                <div className=\"mb-3\">\n                  <h3 className=\"text-2xl font-bold text-red-600\">{bloodType}</h3>\n                  <p className=\"text-xs text-gray-600 font-semibold\">{data.description}</p>\n                </div>\n\n                <div className=\"space-y-3 text-sm\">\n                  {/* Can Receive From */}\n                  <div className=\"bg-green-50 rounded p-2\">\n                    <p className=\"font-semibold text-green-700 mb-1\">Receives from:</p>\n                    <div className=\"flex flex-wrap gap-1\">\n                      {data.canReceiveFrom.map((type) => (\n                        <span key={type} className=\"bg-green-200 text-green-800 px-2 py-1 rounded text-xs font-bold\">\n                          {type}\n                        </span>\n                      ))}\n                    </div>\n                  </div>\n\n                  {/* Can Donate To */}\n                  <div className=\"bg-blue-50 rounded p-2\">\n                    <p className=\"font-semibold text-blue-700 mb-1\">Donates to:</p>\n                    <div className=\"flex flex-wrap gap-1\">\n                      {data.canDonateTo.map((type) => (\n                        <span key={type} className=\"bg-blue-200 text-blue-800 px-2 py-1 rounded text-xs font-bold\">\n                          {type}\n                        </span>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n\n          {/* Legend */}\n          <div className=\"mt-6 p-4 bg-gray-50 rounded-lg\">\n            <h4 className=\"font-semibold text-gray-800 mb-2\">Key Information:</h4>\n            <ul className=\"text-sm text-gray-700 space-y-1\">\n              <li>â€¢ O- is the universal donor (can give to everyone)</li>\n              <li>â€¢ AB+ is the universal recipient (can receive from everyone)</li>\n              <li>â€¢ Rh negative (-) can only donate to other negative types safely in most cases</li>\n              <li>â€¢ Always verify compatibility through medical professionals</li>\n            </ul>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS;IACtB,2EAA2E;IAC3E,MAAM,oBAAoB;QACxB,MAAM;YACJ,aAAa;gBAAC;gBAAM;gBAAM;gBAAM;gBAAM;gBAAM;gBAAM;gBAAO;aAAM;YAC/D,gBAAgB;gBAAC;aAAK;YACtB,aAAa;QACf;QACA,MAAM;YACJ,aAAa;gBAAC;gBAAM;gBAAM;gBAAM;aAAM;YACtC,gBAAgB;gBAAC;gBAAM;aAAK;YAC5B,aAAa;QACf;QACA,MAAM;YACJ,aAAa;gBAAC;gBAAM;gBAAM;gBAAO;aAAM;YACvC,gBAAgB;gBAAC;gBAAM;aAAK;YAC5B,aAAa;QACf;QACA,MAAM;YACJ,aAAa;gBAAC;gBAAM;aAAM;YAC1B,gBAAgB;gBAAC;gBAAM;gBAAM;gBAAM;aAAK;YACxC,aAAa;QACf;QACA,MAAM;YACJ,aAAa;gBAAC;gBAAM;gBAAM;gBAAO;aAAM;YACvC,gBAAgB;gBAAC;gBAAM;aAAK;YAC5B,aAAa;QACf;QACA,MAAM;YACJ,aAAa;gBAAC;gBAAM;aAAM;YAC1B,gBAAgB;gBAAC;gBAAM;gBAAM;gBAAM;aAAK;YACxC,aAAa;QACf;QACA,OAAO;YACL,aAAa;gBAAC;gBAAO;aAAM;YAC3B,gBAAgB;gBAAC;gBAAM;gBAAM;gBAAM;aAAM;YACzC,aAAa;QACf;QACA,OAAO;YACL,aAAa;gBAAC;aAAM;YACpB,gBAAgB;gBAAC;gBAAM;gBAAM;gBAAM;gBAAM;gBAAM;gBAAM;gBAAO;aAAM;YAClE,aAAa;QACf;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC,iIAAI;YAAC,WAAU;;8BACd,8OAAC,uIAAU;oBAAC,WAAU;;sCACpB,8OAAC,sIAAS;4BAAC,WAAU;sCAAwB;;;;;;sCAC7C,8OAAC,4IAAe;sCAAC;;;;;;;;;;;;8BAEnB,8OAAC,wIAAW;oBAAC,WAAU;;sCACrB,8OAAC;4BAAI,WAAU;sCACZ,OAAO,OAAO,CAAC,mBAAmB,GAAG,CAAC,CAAC,CAAC,WAAW,KAAK,iBACvD,8OAAC;oCAAoB,WAAU;;sDAC7B,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAG,WAAU;8DAAmC;;;;;;8DACjD,8OAAC;oDAAE,WAAU;8DAAuC,KAAK,WAAW;;;;;;;;;;;;sDAGtE,8OAAC;4CAAI,WAAU;;8DAEb,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAE,WAAU;sEAAoC;;;;;;sEACjD,8OAAC;4DAAI,WAAU;sEACZ,KAAK,cAAc,CAAC,GAAG,CAAC,CAAC,qBACxB,8OAAC;oEAAgB,WAAU;8EACxB;mEADQ;;;;;;;;;;;;;;;;8DAQjB,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAE,WAAU;sEAAmC;;;;;;sEAChD,8OAAC;4DAAI,WAAU;sEACZ,KAAK,WAAW,CAAC,GAAG,CAAC,CAAC,qBACrB,8OAAC;oEAAgB,WAAU;8EACxB;mEADQ;;;;;;;;;;;;;;;;;;;;;;;mCAxBX;;;;;;;;;;sCAoCd,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAG,WAAU;8CAAmC;;;;;;8CACjD,8OAAC;oCAAG,WAAU;;sDACZ,8OAAC;sDAAG;;;;;;sDACJ,8OAAC;sDAAG;;;;;;sDACJ,8OAAC;sDAAG;;;;;;sDACJ,8OAAC;sDAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOlB","debugId":null}},
    {"offset": {"line": 595, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/harsh/Downloads/PulseBank-main/PulseBank-main/components/profile-menu.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState, useRef } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { User } from \"lucide-react\";\r\n\r\nexport default function ProfileMenu() {\r\n  const [open, setOpen] = useState(false);\r\n  const [user, setUser] = useState<any | null>(null);\r\n  const ref = useRef<HTMLDivElement | null>(null);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    try {\r\n      const raw = localStorage.getItem(\"user\");\r\n      if (raw) setUser(JSON.parse(raw));\r\n    } catch (e) {\r\n      setUser(null);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const onDoc = (e: MouseEvent) => {\r\n      if (!ref.current) return;\r\n      if (!ref.current.contains(e.target as Node)) setOpen(false);\r\n    };\r\n    document.addEventListener(\"click\", onDoc);\r\n    return () => document.removeEventListener(\"click\", onDoc);\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"user\");\r\n    // navigate to home using Next router\r\n    router.push(\"/\");\r\n  };\r\n\r\n  return (\r\n    <div ref={ref} className=\"relative inline-block\">\r\n      <button\r\n        onClick={() => setOpen((s) => !s)}\r\n        className=\"flex items-center gap-2 p-2 rounded-full hover:bg-gray-100\"\r\n        aria-label=\"Profile\"\r\n      >\r\n        <div className=\"w-8 h-8 rounded-full bg-red-600 text-white flex items-center justify-center\">\r\n          {user?.fullName ? user.fullName.charAt(0).toUpperCase() : <User className=\"w-5 h-5\" />}\r\n        </div>\r\n      </button>\r\n\r\n      {open && (\r\n        <div className=\"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg border z-50\">\r\n          <div className=\"p-4\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"w-12 h-12 rounded-full bg-red-600 text-white flex items-center justify-center text-lg font-semibold\">\r\n                {user?.fullName ? user.fullName.charAt(0).toUpperCase() : \"U\"}\r\n              </div>\r\n              <div>\r\n                <div className=\"font-semibold\">{user?.fullName || \"Unknown\"}</div>\r\n                <div className=\"text-sm text-gray-500\">{user?.email || \"No email\"}</div>\r\n                <div className=\"text-xs text-gray-400\">{user?.role || \"guest\"}</div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mt-3 text-sm text-gray-700\">\r\n              {user?.phone && <div>Phone: {user.phone}</div>}\r\n              {user?.hospitalName && <div>Hospital: {user.hospitalName}</div>}\r\n            </div>\r\n\r\n            <div className=\"mt-4 flex gap-2\">\r\n              <button\r\n                onClick={() => { setOpen(false); router.push('/profile'); }}\r\n                className=\"flex-1 bg-gray-100 py-2 rounded-md text-sm\"\r\n              >\r\n                View Profile\r\n              </button>\r\n\r\n              <button\r\n                onClick={handleLogout}\r\n                className=\"flex-1 bg-red-600 text-white py-2 rounded-md text-sm\"\r\n              >\r\n                Logout\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAa;IAC7C,MAAM,MAAM,IAAA,+MAAM,EAAwB;IAC1C,MAAM,SAAS,IAAA,+IAAS;IAExB,IAAA,kNAAS,EAAC;QACR,IAAI;YACF,MAAM,MAAM,aAAa,OAAO,CAAC;YACjC,IAAI,KAAK,QAAQ,KAAK,KAAK,CAAC;QAC9B,EAAE,OAAO,GAAG;YACV,QAAQ;QACV;IACF,GAAG,EAAE;IAEL,IAAA,kNAAS,EAAC;QACR,MAAM,QAAQ,CAAC;YACb,IAAI,CAAC,IAAI,OAAO,EAAE;YAClB,IAAI,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,EAAE,MAAM,GAAW,QAAQ;QACvD;QACA,SAAS,gBAAgB,CAAC,SAAS;QACnC,OAAO,IAAM,SAAS,mBAAmB,CAAC,SAAS;IACrD,GAAG,EAAE;IAEL,MAAM,eAAe;QACnB,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QACxB,qCAAqC;QACrC,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,8OAAC;QAAI,KAAK;QAAK,WAAU;;0BACvB,8OAAC;gBACC,SAAS,IAAM,QAAQ,CAAC,IAAM,CAAC;gBAC/B,WAAU;gBACV,cAAW;0BAEX,cAAA,8OAAC;oBAAI,WAAU;8BACZ,MAAM,WAAW,KAAK,QAAQ,CAAC,MAAM,CAAC,GAAG,WAAW,mBAAK,8OAAC,0MAAI;wBAAC,WAAU;;;;;;;;;;;;;;;;YAI7E,sBACC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;8CACZ,MAAM,WAAW,KAAK,QAAQ,CAAC,MAAM,CAAC,GAAG,WAAW,KAAK;;;;;;8CAE5D,8OAAC;;sDACC,8OAAC;4CAAI,WAAU;sDAAiB,MAAM,YAAY;;;;;;sDAClD,8OAAC;4CAAI,WAAU;sDAAyB,MAAM,SAAS;;;;;;sDACvD,8OAAC;4CAAI,WAAU;sDAAyB,MAAM,QAAQ;;;;;;;;;;;;;;;;;;sCAI1D,8OAAC;4BAAI,WAAU;;gCACZ,MAAM,uBAAS,8OAAC;;wCAAI;wCAAQ,KAAK,KAAK;;;;;;;gCACtC,MAAM,8BAAgB,8OAAC;;wCAAI;wCAAW,KAAK,YAAY;;;;;;;;;;;;;sCAG1D,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,SAAS;wCAAQ,QAAQ;wCAAQ,OAAO,IAAI,CAAC;oCAAa;oCAC1D,WAAU;8CACX;;;;;;8CAID,8OAAC;oCACC,SAAS;oCACT,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASf","debugId":null}},
    {"offset": {"line": 797, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/harsh/Downloads/PulseBank-main/PulseBank-main/app/hospital/dashboard/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useSocket } from \"@/hooks/useSocket\";\nimport {\n  Heart,\n  AlertCircle,\n  Users,\n  Droplet,\n  TrendingDown,\n  LogOut,\n} from \"lucide-react\";\nimport Link from \"next/link\";\n\n// ðŸ‘‰ FIXED MAP (dynamic import prevents SSR errors)\nimport dynamic from \"next/dynamic\";\nconst HospitalMap = dynamic(() => import(\"@/components/HospitalMap\"), {\n  ssr: false,\n});\n\n// Existing components (unchanged)\nimport BloodCompatibilityChart from \"@/components/blood-compatibility-chart\";\nimport AIChatbot from \"@/components/ai-chatbot\";\nimport ProfileMenu from \"@/components/profile-menu\";\n// Correct URLs (backend runs on 5000)\nconst STATS_URL = \"http://localhost:5000/hospital/stats\";\nconst ACTIVE_DONORS_URL = \"http://localhost:5000/hospital/active-donors\";\nconst REQUESTS_URL = \"http://localhost:5000/request/all\";\n\n\nexport default function HospitalDashboard() {\n  const [hospitalName, setHospitalName] = useState(\"Hospital\");\n  const [hospitalId, setHospitalId] = useState<string | null>(null);\n  const [hospitalEmail, setHospitalEmail] = useState(\"\");\n  const [hospitalPhone, setHospitalPhone] = useState(\"\");\n  const [showProfileMenu, setShowProfileMenu] = useState(false);\n  const [requests, setRequests] = useState<any[]>([]);\n  const [hospitalRequests, setHospitalRequests] = useState<any[]>([]);\n  const [recipientRequests, setRecipientRequests] = useState<any[]>([]);\n  const [activeDonors, setActiveDonors] = useState<any[]>([]);\n  const [stats, setStats] = useState({\n    totalRequests: 0,\n    livesSaved: 0,\n    donorsNearby: 0,\n    avgMatchTime: 0,\n  });\n\n  const socketRef = useSocket();\n\n  const [isRefreshing, setIsRefreshing] = useState(false);\n\n  /* -----------------------------------------------\n     REFRESH ALL DATA\n  -----------------------------------------------*/\n  const handleRefresh = async () => {\n    setIsRefreshing(true);\n    try {\n      await Promise.all([\n        (async () => {\n          const res = await fetch(STATS_URL);\n          const data = await res.json();\n          setStats({\n            totalRequests: data.totalRequests || 0,\n            livesSaved: data.livesSaved || 0,\n            donorsNearby: data.donorsNearby || 0,\n            avgMatchTime: data.avgMatchTime || 0,\n          });\n        })(),\n        (async () => {\n          const res = await fetch(ACTIVE_DONORS_URL);\n          const data = await res.json();\n          setActiveDonors(data.activeDonors || []);\n        })(),\n        (async () => {\n          const res = await fetch(REQUESTS_URL);\n          const data = await res.json();\n          const allRequests = data.requests || [];\n          setRequests(allRequests);\n          setHospitalRequests(allRequests.filter((r: any) => r.hospital));\n          setRecipientRequests(allRequests.filter((r: any) => !r.hospital));\n        })(),\n      ]);\n    } catch (err) {\n      console.error(\"Refresh error:\", err);\n    } finally {\n      setIsRefreshing(false);\n    }\n  };\n\n  /* ----------------------------------------------\n     LOAD HOSPITAL NAME\n  -----------------------------------------------*/\n  useEffect(() => {\n    const stored = localStorage.getItem(\"user\");\n    if (stored) {\n      const user = JSON.parse(stored);\n      setHospitalName(user.fullName || \"Hospital\");\n      setHospitalId(user._id || null);\n      setHospitalEmail(user.email || \"\");\n      setHospitalPhone(user.phone || \"\");\n    }\n  }, []);\n\n  /* ----------------------------------------------\n     FETCH STATS\n  -----------------------------------------------*/\n  const loadStats = async () => {\n    try {\n      const res = await fetch(STATS_URL);\n      const data = await res.json();\n      if (data.success) {\n        setStats((prev) => ({\n          ...prev,\n          donorsNearby: data.donorsNearby,\n          avgMatchTime: data.avgMatchTime,\n        }));\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  /* ----------------------------------------------\n     FETCH ACTIVE DONORS\n  -----------------------------------------------*/\n  const loadActiveDonors = async () => {\n    try {\n      const res = await fetch(ACTIVE_DONORS_URL);\n      const data = await res.json();\n      if (data.success) {\n        setActiveDonors(data.donors || []);\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  /* ----------------------------------------------\n     FETCH REQUESTS\n  -----------------------------------------------*/\n  const loadRequests = async () => {\n    try {\n    const res = await fetch(REQUESTS_URL);\n\n      const data = await res.json();\n\n      const reqList = data.requests || [];\n      setRequests(reqList);\n\n      // Split requests: hospital-made vs recipient-made\n      const hospitals = reqList.filter((r: any) => r.hospital && r.hospital !== \"\");\n      const recipients = reqList.filter((r: any) => !r.hospital || r.hospital === \"\");\n      setHospitalRequests(hospitals);\n      setRecipientRequests(recipients);\n\n      setStats((prev) => ({\n        ...prev,\n        totalRequests: reqList.length,\n        livesSaved: Math.floor(reqList.length * 1.5),\n      }));\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  /* ----------------------------------------------\n     INITIAL LOAD + SOCKET LISTENER\n  -----------------------------------------------*/\n  useEffect(() => {\n    loadStats();\n    loadActiveDonors();\n    loadRequests();\n\n    const socket = socketRef.current;\n    if (!socket) return;\n\n    // Listen for donor availability changes\n    socket.on(\"donor_status_changed\", () => {\n      loadStats();\n      loadActiveDonors();\n    });\n\n    // Listen for new requests created by this hospital or other hospitals\n    socket.on(\"request_created\", (payload: any) => {\n      setRequests((prev) => [payload, ...prev]);\n      setStats((prev) => ({\n        ...prev,\n        totalRequests: prev.totalRequests + 1,\n      }));\n      console.log(\"New request created (real-time):\", payload);\n    });\n\n    // Listen for donor availability changes to refresh donor list\n    socket.on(\"availability_changed\", () => {\n      loadActiveDonors();\n      loadStats();\n    });\n    // Listen for request fulfilled (when hospital marks donation completed)\n    socket.on(\"request_fulfilled\", (payload: any) => {\n      // Remove fulfilled request from active requests\n      setHospitalRequests((prev) => prev.filter((r: any) => r._id !== payload.requestId));\n      setRecipientRequests((prev) => prev.filter((r: any) => r._id !== payload.requestId));\n      setRequests((prev) => prev.filter((r: any) => r._id !== payload.requestId));\n\n      // Update stats\n      setStats((prev) => ({\n        ...prev,\n        totalRequests: Math.max(0, prev.totalRequests - 1),\n      }));\n    });\n\n    return () => {\n      socket.off(\"donor_status_changed\");\n      socket.off(\"request_created\");\n      socket.off(\"availability_changed\");\n      socket.off(\"request_fulfilled\");\n    };\n  }, [socketRef]);\n\n  /* ----------------------------------------------\n     UI HELPERS\n  -----------------------------------------------*/\n  const getUrgencyColor = (urg: string) => {\n    switch (urg?.toUpperCase()) {\n      case \"CRITICAL\":\n        return \"bg-red-600 text-white\";\n      case \"HIGH\":\n        return \"bg-orange-500 text-white\";\n      case \"MODERATE\":\n        return \"bg-yellow-500 text-white\";\n      default:\n        return \"bg-green-500 text-white\";\n    }\n  };\n\n  const getStatusColor = (status: string) =>\n    status === \"Pending\"\n      ? \"bg-yellow-100 text-yellow-700\"\n      : status === \"Fulfilled\"\n      ? \"bg-green-100 text-green-700\"\n      : \"bg-gray-300 text-gray-700\";\n\n  /* ----------------------------------------------\n     RENDER UI\n  -----------------------------------------------*/\n  return (\n    <main className=\"min-h-screen bg-gradient-to-br from-white via-red-50 to-white\">\n      {/* HEADER */}\n      <header className=\"bg-gradient-to-r from-red-600 to-red-700 text-white p-6 sticky top-0 z-30 shadow-lg\">\n        <div className=\"max-w-7xl mx-auto flex justify-between items-center\">\n          <div className=\"flex items-center gap-3\">\n            <Heart className=\"w-8 h-8 fill-white\" />\n            <h1 className=\"text-3xl font-bold\">{hospitalName} Dashboard</h1>\n          </div>\n\n          <div className=\"flex items-center gap-3\">\n            <button\n              onClick={handleRefresh}\n              disabled={isRefreshing}\n              className=\"p-2 rounded-lg hover:bg-red-500 transition disabled:opacity-50 disabled:cursor-not-allowed\"\n              title=\"Refresh data\"\n            >\n              ðŸ”„\n            </button>\n            <ProfileMenu />\n            <Link\n              href=\"/\"\n              className=\"p-2 rounded-lg hover:bg-red-500 transition\"\n              onClick={() => localStorage.clear()}\n            >\n              <LogOut className=\"w-6 h-6\" />\n            </Link>\n          </div>\n        </div>\n      </header>\n\n      {/* MAIN BODY */}\n      <div className=\"max-w-7xl mx-auto p-6 space-y-12\">\n        {/* TOP CARD */}\n        <div className=\"bg-white rounded-xl shadow-lg overflow-hidden border-l-4 border-red-600\">\n          <div className=\"grid md:grid-cols-2 gap-6\">\n            <div className=\"p-8\">\n              <h2 className=\"text-3xl font-bold text-red-700\">{hospitalName}</h2>\n              <p className=\"text-gray-600\">Real-time donor coordination system</p>\n\n              <div className=\"mt-4 space-y-1 text-gray-800\">\n                <p>\n                  Active Requests: <b>{stats.totalRequests}</b>\n                </p>\n                <p>\n                  Lives Saved: <b>{stats.livesSaved}</b>\n                </p>\n              </div>\n            </div>\n\n            <div className=\"h-64 bg-gradient-to-br from-red-500 to-red-600 relative overflow-hidden\">\n              <img\n                src=\"/modern-hospital-medical-emergency-healthcare.jpg\"\n                alt=\"hospital\"\n                className=\"w-full h-full object-cover\"\n              />\n              <div className=\"absolute inset-0 bg-black/20 flex items-center justify-center\">\n                <Heart className=\"w-20 h-20 text-white opacity-80\" />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* MAP + STATS */}\n        <div className=\"bg-white p-6 rounded-xl shadow-lg\">\n          <div className=\"flex justify-between items-center mb-4\">\n            <h3 className=\"text-xl font-bold\">\n              Active Donors Nearby: {stats.donorsNearby}\n            </h3>\n            <Link\n              href=\"/hospital/new-request\"\n              className=\"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg font-semibold transition\"\n            >\n              + New Request\n            </Link>\n          </div>\n\n          <div className=\"w-full relative overflow-hidden h-96\">\n            <HospitalMap activeDonors={activeDonors} />\n          </div>\n        </div>\n\n        {/* LARGE STAT CARDS */}\n        <div className=\"grid md:grid-cols-4 gap-6\">\n          <StatCard icon={Users} label=\"Donors Nearby\" value={stats.donorsNearby} />\n          <StatCard icon={Droplet} label=\"Avg Match Time\" value={`${stats.avgMatchTime} min`} />\n          <StatCard icon={TrendingDown} label=\"Lives Saved\" value={stats.livesSaved} />\n          <StatCard icon={Heart} label=\"Active Requests\" value={stats.totalRequests} />\n        </div>\n\n        {/* BLOOD COMPATIBILITY */}\n        <BloodCompatibilityChart />\n\n        {/* REQUEST TABLES */}\n        <div className=\"space-y-8\">\n          {/* Hospital-created requests */}\n          <div className=\"bg-white rounded-xl shadow-lg p-8 border-2 border-red-200\">\n            <h2 className=\"text-2xl font-bold mb-4\">Hospital-Created Requests</h2>\n\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full\">\n                <thead>\n                  <tr className=\"border-b\">\n                    <th className=\"py-3 px-4 text-left\">Hospital</th>\n                    <th className=\"py-3 px-4 text-left\">Blood Type</th>\n                    <th className=\"py-3 px-4 text-left\">Units</th>\n                    <th className=\"py-3 px-4 text-left\">Urgency</th>\n                    <th className=\"py-3 px-4 text-left\">Status</th>\n                    <th className=\"py-3 px-4 text-left\">Confirmation</th>\n                  </tr>\n                </thead>\n\n                <tbody>\n                  {(hospitalRequests || []).map((req: any, i: number) => (\n                    <tr key={`h-${i}`} className=\"border-b hover:bg-red-50\">\n                      <td className=\"py-4 px-4\">{req.hospital || \"N/A\"}</td>\n                      <td className=\"py-4 px-4\">{req.bloodType}</td>\n                      <td className=\"py-4 px-4\">{req.unitsNeeded}</td>\n                      <td className=\"py-4 px-4\">\n                        <span\n                          className={`px-3 py-1 rounded-full text-xs ${getUrgencyColor(\n                            req.urgency,\n                          )}`}\n                        >\n                          {req.urgency}\n                        </span>\n                      </td>\n                      <td className=\"py-4 px-4\">\n                        <span\n                          className={`px-3 py-1 rounded-full text-xs ${getStatusColor(\n                            req.status,\n                          )}`}\n                        >\n                          {req.status}\n                        </span>\n                      </td>\n                      <td className=\"py-4 px-4\">\n                        <span className={`px-3 py-1 rounded-full text-xs ${\n                          req.confirmationStatus === \"Confirmed\" ? \"bg-green-100 text-green-700\" :\n                          req.confirmationStatus === \"Rejected\" ? \"bg-red-100 text-red-700\" :\n                          \"bg-gray-100 text-gray-700\"\n                        }`}>\n                          {req.confirmationStatus || \"Pending\"}\n                        </span>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n\n          {/* Recipient-created requests */}\n          <div className=\"bg-white rounded-xl shadow-lg p-8 border-2 border-rose-200\">\n            <h2 className=\"text-2xl font-bold mb-4\">Recipient-Created Requests</h2>\n\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full\">\n                <thead>\n                  <tr className=\"border-b\">\n                    <th className=\"py-3 px-4 text-left\">Recipient</th>\n                    <th className=\"py-3 px-4 text-left\">Blood Type</th>\n                    <th className=\"py-3 px-4 text-left\">Units</th>\n                    <th className=\"py-3 px-4 text-left\">Urgency</th>\n                    <th className=\"py-3 px-4 text-left\">Status</th>\n                    <th className=\"py-3 px-4 text-left\">Confirmation</th>\n                  </tr>\n                </thead>\n\n                <tbody>\n                  {(recipientRequests || []).map((req: any, i: number) => (\n                    <tr key={`r-${i}`} className=\"border-b hover:bg-rose-50\">\n                      <td className=\"py-4 px-4\">{req.requestedByName || req.requesterName || req.requestedBy || \"N/A\"}</td>\n                      <td className=\"py-4 px-4\">{req.bloodType}</td>\n                      <td className=\"py-4 px-4\">{req.unitsNeeded}</td>\n                      <td className=\"py-4 px-4\">\n                        <span\n                          className={`px-3 py-1 rounded-full text-xs ${getUrgencyColor(\n                            req.urgency,\n                          )}`}\n                        >\n                          {req.urgency}\n                        </span>\n                      </td>\n                      <td className=\"py-4 px-4\">\n                        <span\n                          className={`px-3 py-1 rounded-full text-xs ${getStatusColor(\n                            req.status,\n                          )}`}\n                        >\n                          {req.status}\n                        </span>\n                      </td>\n                      <td className=\"py-4 px-4\">\n                        <span className={`px-3 py-1 rounded-full text-xs ${\n                          req.confirmationStatus === \"Confirmed\" ? \"bg-green-100 text-green-700\" :\n                          req.confirmationStatus === \"Rejected\" ? \"bg-red-100 text-red-700\" :\n                          \"bg-gray-100 text-gray-700\"\n                        }`}>\n                          {req.confirmationStatus || \"Pending\"}\n                        </span>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n\n        {/* AI INFO */}\n        <div className=\"bg-green-50 border-l-4 border-green-600 rounded-xl p-6 shadow-lg\">\n          <AlertCircle className=\"w-6 h-6 text-green-600\" />\n          <p className=\"text-green-800 font-semibold mt-2\">\n            AI is now using REAL active donors for matching.\n          </p>\n        </div>\n      </div>\n\n      <AIChatbot />\n    </main>\n  );\n}\n\n/* ----------------------------------------------\n   STAT CARD COMPONENT\n-----------------------------------------------*/\nfunction StatCard({ icon: Icon, label, value }: any) {\n  return (\n    <div className=\"bg-linear-to-r from-red-500 to-red-700 text-white rounded-xl shadow-lg p-6\">\n      <div className=\"flex justify-between items-center mb-2\">\n        <h3 className=\"text-sm font-semibold\">{label}</h3>\n        <Icon className=\"w-6 h-6 opacity-80\" />\n      </div>\n      <p className=\"text-3xl font-bold\">{value}</p>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}