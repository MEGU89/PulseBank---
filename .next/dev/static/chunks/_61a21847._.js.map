{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/harsh/Downloads/PulseBank-main/PulseBank-main/components/RecipientHospitalMap.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport dynamic from \"next/dynamic\";\r\nimport { MapPin, Phone, Hospital, Navigation, Droplet } from \"lucide-react\";\r\n\r\nconst LeafletMap = dynamic(() => import(\"@/components/LeafletMap\"), { ssr: false });\r\n\r\nconst calculateDistance = (lat1: number, lon1: number, lat2: number, lon2: number) => {\r\n  const R = 6371; // Earth's radius in km\r\n  const dLat = ((lat2 - lat1) * Math.PI) / 180;\r\n  const dLon = ((lon2 - lon1) * Math.PI) / 180;\r\n  const a =\r\n    Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n    Math.cos((lat1 * Math.PI) / 180) *\r\n      Math.cos((lat2 * Math.PI) / 180) *\r\n      Math.sin(dLon / 2) *\r\n      Math.sin(dLon / 2);\r\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n  return R * c;\r\n};\r\n\r\n// Function to convert coordinates to readable address using reverse geocoding\r\nconst getAddressFromCoordinates = async (\r\n  latitude: number,\r\n  longitude: number\r\n): Promise<string> => {\r\n  try {\r\n    const response = await fetch(\r\n      `https://nominatim.openstreetmap.org/reverse?format=json&lat=${latitude}&lon=${longitude}&zoom=18&addressdetails=1`\r\n    );\r\n    const data = await response.json();\r\n\r\n    if (data.address) {\r\n      const addr = data.address;\r\n      const parts = [];\r\n\r\n      // Add house number and street if available\r\n      if (addr.house_number) parts.push(addr.house_number);\r\n      if (addr.road) parts.push(addr.road);\r\n\r\n      // Add suburb/neighbourhood/village (sector/area)\r\n      if (addr.suburb) parts.push(addr.suburb);\r\n      else if (addr.neighbourhood) parts.push(addr.neighbourhood);\r\n      else if (addr.village) parts.push(addr.village);\r\n      else if (addr.hamlet) parts.push(addr.hamlet);\r\n\r\n      // Add city/town\r\n      if (addr.city) parts.push(addr.city);\r\n      else if (addr.town) parts.push(addr.town);\r\n\r\n      // Add postcode/pincode\r\n      if (addr.postcode) parts.push(`Pin Code ${addr.postcode}`);\r\n\r\n      // Add state\r\n      if (addr.state) parts.push(addr.state);\r\n\r\n      // Add country\r\n      if (addr.country) parts.push(addr.country);\r\n\r\n      const fullAddress = parts.filter(Boolean).join(\", \");\r\n      return fullAddress || \"Location detected\";\r\n    }\r\n\r\n    return \"Location detected\";\r\n  } catch (err) {\r\n    console.error(\"Error fetching address:\", err);\r\n    return \"Location detected\";\r\n  }\r\n};\r\n\r\nexport default function RecipientHospitalMap({ recipientLocation, requests = [] }: any) {\r\n  const [hospitals, setHospitals] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [recipientLat, setRecipientLat] = useState(recipientLocation?.latitude || 21.1466);\r\n  const [recipientLon, setRecipientLon] = useState(recipientLocation?.longitude || 79.0889);\r\n  const [recipientAddress, setRecipientAddress] = useState<string | null>(null);\r\n  const [addressLoading, setAddressLoading] = useState(false);\r\n  const [selectedHospital, setSelectedHospital] = useState<any>(null);\r\n  const [selectedRequest, setSelectedRequest] = useState<any>(null);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  // Update location when prop changes and refetch hospitals\r\n  useEffect(() => {\r\n    if (recipientLocation && recipientLocation.latitude && recipientLocation.longitude) {\r\n      console.log(\"[RecipientHospitalMap] Location updated from prop:\", recipientLocation);\r\n      setRecipientLat(recipientLocation.latitude);\r\n      setRecipientLon(recipientLocation.longitude);\r\n      // Clear error when location changes so we fetch again\r\n      setError(null);\r\n      \r\n      // Fetch address from coordinates\r\n      setAddressLoading(true);\r\n      getAddressFromCoordinates(recipientLocation.latitude, recipientLocation.longitude)\r\n        .then((address) => {\r\n          setRecipientAddress(address);\r\n          setAddressLoading(false);\r\n        })\r\n        .catch((err) => {\r\n          console.error(\"Error getting address:\", err);\r\n          setAddressLoading(false);\r\n        });\r\n    }\r\n  }, [recipientLocation]);\r\n\r\n  // Get user location if not provided by prop\r\n  useEffect(() => {\r\n    if (!recipientLocation && navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(\r\n        async (position) => {\r\n          console.log(\"[RecipientHospitalMap] Got geolocation:\", position.coords);\r\n          setRecipientLat(position.coords.latitude);\r\n          setRecipientLon(position.coords.longitude);\r\n          \r\n          // Fetch address from coordinates\r\n          setAddressLoading(true);\r\n          try {\r\n            const address = await getAddressFromCoordinates(\r\n              position.coords.latitude,\r\n              position.coords.longitude\r\n            );\r\n            setRecipientAddress(address);\r\n          } catch (err) {\r\n            console.error(\"Error getting address:\", err);\r\n          } finally {\r\n            setAddressLoading(false);\r\n          }\r\n        },\r\n        (error) => {\r\n          console.log(\"[RecipientHospitalMap] Geolocation error - using default location:\", error);\r\n        }\r\n      );\r\n    }\r\n  }, [recipientLocation]);\r\n\r\n  useEffect(() => {\r\n    const fetchHospitals = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        setError(null);\r\n        console.log(\"[RecipientHospitalMap] Fetching hospitals for location:\", { recipientLat, recipientLon });\r\n        \r\n        const response = await fetch(\"http://localhost:5000/hospital/all\");\r\n        console.log(\"[RecipientHospitalMap] Response status:\", response.status);\r\n        \r\n        if (!response.ok) {\r\n          throw new Error(`API returned status ${response.status}`);\r\n        }\r\n        \r\n        const data = await response.json();\r\n        console.log(\"[RecipientHospitalMap] Hospital API Response:\", data);\r\n\r\n        if (data.success && data.hospitals && data.hospitals.length > 0) {\r\n          // Calculate distance for each hospital\r\n          const hospitalsWithDistance = data.hospitals.map((hospital: any) => {\r\n            const hospitalLat = hospital.location?.latitude || 21.1466;\r\n            const hospitalLon = hospital.location?.longitude || 79.0889;\r\n            \r\n            const distance = calculateDistance(\r\n              recipientLat,\r\n              recipientLon,\r\n              hospitalLat,\r\n              hospitalLon\r\n            );\r\n            \r\n            console.log(`[RecipientHospitalMap] Hospital: ${hospital.hospitalName}, Distance: ${distance} km`);\r\n            \r\n            return {\r\n              ...hospital,\r\n              distance: distance.toFixed(2),\r\n            };\r\n          });\r\n\r\n          // Filter hospitals within 0-50 km radius (increased from 20 km)\r\n          const nearbyHospitals = hospitalsWithDistance.filter((h: any) => {\r\n            const dist = parseFloat(h.distance);\r\n            return dist >= 0 && dist <= 50;\r\n          });\r\n\r\n          console.log(\"[RecipientHospitalMap] Nearby hospitals found:\", nearbyHospitals.length);\r\n\r\n          // Sort by distance\r\n          nearbyHospitals.sort((a: any, b: any) => \r\n            parseFloat(a.distance) - parseFloat(b.distance)\r\n          );\r\n\r\n          if (nearbyHospitals.length === 0) {\r\n            // Don't show error, just empty state - hospitals may not have saved locations\r\n            setError(null);\r\n            setHospitals([]); \r\n          } else {\r\n            setError(null); // Clear error when hospitals are found\r\n            setHospitals(nearbyHospitals);\r\n            console.log(\"[RecipientHospitalMap] Successfully loaded\", nearbyHospitals.length, \"hospitals\");\r\n          }\r\n        } else {\r\n          setError(null);\r\n          setHospitals([]);\r\n          console.log(\"[RecipientHospitalMap] No hospitals data:\", data);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"[RecipientHospitalMap] Error fetching hospitals:\", error);\r\n        setError(`Failed to fetch hospitals: ${error instanceof Error ? error.message : \"Unknown error\"}`);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchHospitals();\r\n  }, [recipientLat, recipientLon]);\r\n\r\n  // Prepare hospital data for map - use proper structure for LeafletMap\r\n  const hospitalsForMap = hospitals.map((hospital: any) => ({\r\n    location: {\r\n      latitude: hospital.location?.latitude || 21.1466,\r\n      longitude: hospital.location?.longitude || 79.0889\r\n    },\r\n    fullName: hospital.hospitalName || \"Hospital\",\r\n    bloodType: hospital.bloodType || \"Hospital\",\r\n  }));\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"bg-white rounded-2xl shadow-xl p-8 border-2 border-blue-200\">\r\n        <div className=\"flex items-center gap-3 mb-6\">\r\n          <Hospital className=\"w-8 h-8 text-blue-600\" />\r\n          <h2 className=\"text-3xl font-bold text-blue-700\">Nearby Hospitals</h2>\r\n        </div>\r\n        <div className=\"flex items-center justify-center h-96\">\r\n          <div className=\"text-center\">\r\n            <div className=\"inline-block w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin\"></div>\r\n            <p className=\"mt-4 text-gray-600 font-semibold\">Loading hospitals...</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"bg-white rounded-2xl shadow-xl p-8 border-2 border-red-200\">\r\n        <div className=\"flex items-center gap-3 mb-6\">\r\n          <Hospital className=\"w-8 h-8 text-red-600\" />\r\n          <h2 className=\"text-3xl font-bold text-red-700\">Nearby Hospitals</h2>\r\n        </div>\r\n        <div className=\"text-center py-12 bg-red-50 rounded-xl border-2 border-red-200\">\r\n          <Hospital className=\"w-12 h-12 text-red-300 mx-auto mb-3\" />\r\n          <p className=\"text-gray-700 font-semibold\">No hospital on your location</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-2xl shadow-xl p-8 border-2 border-blue-200\">\r\n      <div className=\"flex items-center gap-3 mb-6\">\r\n        <Hospital className=\"w-8 h-8 text-blue-600\" />\r\n        <h2 className=\"text-3xl font-bold text-blue-700\">Your Blood Requests & Nearby Hospitals</h2>\r\n      </div>\r\n\r\n      {/* RECIPIENT REQUESTS SECTION */}\r\n      {requests && requests.length > 0 && (\r\n        <div className=\"mb-8 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6 border-2 border-purple-200\">\r\n          <h3 className=\"text-lg font-bold text-purple-700 mb-4 flex items-center gap-2\">\r\n            <Droplet className=\"w-5 h-5 text-purple-600 fill-purple-600\" />\r\n            Your Active Blood Requests\r\n          </h3>\r\n          \r\n          <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n            {requests.map((request: any, index: number) => (\r\n              <div\r\n                key={index}\r\n                onClick={() => setSelectedRequest(request)}\r\n                className={`p-4 rounded-lg cursor-pointer transition-all border-2 ${\r\n                  selectedRequest?._id === request._id\r\n                    ? \"bg-purple-200 border-purple-600 shadow-lg\"\r\n                    : \"bg-white border-purple-200 hover:border-purple-400 hover:shadow-md\"\r\n                }`}\r\n              >\r\n                <div className=\"flex items-start justify-between mb-2\">\r\n                  <div className=\"flex-1\">\r\n                    <h4 className=\"font-bold text-gray-800\">RE-{request._id?.substring(0, 6).toUpperCase()}</h4>\r\n                    <p className=\"text-sm text-purple-700 font-semibold\">{request.bloodType}</p>\r\n                  </div>\r\n                  <span className=\"bg-purple-600 text-white text-xs font-bold px-2 py-1 rounded-full\">\r\n                    {request.unitsNeeded} units\r\n                  </span>\r\n                </div>\r\n                \r\n                <div className=\"text-xs text-gray-600 space-y-1\">\r\n                  <p><strong>Status:</strong> {request.status || \"Pending\"}</p>\r\n                  <p><strong>Urgency:</strong> {request.urgency || \"Moderate\"}</p>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Selected Request Details */}\r\n          {selectedRequest && (\r\n            <div className=\"mt-4 pt-4 border-t-2 border-purple-200\">\r\n              <h4 className=\"font-bold text-purple-700 mb-2\">Request Details: RE-{selectedRequest._id?.substring(0, 6).toUpperCase()}</h4>\r\n              <div className=\"grid md:grid-cols-3 gap-4\">\r\n                <div>\r\n                  <p className=\"text-xs font-bold text-purple-600 uppercase\">Blood Type</p>\r\n                  <p className=\"text-2xl font-bold text-red-600\">{selectedRequest.bloodType}</p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-xs font-bold text-purple-600 uppercase\">Units Needed</p>\r\n                  <p className=\"text-2xl font-bold text-orange-600\">{selectedRequest.unitsNeeded}</p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-xs font-bold text-purple-600 uppercase\">Status</p>\r\n                  <p className=\"text-xl font-bold text-blue-600\">{selectedRequest.status || \"Pending\"}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {hospitals.length === 0 ? (\r\n        <div className=\"text-center py-12 bg-blue-50 rounded-xl\">\r\n          <MapPin className=\"w-12 h-12 text-blue-300 mx-auto mb-3\" />\r\n          <p className=\"text-gray-600 font-semibold\">No hospitals found nearby</p>\r\n          <p className=\"text-sm text-gray-500 mt-2\">Hospitals may not have saved their locations yet. Check back later.</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"grid md:grid-cols-3 gap-6\">\r\n          {/* Map Section */}\r\n          <div className=\"md:col-span-2\">\r\n            <div className=\"rounded-xl overflow-hidden shadow-lg h-96 border-2 border-blue-100\">\r\n              <LeafletMap\r\n                hospitals={hospitalsForMap}\r\n                currentLocation={{ latitude: recipientLat, longitude: recipientLon }}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Hospital List Section */}\r\n          <div className=\"space-y-3 max-h-96 overflow-y-auto\">\r\n            <div className=\"bg-blue-50 rounded-lg p-3 border-l-4 border-blue-600\">\r\n              <p className=\"text-xs font-bold text-blue-700 uppercase tracking-wide\">üìç Hospitals Near You</p>\r\n              <p className=\"text-sm text-gray-600 mt-1\">{hospitals.length} hospitals found within 0-20 km</p>\r\n              {hospitals.length > 0 && (\r\n                <p className=\"text-xs text-gray-500 mt-2\">\r\n                  Your Location: {addressLoading ? <span className=\"italic\">Loading address...</span> : (recipientAddress || \"Location detected\")}\r\n                </p>\r\n              )}\r\n            </div>\r\n\r\n            {hospitals.map((hospital: any, index: number) => (\r\n              <div\r\n                key={index}\r\n                onClick={() => setSelectedHospital(hospital)}\r\n                className={`p-4 rounded-xl cursor-pointer transition-all duration-200 border-2 ${\r\n                  selectedHospital?.id === hospital.id\r\n                    ? \"bg-blue-100 border-blue-600 shadow-lg\"\r\n                    : \"bg-gradient-to-r from-white to-blue-50 border-blue-200 hover:border-blue-400 hover:shadow-md\"\r\n                }`}\r\n              >\r\n                <div className=\"flex items-start justify-between mb-2\">\r\n                  <h3 className=\"font-bold text-gray-800 text-sm line-clamp-2\">{hospital.hospitalName}</h3>\r\n                  <span className=\"bg-blue-600 text-white text-xs font-bold px-2 py-1 rounded-full flex-shrink-0 ml-1\">\r\n                    {hospital.distance} km\r\n                  </span>\r\n                </div>\r\n                \r\n                <div className=\"space-y-1 text-xs text-gray-600\">\r\n                  {hospital.phone && (\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Phone className=\"w-3 h-3 text-gray-400\" />\r\n                      <span className=\"truncate\">{hospital.phone}</span>\r\n                    </div>\r\n                  )}\r\n                  {hospital.location?.address && (\r\n                    <div className=\"flex items-start gap-2\">\r\n                      <MapPin className=\"w-3 h-3 text-gray-400 flex-shrink-0 mt-0.5\" />\r\n                      <span className=\"line-clamp-2\">{hospital.location.address}</span>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Distance Bar */}\r\n                <div className=\"mt-3 bg-gray-200 rounded-full h-2 overflow-hidden\">\r\n                  <div\r\n                    className=\"h-full bg-gradient-to-r from-blue-500 to-blue-600 transition-all\"\r\n                    style={{\r\n                      width: `${Math.max(\r\n                        10,\r\n                        100 - (parseFloat(hospital.distance) / Math.max(...hospitals.map((h: any) => parseFloat(h.distance)))) * 100\r\n                      )}%`,\r\n                    }}\r\n                  ></div>\r\n                </div>\r\n                <p className=\"text-xs text-gray-500 mt-1 flex items-center gap-1\">\r\n                  <Navigation className=\"w-3 h-3\" />\r\n                  {hospital.distance} km away\r\n                </p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Selected Hospital Details */}\r\n      {selectedHospital && (\r\n        <div className=\"mt-6 bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl p-6 border-l-4 border-blue-600\">\r\n          <h3 className=\"text-lg font-bold text-blue-700 mb-4 flex items-center gap-2\">\r\n            <Hospital className=\"w-5 h-5\" />\r\n            {selectedHospital.hospitalName}\r\n          </h3>\r\n          \r\n          <div className=\"grid md:grid-cols-2 gap-4\">\r\n            <div>\r\n              <p className=\"text-xs font-bold text-blue-600 uppercase tracking-wide mb-1\">Distance from You</p>\r\n              <p className=\"text-2xl font-bold text-blue-700\">{selectedHospital.distance} <span className=\"text-lg text-gray-600\">km</span></p>\r\n            </div>\r\n            \r\n            {selectedHospital.phone && (\r\n              <div>\r\n                <p className=\"text-xs font-bold text-blue-600 uppercase tracking-wide mb-1 flex items-center gap-1\">\r\n                  <Phone className=\"w-3 h-3\" />\r\n                  Contact\r\n                </p>\r\n                <a\r\n                  href={`tel:${selectedHospital.phone}`}\r\n                  className=\"text-lg font-bold text-blue-700 hover:underline\"\r\n                >\r\n                  {selectedHospital.phone}\r\n                </a>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {selectedHospital.location?.address && (\r\n            <div className=\"mt-4\">\r\n              <p className=\"text-xs font-bold text-blue-600 uppercase tracking-wide mb-1 flex items-center gap-1\">\r\n                <MapPin className=\"w-3 h-3\" />\r\n                Address\r\n              </p>\r\n              <p className=\"text-gray-700\">{selectedHospital.location.address}</p>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"mt-4 flex gap-2\">\r\n            <button\r\n              onClick={() => {\r\n                if (selectedHospital.phone) {\r\n                  window.location.href = `tel:${selectedHospital.phone}`;\r\n                }\r\n              }}\r\n              className=\"flex-1 px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition flex items-center justify-center gap-2\"\r\n            >\r\n              <Phone className=\"w-4 h-4\" />\r\n              Call Hospital\r\n            </button>\r\n            <button\r\n              onClick={() => {\r\n                if (selectedHospital.location) {\r\n                  window.open(\r\n                    `https://maps.google.com/?q=${selectedHospital.location.latitude},${selectedHospital.location.longitude}`,\r\n                    \"_blank\"\r\n                  );\r\n                }\r\n              }}\r\n              className=\"flex-1 px-4 py-2 bg-blue-100 text-blue-700 font-semibold rounded-lg hover:bg-blue-200 transition flex items-center justify-center gap-2\"\r\n            >\r\n              <Navigation className=\"w-4 h-4\" />\r\n              Get Directions\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1070, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/harsh/Downloads/PulseBank-main/PulseBank-main/lib/api-endpoints.ts"],"sourcesContent":["// Change this URL to your deployed backend later\nexport const API_BASE_URL = \"http://localhost:5000\";\n\n// =============================\n// AUTH ENDPOINTS\n// =============================\nexport const AUTH = {\n  register: `${API_BASE_URL}/auth/register`,\n  login: `${API_BASE_URL}/auth/login`,\n  me: `${API_BASE_URL}/auth/me`,  // optional\n};\n\n// =============================\n// DONOR ENDPOINTS\n// =============================\nexport const DONOR = {\n  donationHistory: (donorId: string) =>\n    `${API_BASE_URL}/donor/history/${donorId}`,\n\n  urgentRequests: `${API_BASE_URL}/donor/requests`,\n\n  addDonation: `${API_BASE_URL}/donor/add`,\n};\n\n// =============================\n// HOSPITAL ENDPOINTS\n// =============================\nexport const HOSPITAL = {\n  createRequest: `${API_BASE_URL}/request/add`,\n  getRequests: `${API_BASE_URL}/request/all`,\n};\n\n// =============================\n// RECIPIENT ENDPOINTS\n// =============================\nexport const RECIPIENT = {\n  getRequests: (recipientId: string) =>\n    `${API_BASE_URL}/recipient/requests/${recipientId}`,\n\n  requestStatus: (recipientId: string, requestId: string) =>\n    `${API_BASE_URL}/recipient/requests/${recipientId}/${requestId}`,\n};\n\n// =============================\n// REQUEST (General) ENDPOINTS\n// =============================\nexport const REQUEST = {\n  addRequest: `${API_BASE_URL}/request/add`,\n  getAllRequests: `${API_BASE_URL}/request/all`,\n};\n"],"names":[],"mappings":"AAAA,iDAAiD;;;;;;;;;;;;;;;AAC1C,MAAM,eAAe;AAKrB,MAAM,OAAO;IAClB,UAAU,GAAG,aAAa,cAAc,CAAC;IACzC,OAAO,GAAG,aAAa,WAAW,CAAC;IACnC,IAAI,GAAG,aAAa,QAAQ,CAAC;AAC/B;AAKO,MAAM,QAAQ;IACnB,iBAAiB,CAAC,UAChB,GAAG,aAAa,eAAe,EAAE,SAAS;IAE5C,gBAAgB,GAAG,aAAa,eAAe,CAAC;IAEhD,aAAa,GAAG,aAAa,UAAU,CAAC;AAC1C;AAKO,MAAM,WAAW;IACtB,eAAe,GAAG,aAAa,YAAY,CAAC;IAC5C,aAAa,GAAG,aAAa,YAAY,CAAC;AAC5C;AAKO,MAAM,YAAY;IACvB,aAAa,CAAC,cACZ,GAAG,aAAa,oBAAoB,EAAE,aAAa;IAErD,eAAe,CAAC,aAAqB,YACnC,GAAG,aAAa,oBAAoB,EAAE,YAAY,CAAC,EAAE,WAAW;AACpE;AAKO,MAAM,UAAU;IACrB,YAAY,GAAG,aAAa,YAAY,CAAC;IACzC,gBAAgB,GAAG,aAAa,YAAY,CAAC;AAC/C","debugId":null}},
    {"offset": {"line": 1115, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/harsh/Downloads/PulseBank-main/PulseBank-main/hooks/useSocket.ts"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useRef } from \"react\"\r\nimport { io, Socket } from \"socket.io-client\"\r\n\r\nlet globalSocket: Socket | null = null\r\n\r\nexport function useSocket() {\r\n  const socketRef = useRef<Socket | null>(null)\r\n\r\n  useEffect(() => {\r\n    // Reuse global socket instance to avoid multiple connections\r\n    if (!globalSocket) {\r\n      globalSocket = io(\"http://localhost:5000\", {\r\n        reconnection: true,\r\n        reconnectionDelay: 1000,\r\n        reconnectionDelayMax: 5000,\r\n        reconnectionAttempts: 5,\r\n      })\r\n\r\n      globalSocket.on(\"connect\", () => {\r\n        console.log(\"‚úÖ Socket connected:\", globalSocket?.id)\r\n      })\r\n\r\n      globalSocket.on(\"disconnect\", () => {\r\n        console.log(\"‚ùå Socket disconnected\")\r\n      })\r\n\r\n      globalSocket.on(\"error\", (error) => {\r\n        console.error(\"Socket error:\", error)\r\n      })\r\n    }\r\n\r\n    socketRef.current = globalSocket\r\n\r\n    return () => {\r\n      // Don't disconnect here; keep the socket alive for reuse\r\n    }\r\n  }, [])\r\n\r\n  return socketRef\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;;AAHA;;;AAKA,IAAI,eAA8B;AAE3B,SAAS;;IACd,MAAM,YAAY,IAAA,uKAAM,EAAgB;IAExC,IAAA,0KAAS;+BAAC;YACR,6DAA6D;YAC7D,IAAI,CAAC,cAAc;gBACjB,eAAe,IAAA,wLAAE,EAAC,yBAAyB;oBACzC,cAAc;oBACd,mBAAmB;oBACnB,sBAAsB;oBACtB,sBAAsB;gBACxB;gBAEA,aAAa,EAAE,CAAC;2CAAW;wBACzB,QAAQ,GAAG,CAAC,uBAAuB,cAAc;oBACnD;;gBAEA,aAAa,EAAE,CAAC;2CAAc;wBAC5B,QAAQ,GAAG,CAAC;oBACd;;gBAEA,aAAa,EAAE,CAAC;2CAAS,CAAC;wBACxB,QAAQ,KAAK,CAAC,iBAAiB;oBACjC;;YACF;YAEA,UAAU,OAAO,GAAG;YAEpB;uCAAO;gBACL,yDAAyD;gBAC3D;;QACF;8BAAG,EAAE;IAEL,OAAO;AACT;GAlCgB","debugId":null}},
    {"offset": {"line": 1173, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/harsh/Downloads/PulseBank-main/PulseBank-main/app/recipient/dashboard/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport dynamic from \"next/dynamic\";\nimport { Heart, Clock, CheckCircle, AlertCircle, Settings, LogOut, FileText, Calendar, Droplet } from \"lucide-react\";\nimport ProfileMenu from \"@/components/profile-menu\";\nimport RecipientHospitalMap from \"@/components/RecipientHospitalMap\";\nimport Link from \"next/link\";\nimport { jwtDecode } from \"jwt-decode\";\nimport { REQUEST } from \"@/lib/api-endpoints\";\nimport { useSocket } from \"@/hooks/useSocket\";\n\nexport default function RecipientDashboard() {\n  const [recipientId, setRecipientId] = useState<string | null>(null);\n  const [recipientName, setRecipientName] = useState(\"Recipient\");\n  const [recipientEmail, setRecipientEmail] = useState(\"\");\n  const [recipientPhone, setRecipientPhone] = useState(\"\");\n  const [recipientLocation, setRecipientLocation] = useState<any>(null);\n  const [recipientAddress, setRecipientAddress] = useState<string | null>(null);\n  const [addressLoading, setAddressLoading] = useState(false);\n  const [showProfileMenu, setShowProfileMenu] = useState(false);\n  const [requests, setRequests] = useState([]);\n  const [selectedRequest, setSelectedRequest] = useState<any | null>(null);\n  const [showDetailsModal, setShowDetailsModal] = useState(false);\n\n  const socketRef = useSocket();\n\n  const [isRefreshing, setIsRefreshing] = useState(false);\n\n  // Function to convert coordinates to readable address\n  const getAddressFromCoordinates = async (\n    latitude: number,\n    longitude: number\n  ): Promise<string> => {\n    try {\n      const response = await fetch(\n        `https://nominatim.openstreetmap.org/reverse?format=json&lat=${latitude}&lon=${longitude}&zoom=18&addressdetails=1`\n      );\n      const data = await response.json();\n\n      if (data.address) {\n        const addr = data.address;\n        const parts = [];\n\n        // Add house number and street if available\n        if (addr.house_number) parts.push(addr.house_number);\n        if (addr.road) parts.push(addr.road);\n\n        // Add suburb/neighbourhood/village (sector/area)\n        if (addr.suburb) parts.push(addr.suburb);\n        else if (addr.neighbourhood) parts.push(addr.neighbourhood);\n        else if (addr.village) parts.push(addr.village);\n        else if (addr.hamlet) parts.push(addr.hamlet);\n\n        // Add city/town\n        if (addr.city) parts.push(addr.city);\n        else if (addr.town) parts.push(addr.town);\n\n        // Add postcode/pincode\n        if (addr.postcode) parts.push(`Pin Code ${addr.postcode}`);\n\n        // Add state\n        if (addr.state) parts.push(addr.state);\n\n        // Add country\n        if (addr.country) parts.push(addr.country);\n\n        const fullAddress = parts.filter(Boolean).join(\", \");\n        return fullAddress || \"Location detected\";\n      }\n\n      return \"Location detected\";\n    } catch (err) {\n      console.error(\"Error fetching address:\", err);\n      return \"Location detected\";\n    }\n  };\n\n  /* --------------------------------\n     REFRESH REQUESTS\n  -------------------------------- */\n  const handleRefresh = async () => {\n    if (!recipientId) return;\n    setIsRefreshing(true);\n    try {\n      const res = await fetch(REQUEST.getAllRequests);\n      const data = await res.json();\n      const allRequests = data.requests || [];\n      const myRequests = allRequests.filter(\n        (req: any) => {\n          const requestedById = typeof req.requestedBy === 'object' ? req.requestedBy?._id : req.requestedBy;\n          return requestedById === recipientId && req.isRecipientRequest === true;\n        }\n      );\n      setRequests(myRequests);\n    } catch (err) {\n      console.error(\"Refresh error:\", err);\n    } finally {\n      setIsRefreshing(false);\n    }\n  };\n\n  // ------------------------------\n  // STEP 1: Decode JWT ‚Üí get recipientId & request geolocation\n  // ------------------------------\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    const stored = localStorage.getItem(\"user\");\n    if (token) {\n      try {\n        const decoded: any = jwtDecode(token);\n        if (decoded.role === \"recipient\") {\n          setRecipientId(decoded.userId);\n        }\n      } catch (err) {\n        console.error(\"Invalid token:\", err);\n      }\n    }\n    if (stored) {\n      const user = JSON.parse(stored);\n      setRecipientName(user.fullName || \"Recipient\");\n      setRecipientEmail(user.email || \"\");\n      setRecipientPhone(user.phone || \"\");\n    }\n\n    // Request current geolocation for accurate location\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(\n        async (position) => {\n          const loc = {\n            latitude: position.coords.latitude,\n            longitude: position.coords.longitude,\n          };\n          setRecipientLocation(loc);\n          console.log(\"Recipient location from geolocation:\", loc);\n          \n          // Fetch address from coordinates\n          setAddressLoading(true);\n          try {\n            const address = await getAddressFromCoordinates(\n              position.coords.latitude,\n              position.coords.longitude\n            );\n            setRecipientAddress(address);\n          } catch (err) {\n            console.error(\"Error getting address:\", err);\n          } finally {\n            setAddressLoading(false);\n          }\n        },\n        (err) => {\n          console.warn(\"Geolocation error:\", err);\n          // Fallback to stored location if geolocation fails\n          if (stored) {\n            const user = JSON.parse(stored);\n            if (user.location && user.location.latitude && user.location.longitude) {\n              setRecipientLocation(user.location);\n              console.log(\"Using stored location:\", user.location);\n              \n              // Fetch address from stored coordinates\n              setAddressLoading(true);\n              getAddressFromCoordinates(user.location.latitude, user.location.longitude)\n                .then((address) => {\n                  setRecipientAddress(address);\n                  setAddressLoading(false);\n                })\n                .catch((err) => {\n                  console.error(\"Error getting address:\", err);\n                  setAddressLoading(false);\n                });\n            }\n          }\n        },\n        { enableHighAccuracy: true, timeout: 15000 }\n      );\n    }\n  }, []);\n\n  // ------------------------------\n  // STEP 2: Fetch Blood Requests From Backend\n  // ------------------------------\n  useEffect(() => {\n    const socket = socketRef.current;\n    if (!socket) return;\n\n    // Listen for newly created requests (to display immediately on dashboard)\n    socket.on(\"request_created\", (payload: any) => {\n      console.log(\"New request created:\", payload);\n      // Check if this request belongs to the current recipient\n      if (payload && typeof payload === 'object') {\n        setRequests((prev) => [\n          {\n            ...payload,\n            status: payload.status || \"Pending\",\n            _id: payload._id || payload.requestId,\n            requestedBy: payload.requestedBy || recipientId,\n          },\n          ...prev\n        ]);\n      }\n    });\n\n    // Listen for request status updates (if hospital updates the request)\n    socket.on(\"request_updated\", (payload: any) => {\n      setRequests((prev) =>\n        prev.map((r: any) =>\n          r._id === payload._id ? { ...r, ...payload } : r\n        )\n      );\n    });\n\n    // Listen for availability changes from donors\n    socket.on(\"availability_changed\", () => {\n      console.log(\"Donor availability updated - refreshing requests\");\n    });\n\n    // Listen for request fulfilled events and remove fulfilled requests\n    socket.on(\"request_fulfilled\", (payload: any) => {\n      setRequests((prev) => prev.filter((r: any) => r._id !== payload.requestId));\n    });\n\n    return () => {\n      socket.off(\"request_created\");\n      socket.off(\"request_updated\");\n      socket.off(\"availability_changed\");\n      socket.off(\"request_fulfilled\");\n    };\n  }, [socketRef, recipientId]);\n\n  // ------------------------------\n  // STEP 3: Fetch Blood Requests From Backend\n  // ------------------------------\n  useEffect(() => {\n    if (!recipientId) return;\n\n    fetch(REQUEST.getAllRequests)\n      .then((res) => res.json())\n      .then((data) => {\n        const allRequests = data.requests || [];\n\n        // Filter only requests made by THIS recipient (exclude hospital requests)\n        const myRequests = allRequests.filter(\n          (req: any) => {\n            // Compare IDs - requestedBy can be an object with _id or a string\n            const requestedById = typeof req.requestedBy === 'object' ? req.requestedBy?._id : req.requestedBy;\n            // Only show requests where:\n            // 1. requestedBy matches this recipient's ID\n            // 2. AND it's marked as a recipient request (isRecipientRequest = true)\n            return requestedById === recipientId && req.isRecipientRequest === true;\n          }\n        );\n\n        // Filter only PENDING requests for the dashboard\n        // FULFILLED/SUCCESSFUL requests will show in history\n        const pendingRequests = myRequests.filter(\n          (req: any) => !req.status || (req.status.toLowerCase() !== \"fulfilled\" && req.status.toLowerCase() !== \"successful\")\n        );\n\n        setRequests(pendingRequests);\n        console.log(\"My recipient requests:\", pendingRequests);\n      })\n      .catch((err) => console.error(\"Request fetch error:\", err));\n  }, [recipientId]);\n\n  // --------------------------------\n  // Helpers for status design\n  // --------------------------------\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case \"Fulfilled\":\n        return \"text-green-600\";\n      case \"Pending\":\n        return \"text-orange-600\";\n      case \"Cancelled\":\n        return \"text-red-600\";\n      default:\n        return \"text-gray-600\";\n    }\n  };\n\n  const getStatusBgColor = (status: string) => {\n    switch (status) {\n      case \"Fulfilled\":\n        return \"bg-green-100\";\n      case \"Pending\":\n        return \"bg-orange-100\";\n      case \"Cancelled\":\n        return \"bg-red-100\";\n      default:\n        return \"bg-gray-100\";\n    }\n  };\n\n  const getConfirmationColor = (status: string) => {\n    switch (status) {\n      case \"Confirmed\":\n        return \"text-green-600 bg-green-100\";\n      case \"Rejected\":\n        return \"text-red-600 bg-red-100\";\n      default:\n        return \"text-gray-600 bg-gray-100\";\n    }\n  };\n\n  return (\n    <main className=\"min-h-screen bg-gradient-to-br from-white via-red-50 to-white\">\n      {/* Header */}\n      <header className=\"bg-gradient-to-r from-red-600 to-red-700 text-white p-6\">\n        <div className=\"max-w-7xl mx-auto flex justify-between items-center\">\n          <div className=\"flex items-center gap-3\">\n            <Heart className=\"w-8 h-8 fill-white\" />\n            <h1 className=\"text-3xl font-bold\">{recipientName}</h1>\n          </div>\n\n          <div className=\"flex items-center gap-3 relative\">\n            <button\n              onClick={() => setShowProfileMenu(!showProfileMenu)}\n              className=\"p-2 rounded-full hover:bg-red-500 transition bg-white text-red-600 w-10 h-10 flex items-center justify-center\"\n              title=\"Profile menu\"\n            >\n              üë§\n            </button>\n\n            {showProfileMenu && (\n              <div className=\"absolute right-0 top-12 bg-gradient-to-b from-white to-gray-50 text-gray-800 rounded-2xl shadow-2xl w-64 z-40 border border-red-100 overflow-hidden\">\n                {/* Profile Info Section */}\n                <div className=\"p-5 bg-gradient-to-r from-red-50 to-red-100 border-b-2 border-red-200\">\n                  <p className=\"font-bold text-lg text-red-700\">{recipientName}</p>\n                  <p className=\"text-sm text-gray-600 mt-1\">{recipientEmail}</p>\n                  <p className=\"text-sm text-gray-600\">{recipientPhone}</p>\n                </div>\n                \n                {/* Menu Items */}\n                <div className=\"py-2\">\n                  <Link\n                    href=\"/recipient/profile\"\n                    className=\"flex items-center gap-3 px-4 py-3 hover:bg-red-50 text-gray-800 transition border-l-4 border-transparent hover:border-red-600\"\n                    onClick={() => setShowProfileMenu(false)}\n                  >\n                    <FileText className=\"w-5 h-5 text-red-600\" />\n                    <span className=\"font-medium\">Edit Profile</span>\n                  </Link>\n                  <Link\n                    href=\"/recipient/history\"\n                    className=\"flex items-center gap-3 px-4 py-3 hover:bg-orange-50 text-gray-800 transition border-l-4 border-transparent hover:border-orange-600\"\n                    onClick={() => setShowProfileMenu(false)}\n                  >\n                    <Calendar className=\"w-5 h-5 text-orange-600\" />\n                    <span className=\"font-medium\">View History</span>\n                  </Link>\n                  <button\n                    onClick={() => {\n                      localStorage.clear();\n                      window.location.href = \"/\";\n                    }}\n                    className=\"w-full flex items-center gap-3 px-4 py-3 hover:bg-red-100 text-gray-800 transition border-l-4 border-transparent hover:border-red-700\"\n                  >\n                    <LogOut className=\"w-5 h-5 text-red-700\" />\n                    <span className=\"font-medium\">Logout</span>\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </header>\n\n      <div className=\"max-w-7xl mx-auto p-6 space-y-8\">\n        {/* Button: New Request */}\n        <div className=\"flex justify-between items-center\">\n          <h2 className=\"text-2xl font-bold\">Your Blood Requests</h2>\n          <Link\n            href=\"/recipient/create-request\"\n            className=\"px-6 py-2 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700 transition\"\n          >\n            + New Request\n          </Link>\n        </div>\n\n        {/* Request Cards */}\n        <div className=\"grid md:grid-cols-2 gap-6\">\n          {requests.length === 0 && (\n            <p className=\"text-gray-600 col-span-full\">You have not created any requests yet.</p>\n          )}\n\n          {requests.map((req: any, i: number) => (\n            <div\n              key={i}\n              className={`bg-gradient-to-br ${\n                req.status === \"Fulfilled\"\n                  ? \"from-green-50 to-white border-2 border-green-200\"\n                  : req.status === \"Pending\"\n                  ? \"from-orange-50 to-white border-2 border-orange-200\"\n                  : \"from-red-50 to-white border-2 border-red-200\"\n              } rounded-2xl shadow-xl p-6 hover:shadow-2xl transition`}\n            >\n              {/* Top Section */}\n              <div className=\"flex justify-between items-start mb-4\">\n                <div>\n                  <h3 className=\"text-sm text-gray-600 font-bold uppercase tracking-wide mb-2\">\n                    Blood Type Needed\n                  </h3>\n                  <div className=\"flex items-baseline gap-2\">\n                    <div className=\"text-4xl font-bold text-red-600\">{req.bloodType}</div>\n                    <div className=\"text-lg text-gray-600\">{req.unitsNeeded} units</div>\n                  </div>\n                </div>\n\n                {/* Status Badge */}\n                <div\n                  className={`inline-flex items-center gap-2 px-4 py-2 rounded-full font-bold text-sm ${getStatusBgColor(\n                    req.status\n                  )}`}\n                >\n                  {req.status === \"Fulfilled\" ? (\n                    <>\n                      <CheckCircle className=\"w-4 h-4 text-green-600\" />\n                      <span className=\"text-green-600\">Fulfilled</span>\n                    </>\n                  ) : (\n                    <>\n                      <Clock className=\"w-4 h-4 text-orange-600\" />\n                      <span className=\"text-orange-600\">Pending</span>\n                    </>\n                  )}\n                </div>\n              </div>\n\n              {/* Details Row */}\n              <div className=\"border-t border-gray-200 pt-4 mb-4 space-y-2\">\n                <div>\n                  <p className=\"text-xs text-gray-600 font-bold uppercase\">Hospital</p>\n                  <p className=\"text-gray-800 font-semibold\">{req.hospital || \"N/A\"}</p>\n                </div>\n                <div>\n                  <p className=\"text-xs text-gray-600 font-bold uppercase\">Urgency</p>\n                  <p className=\"text-orange-600 font-semibold\">{req.urgency || \"MODERATE\"}</p>\n                </div>\n              </div>\n\n              {/* Action Button */}\n              <button \n                onClick={() => {\n                  setSelectedRequest(req);\n                  setShowDetailsModal(true);\n                }}\n                className=\"w-full px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white font-semibold rounded-lg hover:shadow-lg transition mt-2\">\n                View Details\n              </button>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Details Modal */}\n      {showDetailsModal && selectedRequest && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-2xl shadow-2xl max-w-3xl w-full overflow-hidden\">\n            {/* Modal Header with Gradient */}\n            <div className=\"bg-gradient-to-r from-red-600 to-red-700 text-white p-8\">\n              <h2 className=\"text-3xl font-bold flex items-center gap-2\">\n                <Heart className=\"w-8 h-8 fill-white\" />\n                Blood Request Details\n              </h2>\n            </div>\n\n            {/* Modal Content */}\n            <div className=\"p-8 space-y-6 max-h-[70vh] overflow-y-auto\">\n              {/* Key Details Grid */}\n              <div className=\"grid md:grid-cols-3 gap-6\">\n                <div className=\"bg-red-50 rounded-xl p-5 border-2 border-red-200\">\n                  <h3 className=\"text-gray-600 font-bold text-xs uppercase mb-2\">Blood Type</h3>\n                  <p className=\"text-4xl font-bold text-red-600\">{selectedRequest.bloodType}</p>\n                </div>\n                <div className=\"bg-orange-50 rounded-xl p-5 border-2 border-orange-200\">\n                  <h3 className=\"text-gray-600 font-bold text-xs uppercase mb-2\">Units Needed</h3>\n                  <p className=\"text-4xl font-bold text-orange-600\">{selectedRequest.unitsNeeded}</p>\n                </div>\n                <div className={`rounded-xl p-5 border-2 ${selectedRequest.status === \"Fulfilled\" ? \"bg-green-50 border-green-200\" : \"bg-yellow-50 border-yellow-200\"}`}>\n                  <h3 className=\"text-gray-600 font-bold text-xs uppercase mb-2\">Status</h3>\n                  <p className={`text-xl font-bold ${selectedRequest.status === \"Fulfilled\" ? \"text-green-600\" : \"text-yellow-600\"}`}>\n                    {selectedRequest.status}\n                  </p>\n                </div>\n              </div>\n\n              {/* Additional Info */}\n              <div className=\"border-t-2 border-gray-200 pt-6\">\n                <h3 className=\"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2\">\n                  <AlertCircle className=\"w-6 h-6 text-red-600\" />\n                  Request Information\n                </h3>\n                <div className=\"grid md:grid-cols-2 gap-6\">\n                  <div>\n                    <p className=\"text-sm text-gray-600 font-bold uppercase mb-1\">Patient/Recipient Name</p>\n                    <p className=\"text-lg text-gray-800 font-semibold\">{selectedRequest.recipientName || \"N/A\"}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-gray-600 font-bold uppercase mb-1\">Hospital</p>\n                    <p className=\"text-lg text-gray-800\">{selectedRequest.hospital || \"N/A\"}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-gray-600 font-bold uppercase mb-1\">Urgency Level</p>\n                    <p className=\"text-lg text-orange-600 font-semibold\">{selectedRequest.urgency || \"MODERATE\"}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-gray-600 font-bold uppercase mb-1\">Confirmation Status</p>\n                    <p className={`text-lg font-semibold px-3 py-1 rounded inline-block ${getConfirmationColor(selectedRequest.confirmationStatus || \"Pending\")}`}>\n                      {selectedRequest.confirmationStatus || \"Pending\"}\n                    </p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-gray-600 font-bold uppercase mb-1\">Created</p>\n                    <p className=\"text-lg text-gray-800\">{new Date(selectedRequest.createdAt || Date.now()).toLocaleDateString()}</p>\n                  </div>\n                </div>\n              </div>\n\n              {/* Progress Timeline */}\n              <div className=\"border-t-2 border-gray-200 pt-6\">\n                <h3 className=\"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2\">\n                  <CheckCircle className=\"w-6 h-6 text-green-600\" />\n                  Request Progress\n                </h3>\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center gap-4\">\n                    <div className={`w-6 h-6 rounded-full ${selectedRequest.status ? \"bg-green-600\" : \"bg-gray-300\"}`}></div>\n                    <div>\n                      <p className=\"font-bold text-gray-800\">Request Created</p>\n                      <p className=\"text-sm text-gray-600\">{new Date(selectedRequest.createdAt || Date.now()).toLocaleString()}</p>\n                    </div>\n                  </div>\n                  {selectedRequest.status === \"Fulfilled\" && (\n                    <>\n                      <div className=\"flex items-center gap-4\">\n                        <div className=\"w-6 h-6 rounded-full bg-green-600\"></div>\n                        <div>\n                          <p className=\"font-bold text-gray-800\">Donor Matched</p>\n                          <p className=\"text-sm text-gray-600\">Blood type compatibility confirmed</p>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center gap-4\">\n                        <div className=\"w-6 h-6 rounded-full bg-green-600\"></div>\n                        <div>\n                          <p className=\"font-bold text-gray-800\">Donation Scheduled</p>\n                          <p className=\"text-sm text-gray-600\">Blood scheduled for delivery</p>\n                        </div>\n                      </div>\n                    </>\n                  )}\n                </div>\n              </div>\n            </div>\n\n            {/* Modal Footer */}\n            <div className=\"bg-gray-50 p-8 border-t-2 border-gray-200 flex justify-end gap-4\">\n              <button\n                onClick={() => setShowDetailsModal(false)}\n                className=\"px-8 py-3 bg-gray-300 text-gray-800 font-bold rounded-lg hover:bg-gray-400 transition\"\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* RECIPIENT INFORMATION & STATS SECTION */}\n      <div className=\"max-w-7xl mx-auto p-6\">\n        <RecipientInfoSection recipientName={recipientName} requests={requests} />\n      </div>\n\n      {/* NEARBY HOSPITALS MAP SECTION */}\n      <div className=\"max-w-7xl mx-auto p-6\">\n        <RecipientHospitalMap recipientLocation={recipientLocation} requests={requests} />\n      </div>\n\n      {/* BLOOD TYPE INFORMATION FOR RECIPIENTS */}\n      <div className=\"max-w-7xl mx-auto p-6\">\n        <BloodTypeForRecipients />\n      </div>\n    </main>\n  );\n}\n\n/* RECIPIENT INFORMATION & STATS */\nfunction RecipientInfoSection({ recipientName, requests }: any) {\n  const pendingRequests = requests.filter((r: any) => r.status !== \"Fulfilled\");\n  const totalRequests = requests.length;\n  \n  return (\n    <div className=\"bg-white rounded-2xl shadow-xl p-8\">\n      <h2 className=\"text-3xl font-bold text-red-700 mb-6 flex items-center gap-2\">\n        <Heart className=\"w-8 h-8 fill-red-600\" />\n        Your Blood Request Overview\n      </h2>\n      \n      <div className=\"grid md:grid-cols-3 gap-6\">\n        {/* Active Requests */}\n        <div className=\"bg-gradient-to-br from-orange-50 to-orange-100 rounded-2xl p-6 border-2 border-orange-300 shadow-lg hover:shadow-xl transition\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600 font-bold uppercase mb-2\">Active Requests</p>\n              <p className=\"text-4xl font-bold text-orange-600\">{pendingRequests.length}</p>\n            </div>\n            <div className=\"bg-orange-600 text-white p-4 rounded-full\">\n              <AlertCircle className=\"w-8 h-8\" />\n            </div>\n          </div>\n          <p className=\"text-xs text-gray-600 mt-3\">Awaiting donor match and donation</p>\n        </div>\n\n        {/* Total Requests */}\n        <div className=\"bg-gradient-to-br from-red-50 to-red-100 rounded-2xl p-6 border-2 border-red-300 shadow-lg hover:shadow-xl transition\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600 font-bold uppercase mb-2\">Total Requests</p>\n              <p className=\"text-4xl font-bold text-red-600\">{totalRequests}</p>\n            </div>\n            <div className=\"bg-red-600 text-white p-4 rounded-full\">\n              <Heart className=\"w-8 h-8 fill-white\" />\n            </div>\n          </div>\n          <p className=\"text-xs text-gray-600 mt-3\">All requests created</p>\n        </div>\n\n        {/* Fulfilled Requests */}\n        <div className=\"bg-gradient-to-br from-green-50 to-green-100 rounded-2xl p-6 border-2 border-green-300 shadow-lg hover:shadow-xl transition\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600 font-bold uppercase mb-2\">Fulfilled</p>\n              <p className=\"text-4xl font-bold text-green-600\">{totalRequests - pendingRequests.length}</p>\n            </div>\n            <div className=\"bg-green-600 text-white p-4 rounded-full\">\n              <CheckCircle className=\"w-8 h-8\" />\n            </div>\n          </div>\n          <p className=\"text-xs text-gray-600 mt-3\">Successfully matched & received</p>\n        </div>\n      </div>\n\n      {/* Tips for Recipients */}\n      <div className=\"mt-8 bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl p-6 border-l-4 border-blue-600\">\n        <h3 className=\"text-lg font-bold text-blue-700 mb-3 flex items-center gap-2\">\n          <AlertCircle className=\"w-5 h-5\" />\n          Tips for Your Request\n        </h3>\n        <ul className=\"space-y-2 text-sm text-gray-700\">\n          <li className=\"flex items-start gap-2\"><CheckCircle className=\"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5\" /> <span><strong>Provide Complete Information:</strong> The more details you provide, the faster donors can match.</span></li>\n          <li className=\"flex items-start gap-2\"><CheckCircle className=\"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5\" /> <span><strong>Update Your Location:</strong> Helps nearby donors find you quickly.</span></li>\n          <li className=\"flex items-start gap-2\"><CheckCircle className=\"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5\" /> <span><strong>Check Status Regularly:</strong> Visit your request details to see matching progress.</span></li>\n          <li className=\"flex items-start gap-2\"><CheckCircle className=\"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5\" /> <span><strong>Contact Hospital:</strong> If urgent, reach out to your hospital directly.</span></li>\n        </ul>\n      </div>\n    </div>\n  );\n}\n\n/* BLOOD TYPE INFORMATION FOR RECIPIENTS */\nfunction BloodTypeForRecipients() {\n  const bloodTypeInfo = [\n    {\n      type: \"O-\",\n      icon: \"‚¨õ\",\n      receives: \"O- only\",\n      description: \"Rarest blood type. Can only receive O- blood.\",\n      color: \"from-red-100 to-red-200\",\n      border: \"border-red-400\"\n    },\n    {\n      type: \"O+\",\n      icon: \"‚ö™\",\n      receives: \"O+, O-\",\n      description: \"Can receive from O donors (most common donors)\",\n      color: \"from-red-50 to-red-100\",\n      border: \"border-red-300\"\n    },\n    {\n      type: \"A-\",\n      icon: \"‚¨õ\",\n      receives: \"A-, O-\",\n      description: \"Can receive from A- and O- donors\",\n      color: \"from-rose-100 to-rose-200\",\n      border: \"border-rose-400\"\n    },\n    {\n      type: \"A+\",\n      icon: \"‚ö™\",\n      receives: \"A+, A-, O+, O-\",\n      description: \"Can receive from A and O donors\",\n      color: \"from-red-50 to-red-100\",\n      border: \"border-red-300\"\n    },\n    {\n      type: \"B-\",\n      icon: \"‚¨õ\",\n      receives: \"B-, O-\",\n      description: \"Can receive from B- and O- donors\",\n      color: \"from-rose-100 to-rose-200\",\n      border: \"border-rose-400\"\n    },\n    {\n      type: \"B+\",\n      icon: \"‚ö™\",\n      receives: \"B+, B-, O+, O-\",\n      description: \"Can receive from B and O donors\",\n      color: \"from-red-50 to-red-100\",\n      border: \"border-red-300\"\n    },\n    {\n      type: \"AB-\",\n      icon: \"‚¨õ\",\n      receives: \"AB-, A-, B-, O-\",\n      description: \"Can receive from A, B, and O negative donors\",\n      color: \"from-pink-100 to-pink-200\",\n      border: \"border-pink-400\"\n    },\n    {\n      type: \"AB+\",\n      icon: \"‚ö™\",\n      receives: \"All types\",\n      description: \"Universal recipient! Can receive from anyone.\",\n      color: \"from-red-200 to-red-300\",\n      border: \"border-red-500\"\n    },\n  ];\n\n  return (\n    <div className=\"mt-10 p-8 bg-gradient-to-r from-white via-red-50 to-white rounded-2xl shadow-lg border-2 border-red-200\">\n      <h2 className=\"text-3xl font-bold text-red-700 mb-2 flex items-center gap-2\">\n        <Heart className=\"w-8 h-8 fill-red-600\" /> Blood Type Information for Recipients\n      </h2>\n      <p className=\"text-gray-600 mb-6 text-sm\">Know which blood types can help you</p>\n\n      <div className=\"grid md:grid-cols-2 lg:grid-cols-4 gap-4\">\n        {bloodTypeInfo.map((b, i) => (\n          <div\n            key={i}\n            className={`bg-gradient-to-br ${b.color} p-5 rounded-2xl shadow-lg border-2 ${b.border} hover:shadow-xl transition-all duration-300 transform hover:scale-105`}\n          >\n            <div className=\"mb-3\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <h3 className=\"font-bold text-3xl text-gray-900\">{b.type}</h3>\n                <span className=\"text-3xl\">{b.icon}</span>\n              </div>\n              <p className=\"text-xs text-gray-700 font-semibold italic\">\"{b.description}\"</p>\n            </div>\n            \n            <div className=\"bg-white bg-opacity-70 rounded-lg p-3 mt-3\">\n              <p className=\"text-xs font-bold text-gray-800 mb-2 flex items-center gap-1\"><Droplet className=\"w-3 h-3 text-red-600 fill-red-600\" /> Can receive from:</p>\n              <p className=\"text-sm font-bold text-red-700\">{b.receives}</p>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      <div className=\"mt-8 bg-gradient-to-r from-green-50 to-green-100 rounded-xl p-5 border-l-4 border-green-600\">\n        <p className=\"text-sm text-gray-700\">\n          <span className=\"font-bold text-green-700 flex items-center gap-2 mb-2\"><Heart className=\"w-4 h-4 fill-green-600 text-green-600\" /> Know Your Type:</span> If you have AB+ blood type, you're a universal recipient and can receive blood from any donor - a huge advantage! Check your blood type if you don't know it yet.\n        </p>\n      </div>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"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","debugId":null}}]
}