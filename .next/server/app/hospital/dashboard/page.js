(()=>{var e={};e.id=537,e.ids=[537],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},1282:e=>{"use strict";e.exports=require("child_process")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},7529:()=>{},6804:()=>{},8645:()=>{},5734:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>d}),s(1858),s(9064),s(5866);var r=s(3191),a=s(8716),o=s(7922),n=s.n(o),i=s(5231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(t,l);let d=["",{children:["hospital",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1858)),"C:\\Users\\harsh\\Downloads\\PulseBank-main\\PulseBank-main\\app\\hospital\\dashboard\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9064)),"C:\\Users\\harsh\\Downloads\\PulseBank-main\\PulseBank-main\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\harsh\\Downloads\\PulseBank-main\\PulseBank-main\\app\\hospital\\dashboard\\page.tsx"],x="/hospital/dashboard/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/hospital/dashboard/page",pathname:"/hospital/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},777:(e,t,s)=>{Promise.resolve().then(s.bind(s,4452))},1540:(e,t,s)=>{Promise.resolve().then(s.bind(s,5974)),Promise.resolve().then(s.bind(s,3708))},4332:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},4452:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>j});var r=s(326),a=s(7577),o=s(1264),n=s(7427),i=s(6283),l=s(7358),d=s(1810),c=s(7650),x=s(1291),m=s(3855),u=s(5562),h=s(4061),p=s(6762),b=s(7069),g=s(434),f=s(3265),y=s(5974);let v=(0,f.default)(async()=>{},{loadableGenerated:{modules:["app\\hospital\\dashboard\\page.tsx -> @/components/HospitalMap"]},ssr:!1});function j(){let[e,t]=(0,a.useState)("Hospital"),[s,f]=(0,a.useState)(null),[j,k]=(0,a.useState)(""),[P,S]=(0,a.useState)(""),[B,C]=(0,a.useState)(""),[D,q]=(0,a.useState)(null),[A,Z]=(0,a.useState)(!1),[R,T]=(0,a.useState)(!1),[H,E]=(0,a.useState)(!1),[I,_]=(0,a.useState)([]),[U,$]=(0,a.useState)([]),[M,z]=(0,a.useState)([]),[O,L]=(0,a.useState)([]),[G,F]=(0,a.useState)({totalRequests:0,livesSaved:0,donorsNearby:0,avgMatchTime:0});(0,o.s)();let[J,V]=(0,a.useState)(!1),W=async()=>{if(!s){console.log("Hospital ID not available yet");return}if(!navigator.geolocation){console.error("Geolocation not supported"),E(!0);return}console.log("Requesting geolocation permission..."),T(!0),navigator.geolocation.getCurrentPosition(async e=>{let{latitude:t,longitude:r}=e.coords;console.log(`Location obtained: ${t}, ${r}`),q({latitude:t,longitude:r}),T(!1);try{if(!s){console.error("Hospital ID not available. Please log in again."),T(!1),alert("Hospital ID not found. Please log out and log in again.");return}let e=await fetch("http://localhost:5000/hospital/update-location",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hospitalId:s,latitude:t,longitude:r})});if(!e.ok){let t=await e.json().catch(()=>({}));console.error(`Failed to update location: HTTP ${e.status}`),console.error("Error response:",t),404===e.status?"Hospital not found. Please log in again."===t.message?(console.error(`Hospital record not found in database for ID: ${s}`),console.warn("Your hospital account may have been deleted. Clearing session..."),localStorage.removeItem("user"),alert("Your hospital account was not found in the system. Please log in again."),window.location.href="/auth?type=hospital"):(console.error("Backend endpoint not found. Ensure the backend server is running on http://localhost:5000"),alert("Location update failed. Please ensure backend server is running and try again.")):400===e.status?(console.error("Bad request:",t.message),alert("Missing required location data. Please try again.")):alert(`Error updating location: HTTP ${e.status}`),T(!1);return}let a=await e.json();a.success?console.log("Hospital location updated successfully:",a.hospital):(console.error("Failed to update location:",a.message),"Hospital not found. Please log in again."===a.message&&(localStorage.removeItem("user"),console.warn("Hospital record not found. Redirecting to login..."),window.location.href="/auth?type=hospital"))}catch(e){console.error("Error updating hospital location:",e),e instanceof TypeError&&e.message.includes("fetch")&&(console.error("Network error: Could not reach backend server at http://localhost:5000. Is the server running?"),alert("Could not connect to backend server. Please ensure it's running on port 5000.")),T(!1)}},e=>{console.warn("Geolocation error:",e),T(!1),e.code===e.PERMISSION_DENIED?(E(!0),console.log("Location permission denied by user")):e.code===e.TIMEOUT?console.log("Location request timed out - user can retry"):console.log("Location unavailable - will prompt user to retry")},{timeout:1e4,enableHighAccuracy:!0})},Y=e=>{switch(e?.toUpperCase()){case"CRITICAL":return"bg-red-600 text-white";case"HIGH":return"bg-orange-500 text-white";case"MODERATE":return"bg-yellow-500 text-white";default:return"bg-green-500 text-white"}},K=e=>"Pending"===e?"bg-yellow-100 text-yellow-700":"Fulfilled"===e?"bg-green-100 text-green-700":"bg-gray-300 text-gray-700";return(0,r.jsxs)("main",{className:"min-h-screen bg-gradient-to-br from-white via-red-50 to-white",children:[r.jsx("header",{className:"bg-gradient-to-r from-red-600 to-red-700 text-white p-6 sticky top-0 z-30 shadow-lg",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx(n.Z,{className:"w-8 h-8 fill-white"}),r.jsx("h1",{className:"text-3xl font-bold",children:e})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 relative",children:[r.jsx("button",{onClick:()=>Z(!A),className:"p-2 rounded-full hover:bg-red-500 transition bg-white text-red-600 w-10 h-10 flex items-center justify-center",title:"Profile menu",children:"\uD83D\uDC64"}),A&&(0,r.jsxs)("div",{className:"absolute right-0 top-12 bg-gradient-to-b from-white to-gray-50 text-gray-800 rounded-2xl shadow-2xl w-64 z-40 border border-red-100 overflow-hidden",children:[(0,r.jsxs)("div",{className:"p-5 bg-gradient-to-r from-red-50 to-red-100 border-b-2 border-red-200",children:[r.jsx("p",{className:"font-bold text-lg text-red-700",children:e}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:j}),r.jsx("p",{className:"text-sm text-gray-600",children:P})]}),(0,r.jsxs)("div",{className:"py-2",children:[(0,r.jsxs)(g.default,{href:"/hospital/profile",className:"flex items-center gap-3 px-4 py-3 hover:bg-red-50 text-gray-800 transition border-l-4 border-transparent hover:border-red-600",onClick:()=>Z(!1),children:[r.jsx(i.Z,{className:"w-5 h-5 text-red-600"}),r.jsx("span",{className:"font-medium",children:"Edit Profile"})]}),(0,r.jsxs)(g.default,{href:"/hospital/history",className:"flex items-center gap-3 px-4 py-3 hover:bg-blue-50 text-gray-800 transition border-l-4 border-transparent hover:border-blue-600",onClick:()=>Z(!1),children:[r.jsx(l.Z,{className:"w-5 h-5 text-blue-600"}),r.jsx("span",{className:"font-medium",children:"View History"})]}),(0,r.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),window.location.href="/"},className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-red-100 text-gray-800 transition border-l-4 border-transparent hover:border-red-700",children:[r.jsx(d.Z,{className:"w-5 h-5 text-red-700"}),r.jsx("span",{className:"font-medium",children:"Logout"})]})]})]})]})]})}),R&&r.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-600 p-4 mx-6 mt-4 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx(c.Z,{className:"w-5 h-5 text-blue-600 animate-pulse"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-semibold text-blue-900",children:"Enabling Location Sharing"}),r.jsx("p",{className:"text-sm text-blue-700",children:"Please allow location access so nearby recipients can find you..."})]})]})}),H&&r.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-600 p-4 mx-6 mt-4 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx(x.Z,{className:"w-5 h-5 text-amber-600"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-semibold text-amber-900",children:"Location Permission Denied"}),r.jsx("p",{className:"text-sm text-amber-700",children:"Recipients won't be able to find your hospital. Please enable location in your browser settings."})]})]}),r.jsx("button",{onClick:()=>{E(!1),W()},className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 text-sm font-medium",children:"Retry"})]})}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto p-6 space-y-12",children:[(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden border-l-4 border-red-600 grid md:grid-cols-2",children:[(0,r.jsxs)("div",{className:"p-10",children:[r.jsx("h2",{className:"text-3xl font-bold text-red-700",children:"Welcome back!"}),r.jsx("p",{className:"text-gray-700 mt-2",children:"Thanks for coordinating blood donations and saving lives."}),r.jsx("div",{className:"mt-6 flex gap-4",children:(0,r.jsxs)(g.default,{href:"/hospital/new-request",className:"bg-gradient-to-r from-red-600 to-red-700 text-white px-6 py-3 rounded-lg flex items-center gap-2 font-semibold hover:shadow-lg transition",children:[r.jsx(m.Z,{className:"w-5 h-5"})," New Request"]})})]}),r.jsx("div",{className:"bg-gradient-to-br from-red-50 via-red-100 to-red-200 flex items-center justify-center p-4 min-h-[280px]",children:B?r.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:r.jsx("img",{src:B,alt:"Hospital profile",className:"max-w-full max-h-[250px] rounded-lg shadow-2xl object-contain"})}):(0,r.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[r.jsx(n.Z,{className:"text-red-600 w-20 h-20"}),r.jsx("p",{className:"text-red-600 text-sm font-medium",children:"Upload your photo"})]})})]}),(0,r.jsxs)("div",{className:"mt-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("h2",{className:"text-3xl font-bold text-red-700 flex items-center gap-2",children:[r.jsx(u.Z,{className:"w-8 h-8"}),"Active Donors Nearby"]}),(0,r.jsxs)("span",{className:"bg-gradient-to-r from-green-500 to-green-600 text-white px-4 py-2 rounded-full font-semibold",children:[G.donorsNearby," Donors Online"]})]}),G.donorsNearby>0&&r.jsx("div",{className:"bg-white rounded-2xl shadow-2xl border-2 border-red-100 overflow-hidden relative z-10",style:{height:"500px"},children:r.jsx(v,{activeDonors:O})}),0===G.donorsNearby&&r.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-2xl shadow-2xl border-2 border-amber-200 p-8 text-center",style:{height:"500px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsxs)("div",{children:[r.jsx(x.Z,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),r.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No Donors Online"}),r.jsx("p",{className:"text-gray-600",children:"No donors are currently available in your area. Check back soon!"})]})})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-4 gap-6",children:[r.jsx(N,{icon:h.Z,label:"Donors Nearby",value:G.donorsNearby,color:"from-green-500 to-green-600"}),r.jsx(N,{icon:p.Z,label:"Avg Match Time",value:`${G.avgMatchTime} min`,color:"from-red-600 to-red-700"}),r.jsx(N,{icon:b.Z,label:"Lives Saved",value:G.livesSaved,color:"from-green-500 to-green-600"}),r.jsx(N,{icon:n.Z,label:"Active Requests",value:G.totalRequests,color:"from-red-500 to-red-600"})]}),r.jsx(w,{}),(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 border-2 border-red-200",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(p.Z,{className:"w-8 h-8 text-red-600"}),r.jsx("h2",{className:"text-3xl font-bold text-red-700",children:"Hospital Requests"})]}),0===(U||[]).length?(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx(p.Z,{className:"w-16 h-16 text-gray-300 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-500 text-lg",children:"No hospital requests yet"})]}):r.jsx("div",{className:"space-y-4",children:(U||[]).map((e,t)=>r.jsx("div",{className:"p-6 border-2 border-red-100 rounded-xl hover:shadow-lg transition bg-gradient-to-r from-red-50 to-white",children:(0,r.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-6 gap-4 items-center",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1",children:"Patient Name"}),r.jsx("p",{className:"font-bold text-gray-900",children:e.recipientName||e.patientName||e.requestedBy?.fullName||e.requestedByName||"N/A"})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1",children:"Blood Type"}),r.jsx("p",{className:"font-bold text-red-600 text-lg",children:e.bloodType})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1",children:"Units"}),r.jsx("p",{className:"font-bold text-gray-900",children:e.unitsNeeded})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1",children:"Urgency"}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold inline-block ${Y(e.urgency)}`,children:e.urgency})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1",children:"Status"}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold inline-block ${K(e.status)}`,children:e.status})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1",children:"Confirmation"}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold inline-block ${"Confirmed"===e.confirmationStatus?"bg-green-100 text-green-700":"Rejected"===e.confirmationStatus?"bg-red-100 text-red-700":"Successful"===e.confirmationStatus?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:e.confirmationStatus||"Pending"})]})]})},`h-${t}`))})]}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 border-2 border-purple-200",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(n.Z,{className:"w-8 h-8 text-purple-600"}),r.jsx("h2",{className:"text-3xl font-bold text-purple-700",children:"Recipient Requests"})]}),0===(M||[]).length?(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx(n.Z,{className:"w-16 h-16 text-gray-300 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-500 text-lg",children:"No recipient requests yet"})]}):r.jsx("div",{className:"space-y-4",children:(M||[]).map((e,t)=>r.jsx("div",{className:"p-6 border-2 border-purple-100 rounded-xl hover:shadow-lg transition bg-gradient-to-r from-purple-50 to-white",children:(0,r.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-6 gap-4 items-center",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1",children:"Recipient"}),r.jsx("p",{className:"font-bold text-gray-900",children:e.recipientName||e.requestedBy?.fullName||e.requestedByName||e.requesterName||("string"==typeof e.requestedBy?e.requestedBy:"N/A")})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1",children:"Blood Type"}),r.jsx("p",{className:"font-bold text-red-600 text-lg",children:e.bloodType})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1",children:"Units"}),r.jsx("p",{className:"font-bold text-gray-900",children:e.unitsNeeded})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1",children:"Urgency"}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold inline-block ${Y(e.urgency)}`,children:e.urgency})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1",children:"Status"}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold inline-block ${K(e.status)}`,children:e.status})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1",children:"Confirmation"}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold inline-block ${"Confirmed"===e.confirmationStatus?"bg-green-100 text-green-700":"Rejected"===e.confirmationStatus?"bg-red-100 text-red-700":"Successful"===e.confirmationStatus?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:e.confirmationStatus||"Pending"})]})]})},`r-${t}`))})]})]})]}),r.jsx(y.default,{})]})}function N({icon:e,label:t,value:s,color:a="from-red-500 to-red-700"}){return(0,r.jsxs)("div",{className:`bg-gradient-to-r ${a} text-white rounded-2xl shadow-xl p-6 hover:shadow-2xl transition transform hover:scale-105`,children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("h3",{className:"text-sm font-semibold",children:t}),r.jsx(e,{className:"w-6 h-6 opacity-90"})]}),r.jsx("p",{className:"text-4xl font-bold",children:s})]})}function w(){return(0,r.jsxs)("div",{className:"mt-10 p-8 bg-gradient-to-r from-white via-blue-50 to-white rounded-2xl shadow-lg border-2 border-blue-200",children:[(0,r.jsxs)("h2",{className:"text-3xl font-bold text-red-700 mb-2 flex items-center gap-2",children:[r.jsx("span",{className:"text-4xl",children:"\uD83E\uDE7A"})," Blood Compatibility Chart"]}),r.jsx("p",{className:"text-gray-600 mb-6 text-sm",children:"Understand which blood types can be used for transfusions and donations"}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{type:"O-",badge:"\uD83C\uDF1F Universal Donor",donate:["Everyone"],description:"Rarest hero - can save anyone",bg:"bg-gradient-to-br from-red-100 to-red-200",border:"border-red-400"},{type:"O+",badge:"Most Common",donate:["O+","A+","B+","AB+"],description:"Help positive blood types",bg:"bg-gradient-to-br from-red-100 to-red-200",border:"border-red-400"},{type:"A-",badge:"Rare Giver",donate:["A-","A+","AB-","AB+"],description:"Support 4 blood types",bg:"bg-gradient-to-br from-rose-100 to-rose-200",border:"border-rose-400"},{type:"A+",badge:"Common",donate:["A+","AB+"],description:"Help A and AB types",bg:"bg-gradient-to-br from-red-50 to-red-100",border:"border-red-300"},{type:"B-",badge:"Rare Giver",donate:["B-","B+","AB-","AB+"],description:"Support 4 blood types",bg:"bg-gradient-to-br from-rose-100 to-rose-200",border:"border-rose-400"},{type:"B+",badge:"Common",donate:["B+","AB+"],description:"Help B and AB types",bg:"bg-gradient-to-br from-red-50 to-red-100",border:"border-red-300"},{type:"AB-",badge:"Rarest",donate:["AB-","AB+"],description:"Precious for AB types",bg:"bg-gradient-to-br from-pink-100 to-pink-200",border:"border-pink-400"},{type:"AB+",badge:"\uD83C\uDF1F Universal Recipient",donate:["AB+"],description:"Can receive from anyone",bg:"bg-gradient-to-br from-red-200 to-red-300",border:"border-red-500"}].map((e,t)=>(0,r.jsxs)("div",{className:`${e.bg} p-5 rounded-2xl shadow-lg border-2 ${e.border} hover:shadow-xl transition-all duration-300 transform hover:scale-105`,children:[r.jsx("div",{className:"flex items-start justify-between mb-3",children:(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-bold text-2xl text-gray-900 mb-1",children:e.type}),r.jsx("span",{className:"inline-block bg-white px-3 py-1 rounded-full text-xs font-bold text-gray-700 shadow-sm",children:e.badge})]})}),(0,r.jsxs)("p",{className:"text-xs text-gray-700 font-semibold mb-3 italic",children:['"',e.description,'"']}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-bold text-gray-800 mb-2",children:"\uD83D\uDC89 Donates to:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e.donate.map((e,t)=>r.jsx("span",{className:"px-3 py-1.5 bg-white font-bold text-gray-800 rounded-lg text-xs shadow border-2 border-gray-300",children:e},t))})]})]},t))}),r.jsx("div",{className:"mt-8 bg-gradient-to-r from-red-50 to-pink-50 rounded-xl p-5 border-l-4 border-red-600",children:(0,r.jsxs)("p",{className:"text-sm text-gray-700",children:[r.jsx("span",{className:"font-bold text-red-700",children:"\uD83D\uDCA1 Pro Tip:"})," O- blood type donors are the most sought after because they can donate to anyone. AB+ recipients can receive from all blood types. Understanding compatibility helps you plan better blood requests."]})})]})}},5974:(e,t,s)=>{"use strict";s.d(t,{default:()=>p});var r=s(326),a=s(7577),o=s(6438),n=s(9360),i=s(1135),l=s(1009);let d=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function c({className:e,variant:t,size:s,asChild:a=!1,...n}){let c=a?o.g7:"button";return r.jsx(c,{"data-slot":"button",className:function(...e){return(0,l.m6)((0,i.W)(e))}(d({variant:t,size:s,className:e})),...n})}var x=s(9730),m=s(4019),u=s(7506),h=s(9436);function p(){let[e,t]=(0,a.useState)(!1),[s,o]=(0,a.useState)([]),[n,i]=(0,a.useState)(""),[l,d]=(0,a.useState)(!1),p=(0,a.useRef)(null),[b,g]=(0,a.useState)(void 0);if(null==b)return null;let f=async()=>{if(!n.trim())return;let e={id:Date.now().toString(),text:n,sender:"user",timestamp:new Date};o(t=>[...t,e]),i(""),d(!0);try{let e=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:n,conversationHistory:s,user:null})}),t=await e.json(),r={id:(Date.now()+1).toString(),text:t.reply||"Sorry, I couldn't process that. Please try again.",sender:"bot",timestamp:new Date};o(e=>[...e,r])}catch(t){console.error("Error sending message:",t);let e={id:(Date.now()+2).toString(),text:"Sorry, I'm having trouble connecting. Please try again later.",sender:"bot",timestamp:new Date};o(t=>[...t,e])}finally{d(!1)}};return(0,r.jsxs)(r.Fragment,{children:[!e&&r.jsx("button",{onClick:()=>t(!0),className:"fixed bottom-6 right-6 bg-gradient-to-r from-red-600 to-red-700 text-white p-4 rounded-full shadow-lg hover:shadow-xl transition hover:from-red-700 hover:to-red-800 z-40","aria-label":"Open chatbot",children:r.jsx(x.Z,{className:"w-6 h-6"})}),e&&(0,r.jsxs)("div",{className:"fixed bottom-6 right-6 w-96 max-h-96 bg-white rounded-xl shadow-2xl flex flex-col z-50 border-2 border-red-200",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-red-600 to-red-700 text-white p-4 flex justify-between items-center rounded-t-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(x.Z,{className:"w-5 h-5"}),r.jsx("h3",{className:"font-bold",children:"Pulse Bot"}),r.jsx("span",{className:"text-xs bg-red-500 px-2 py-1 rounded-full",children:"AI Assistant"}),b?r.jsx("span",{className:"text-xs capitalize bg-white/20 text-white px-2 py-1 rounded-full ml-2",children:b.role||"user"}):null]}),r.jsx("button",{onClick:()=>t(!1),className:"hover:bg-red-500 p-1 rounded transition",children:r.jsx(m.Z,{className:"w-5 h-5"})})]}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[s.map(e=>r.jsx("div",{className:`flex ${"user"===e.sender?"justify-end":"justify-start"}`,children:r.jsx("div",{className:`max-w-xs rounded-lg p-3 ${"user"===e.sender?"bg-red-600 text-white rounded-br-none":"bg-white text-gray-800 border border-red-200 rounded-bl-none"}`,children:r.jsx("p",{className:"text-sm",children:e.text})})},e.id)),l&&r.jsx("div",{className:"flex justify-start",children:r.jsx("div",{className:"bg-white text-gray-800 border border-red-200 rounded-lg rounded-bl-none p-3",children:r.jsx(u.Z,{className:"w-5 h-5 animate-spin text-red-600"})})}),r.jsx("div",{ref:p})]}),r.jsx("div",{className:"border-t border-red-200 p-4 bg-white rounded-b-lg",children:(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:n,onChange:e=>i(e.target.value),onKeyPress:e=>"Enter"===e.key&&f(),placeholder:"Ask me anything...",className:"flex-1 border border-red-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-red-500 focus:ring-1 focus:ring-red-500"}),r.jsx(c,{onClick:f,disabled:l||!n.trim(),className:"bg-red-600 hover:bg-red-700 text-white p-2",children:r.jsx(h.Z,{className:"w-4 h-4"})})]})})]})]})}},3708:(e,t,s)=>{"use strict";function r(){return null}s.d(t,{default:()=>r}),s(7577)},1264:(e,t,s)=>{"use strict";s.d(t,{s:()=>a});var r=s(7577);function a(){return(0,r.useRef)(null)}s(7432)},6762:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]])},7650:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]])},3855:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},7069:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},4061:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},1858:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`C:\Users\harsh\Downloads\PulseBank-main\PulseBank-main\app\hospital\dashboard\page.tsx#default`)},9064:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l,metadata:()=>i});var r=s(9510);s(8147),s(7633);var a=s(8570);let o=(0,a.createProxy)(String.raw`C:\Users\harsh\Downloads\PulseBank-main\PulseBank-main\components\ai-chatbot.tsx#default`),n=(0,a.createProxy)(String.raw`C:\Users\harsh\Downloads\PulseBank-main\PulseBank-main\components\user-guard.tsx#default`),i={title:"Pulse Bank - Save Lives with AI-Powered Blood Donation",description:"Connect blood donors with recipients through AI-powered matching. Find compatible donors near you instantly.",icons:{icon:"/favicon.ico",shortcut:"/favicon.ico",apple:"/favicon.ico"}};function l({children:e}){return r.jsx("html",{lang:"en",children:(0,r.jsxs)("body",{className:"font-sans antialiased",children:[r.jsx(n,{}),e,r.jsx(o,{})]})})}},7633:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[276,975,434,257],()=>s(5734));module.exports=r})();