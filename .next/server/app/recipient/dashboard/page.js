(()=>{var e={};e.id=481,e.ids=[481],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},1282:e=>{"use strict";e.exports=require("child_process")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},7529:()=>{},6804:()=>{},8645:()=>{},4071:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>d.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>h,tree:()=>o}),t(4932),t(9064),t(5866);var r=t(3191),a=t(8716),l=t(7922),d=t.n(l),i=t(5231),n={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);t.d(s,n);let o=["",{children:["recipient",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,4932)),"C:\\Users\\harsh\\Downloads\\PulseBank-main\\PulseBank-main\\app\\recipient\\dashboard\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9064)),"C:\\Users\\harsh\\Downloads\\PulseBank-main\\PulseBank-main\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\harsh\\Downloads\\PulseBank-main\\PulseBank-main\\app\\recipient\\dashboard\\page.tsx"],x="/recipient/dashboard/page",m={require:t,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/recipient/dashboard/page",pathname:"/recipient/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},9428:(e,s,t)=>{Promise.resolve().then(t.bind(t,5256))},1540:(e,s,t)=>{Promise.resolve().then(t.bind(t,5974)),Promise.resolve().then(t.bind(t,3708))},4332:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},5256:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>y});var r=t(326),a=t(7577),l=t(7427),d=t(6283),i=t(7358),n=t(1810),o=t(361),c=t(8998),x=t(1291),m=t(6762),h=t(3265),u=t(7018),p=t(5562),g=t(2887),b=t(7650);let f=(0,h.default)(async()=>{},{loadableGenerated:{modules:["components\\RecipientHospitalMap.tsx -> @/components/LeafletMap"]},ssr:!1});function j({recipientLocation:e,requests:s=[]}){let[t,l]=(0,a.useState)([]),[d,i]=(0,a.useState)(!0),[n,o]=(0,a.useState)(e?.latitude||21.1466),[c,x]=(0,a.useState)(e?.longitude||79.0889),[h,j]=(0,a.useState)(null),[N,v]=(0,a.useState)(!1),[y,w]=(0,a.useState)(null),[k,P]=(0,a.useState)(null),[C,Z]=(0,a.useState)(null),S=t.map(e=>({location:{latitude:e.location?.latitude||21.1466,longitude:e.location?.longitude||79.0889},fullName:e.hospitalName||"Hospital",bloodType:e.bloodType||"Hospital"}));return d?(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 border-2 border-blue-200",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(u.Z,{className:"w-8 h-8 text-blue-600"}),r.jsx("h2",{className:"text-3xl font-bold text-blue-700",children:"Nearby Hospitals"})]}),r.jsx("div",{className:"flex items-center justify-center h-96",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"}),r.jsx("p",{className:"mt-4 text-gray-600 font-semibold",children:"Loading hospitals..."})]})})]}):C?(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 border-2 border-red-200",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(u.Z,{className:"w-8 h-8 text-red-600"}),r.jsx("h2",{className:"text-3xl font-bold text-red-700",children:"Nearby Hospitals"})]}),(0,r.jsxs)("div",{className:"text-center py-12 bg-red-50 rounded-xl border-2 border-red-200",children:[r.jsx(u.Z,{className:"w-12 h-12 text-red-300 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-700 font-semibold",children:"No hospital on your location"})]})]}):(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 border-2 border-blue-200",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(u.Z,{className:"w-8 h-8 text-blue-600"}),r.jsx("h2",{className:"text-3xl font-bold text-blue-700",children:"Your Blood Requests & Nearby Hospitals"})]}),s&&s.length>0&&(0,r.jsxs)("div",{className:"mb-8 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6 border-2 border-purple-200",children:[(0,r.jsxs)("h3",{className:"text-lg font-bold text-purple-700 mb-4 flex items-center gap-2",children:[r.jsx(m.Z,{className:"w-5 h-5 text-purple-600 fill-purple-600"}),"Your Active Blood Requests"]}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map((e,s)=>(0,r.jsxs)("div",{onClick:()=>P(e),className:`p-4 rounded-lg cursor-pointer transition-all border-2 ${k?._id===e._id?"bg-purple-200 border-purple-600 shadow-lg":"bg-white border-purple-200 hover:border-purple-400 hover:shadow-md"}`,children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("h4",{className:"font-bold text-gray-800",children:["RE-",e._id?.substring(0,6).toUpperCase()]}),r.jsx("p",{className:"text-sm text-purple-700 font-semibold",children:e.bloodType})]}),(0,r.jsxs)("span",{className:"bg-purple-600 text-white text-xs font-bold px-2 py-1 rounded-full",children:[e.unitsNeeded," units"]})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-600 space-y-1",children:[(0,r.jsxs)("p",{children:[r.jsx("strong",{children:"Status:"})," ",e.status||"Pending"]}),(0,r.jsxs)("p",{children:[r.jsx("strong",{children:"Urgency:"})," ",e.urgency||"Moderate"]})]})]},s))}),k&&(0,r.jsxs)("div",{className:"mt-4 pt-4 border-t-2 border-purple-200",children:[(0,r.jsxs)("h4",{className:"font-bold text-purple-700 mb-2",children:["Request Details: RE-",k._id?.substring(0,6).toUpperCase()]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-bold text-purple-600 uppercase",children:"Blood Type"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:k.bloodType})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-bold text-purple-600 uppercase",children:"Units Needed"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:k.unitsNeeded})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-bold text-purple-600 uppercase",children:"Status"}),r.jsx("p",{className:"text-xl font-bold text-blue-600",children:k.status||"Pending"})]})]})]})]}),0===t.length?(0,r.jsxs)("div",{className:"text-center py-12 bg-blue-50 rounded-xl",children:[r.jsx(p.Z,{className:"w-12 h-12 text-blue-300 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600 font-semibold",children:"No hospitals found nearby"}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Hospitals may not have saved their locations yet. Check back later."})]}):(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"md:col-span-2",children:r.jsx("div",{className:"rounded-xl overflow-hidden shadow-lg h-96 border-2 border-blue-100",children:r.jsx(f,{hospitals:S,currentLocation:{latitude:n,longitude:c}})})}),(0,r.jsxs)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[(0,r.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3 border-l-4 border-blue-600",children:[r.jsx("p",{className:"text-xs font-bold text-blue-700 uppercase tracking-wide",children:"\uD83D\uDCCD Hospitals Near You"}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[t.length," hospitals found within 0-20 km"]}),t.length>0&&(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Your Location: ",N?r.jsx("span",{className:"italic",children:"Loading address..."}):h||"Location detected"]})]}),t.map((e,s)=>(0,r.jsxs)("div",{onClick:()=>w(e),className:`p-4 rounded-xl cursor-pointer transition-all duration-200 border-2 ${y?.id===e.id?"bg-blue-100 border-blue-600 shadow-lg":"bg-gradient-to-r from-white to-blue-50 border-blue-200 hover:border-blue-400 hover:shadow-md"}`,children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("h3",{className:"font-bold text-gray-800 text-sm line-clamp-2",children:e.hospitalName}),(0,r.jsxs)("span",{className:"bg-blue-600 text-white text-xs font-bold px-2 py-1 rounded-full flex-shrink-0 ml-1",children:[e.distance," km"]})]}),(0,r.jsxs)("div",{className:"space-y-1 text-xs text-gray-600",children:[e.phone&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(g.Z,{className:"w-3 h-3 text-gray-400"}),r.jsx("span",{className:"truncate",children:e.phone})]}),e.location?.address&&(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[r.jsx(p.Z,{className:"w-3 h-3 text-gray-400 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"line-clamp-2",children:e.location.address})]})]}),r.jsx("div",{className:"mt-3 bg-gray-200 rounded-full h-2 overflow-hidden",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-600 transition-all",style:{width:`${Math.max(10,100-parseFloat(e.distance)/Math.max(...t.map(e=>parseFloat(e.distance)))*100)}%`}})}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[r.jsx(b.Z,{className:"w-3 h-3"}),e.distance," km away"]})]},s))]})]}),y&&(0,r.jsxs)("div",{className:"mt-6 bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl p-6 border-l-4 border-blue-600",children:[(0,r.jsxs)("h3",{className:"text-lg font-bold text-blue-700 mb-4 flex items-center gap-2",children:[r.jsx(u.Z,{className:"w-5 h-5"}),y.hospitalName]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-bold text-blue-600 uppercase tracking-wide mb-1",children:"Distance from You"}),(0,r.jsxs)("p",{className:"text-2xl font-bold text-blue-700",children:[y.distance," ",r.jsx("span",{className:"text-lg text-gray-600",children:"km"})]})]}),y.phone&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-xs font-bold text-blue-600 uppercase tracking-wide mb-1 flex items-center gap-1",children:[r.jsx(g.Z,{className:"w-3 h-3"}),"Contact"]}),r.jsx("a",{href:`tel:${y.phone}`,className:"text-lg font-bold text-blue-700 hover:underline",children:y.phone})]})]}),y.location?.address&&(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsxs)("p",{className:"text-xs font-bold text-blue-600 uppercase tracking-wide mb-1 flex items-center gap-1",children:[r.jsx(p.Z,{className:"w-3 h-3"}),"Address"]}),r.jsx("p",{className:"text-gray-700",children:y.location.address})]}),(0,r.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,r.jsxs)("button",{onClick:()=>{y.phone&&(window.location.href=`tel:${y.phone}`)},className:"flex-1 px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition flex items-center justify-center gap-2",children:[r.jsx(g.Z,{className:"w-4 h-4"}),"Call Hospital"]}),(0,r.jsxs)("button",{onClick:()=>{y.location&&window.open(`https://maps.google.com/?q=${y.location.latitude},${y.location.longitude}`,"_blank")},className:"flex-1 px-4 py-2 bg-blue-100 text-blue-700 font-semibold rounded-lg hover:bg-blue-200 transition flex items-center justify-center gap-2",children:[r.jsx(b.Z,{className:"w-4 h-4"}),"Get Directions"]})]})]})]})}var N=t(434);t(8201),t(6985);var v=t(1264);function y(){let[e,s]=(0,a.useState)(null),[t,m]=(0,a.useState)("Recipient"),[h,u]=(0,a.useState)(""),[p,g]=(0,a.useState)(""),[b,f]=(0,a.useState)(null),[y,P]=(0,a.useState)(null),[C,Z]=(0,a.useState)(!1),[S,q]=(0,a.useState)(!1),[B,A]=(0,a.useState)([]),[D,R]=(0,a.useState)(null),[O,_]=(0,a.useState)(!1);(0,v.s)();let[M,T]=(0,a.useState)(!1),z=e=>{switch(e){case"Fulfilled":return"bg-green-100";case"Pending":return"bg-orange-100";case"Cancelled":return"bg-red-100";default:return"bg-gray-100"}};return(0,r.jsxs)("main",{className:"min-h-screen bg-gradient-to-br from-white via-red-50 to-white",children:[r.jsx("header",{className:"bg-gradient-to-r from-red-600 to-red-700 text-white p-6",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx(l.Z,{className:"w-8 h-8 fill-white"}),r.jsx("h1",{className:"text-3xl font-bold",children:t})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 relative",children:[r.jsx("button",{onClick:()=>q(!S),className:"p-2 rounded-full hover:bg-red-500 transition bg-white text-red-600 w-10 h-10 flex items-center justify-center",title:"Profile menu",children:"\uD83D\uDC64"}),S&&(0,r.jsxs)("div",{className:"absolute right-0 top-12 bg-gradient-to-b from-white to-gray-50 text-gray-800 rounded-2xl shadow-2xl w-64 z-40 border border-red-100 overflow-hidden",children:[(0,r.jsxs)("div",{className:"p-5 bg-gradient-to-r from-red-50 to-red-100 border-b-2 border-red-200",children:[r.jsx("p",{className:"font-bold text-lg text-red-700",children:t}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:h}),r.jsx("p",{className:"text-sm text-gray-600",children:p})]}),(0,r.jsxs)("div",{className:"py-2",children:[(0,r.jsxs)(N.default,{href:"/recipient/profile",className:"flex items-center gap-3 px-4 py-3 hover:bg-red-50 text-gray-800 transition border-l-4 border-transparent hover:border-red-600",onClick:()=>q(!1),children:[r.jsx(d.Z,{className:"w-5 h-5 text-red-600"}),r.jsx("span",{className:"font-medium",children:"Edit Profile"})]}),(0,r.jsxs)(N.default,{href:"/recipient/history",className:"flex items-center gap-3 px-4 py-3 hover:bg-orange-50 text-gray-800 transition border-l-4 border-transparent hover:border-orange-600",onClick:()=>q(!1),children:[r.jsx(i.Z,{className:"w-5 h-5 text-orange-600"}),r.jsx("span",{className:"font-medium",children:"View History"})]}),(0,r.jsxs)("button",{onClick:()=>{localStorage.clear(),window.location.href="/"},className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-red-100 text-gray-800 transition border-l-4 border-transparent hover:border-red-700",children:[r.jsx(n.Z,{className:"w-5 h-5 text-red-700"}),r.jsx("span",{className:"font-medium",children:"Logout"})]})]})]})]})]})}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto p-6 space-y-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Your Blood Requests"}),r.jsx(N.default,{href:"/recipient/create-request",className:"px-6 py-2 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700 transition",children:"+ New Request"})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[0===B.length&&r.jsx("p",{className:"text-gray-600 col-span-full",children:"You have not created any requests yet."}),B.map((e,s)=>(0,r.jsxs)("div",{className:`bg-gradient-to-br ${"Fulfilled"===e.status?"from-green-50 to-white border-2 border-green-200":"Pending"===e.status?"from-orange-50 to-white border-2 border-orange-200":"from-red-50 to-white border-2 border-red-200"} rounded-2xl shadow-xl p-6 hover:shadow-2xl transition`,children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-sm text-gray-600 font-bold uppercase tracking-wide mb-2",children:"Blood Type Needed"}),(0,r.jsxs)("div",{className:"flex items-baseline gap-2",children:[r.jsx("div",{className:"text-4xl font-bold text-red-600",children:e.bloodType}),(0,r.jsxs)("div",{className:"text-lg text-gray-600",children:[e.unitsNeeded," units"]})]})]}),r.jsx("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full font-bold text-sm ${z(e.status)}`,children:"Fulfilled"===e.status?(0,r.jsxs)(r.Fragment,{children:[r.jsx(o.Z,{className:"w-4 h-4 text-green-600"}),r.jsx("span",{className:"text-green-600",children:"Fulfilled"})]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(c.Z,{className:"w-4 h-4 text-orange-600"}),r.jsx("span",{className:"text-orange-600",children:"Pending"})]})})]}),(0,r.jsxs)("div",{className:"border-t border-gray-200 pt-4 mb-4 space-y-2",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs text-gray-600 font-bold uppercase",children:"Hospital"}),r.jsx("p",{className:"text-gray-800 font-semibold",children:e.hospital||"N/A"})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs text-gray-600 font-bold uppercase",children:"Urgency"}),r.jsx("p",{className:"text-orange-600 font-semibold",children:e.urgency||"MODERATE"})]})]}),r.jsx("button",{onClick:()=>{R(e),_(!0)},className:"w-full px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white font-semibold rounded-lg hover:shadow-lg transition mt-2",children:"View Details"})]},s))]})]}),O&&D&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-700 text-white p-8",children:(0,r.jsxs)("h2",{className:"text-3xl font-bold flex items-center gap-2",children:[r.jsx(l.Z,{className:"w-8 h-8 fill-white"}),"Blood Request Details"]})}),(0,r.jsxs)("div",{className:"p-8 space-y-6 max-h-[70vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"bg-red-50 rounded-xl p-5 border-2 border-red-200",children:[r.jsx("h3",{className:"text-gray-600 font-bold text-xs uppercase mb-2",children:"Blood Type"}),r.jsx("p",{className:"text-4xl font-bold text-red-600",children:D.bloodType})]}),(0,r.jsxs)("div",{className:"bg-orange-50 rounded-xl p-5 border-2 border-orange-200",children:[r.jsx("h3",{className:"text-gray-600 font-bold text-xs uppercase mb-2",children:"Units Needed"}),r.jsx("p",{className:"text-4xl font-bold text-orange-600",children:D.unitsNeeded})]}),(0,r.jsxs)("div",{className:`rounded-xl p-5 border-2 ${"Fulfilled"===D.status?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:[r.jsx("h3",{className:"text-gray-600 font-bold text-xs uppercase mb-2",children:"Status"}),r.jsx("p",{className:`text-xl font-bold ${"Fulfilled"===D.status?"text-green-600":"text-yellow-600"}`,children:D.status})]})]}),(0,r.jsxs)("div",{className:"border-t-2 border-gray-200 pt-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(x.Z,{className:"w-6 h-6 text-red-600"}),"Request Information"]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-bold uppercase mb-1",children:"Patient/Recipient Name"}),r.jsx("p",{className:"text-lg text-gray-800 font-semibold",children:D.recipientName||"N/A"})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-bold uppercase mb-1",children:"Hospital"}),r.jsx("p",{className:"text-lg text-gray-800",children:D.hospital||"N/A"})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-bold uppercase mb-1",children:"Urgency Level"}),r.jsx("p",{className:"text-lg text-orange-600 font-semibold",children:D.urgency||"MODERATE"})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-bold uppercase mb-1",children:"Confirmation Status"}),r.jsx("p",{className:`text-lg font-semibold px-3 py-1 rounded inline-block ${(e=>{switch(e){case"Confirmed":return"text-green-600 bg-green-100";case"Rejected":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}})(D.confirmationStatus||"Pending")}`,children:D.confirmationStatus||"Pending"})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-bold uppercase mb-1",children:"Created"}),r.jsx("p",{className:"text-lg text-gray-800",children:new Date(D.createdAt||Date.now()).toLocaleDateString()})]})]})]}),(0,r.jsxs)("div",{className:"border-t-2 border-gray-200 pt-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(o.Z,{className:"w-6 h-6 text-green-600"}),"Request Progress"]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`w-6 h-6 rounded-full ${D.status?"bg-green-600":"bg-gray-300"}`}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-bold text-gray-800",children:"Request Created"}),r.jsx("p",{className:"text-sm text-gray-600",children:new Date(D.createdAt||Date.now()).toLocaleString()})]})]}),"Fulfilled"===D.status&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-green-600"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-bold text-gray-800",children:"Donor Matched"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Blood type compatibility confirmed"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-green-600"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-bold text-gray-800",children:"Donation Scheduled"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Blood scheduled for delivery"})]})]})]})]})]})]}),r.jsx("div",{className:"bg-gray-50 p-8 border-t-2 border-gray-200 flex justify-end gap-4",children:r.jsx("button",{onClick:()=>_(!1),className:"px-8 py-3 bg-gray-300 text-gray-800 font-bold rounded-lg hover:bg-gray-400 transition",children:"Close"})})]})}),r.jsx("div",{className:"max-w-7xl mx-auto p-6",children:r.jsx(w,{recipientName:t,requests:B})}),r.jsx("div",{className:"max-w-7xl mx-auto p-6",children:r.jsx(j,{recipientLocation:b,requests:B})}),r.jsx("div",{className:"max-w-7xl mx-auto p-6",children:r.jsx(k,{})})]})}function w({recipientName:e,requests:s}){let t=s.filter(e=>"Fulfilled"!==e.status),a=s.length;return(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[(0,r.jsxs)("h2",{className:"text-3xl font-bold text-red-700 mb-6 flex items-center gap-2",children:[r.jsx(l.Z,{className:"w-8 h-8 fill-red-600"}),"Your Blood Request Overview"]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-2xl p-6 border-2 border-orange-300 shadow-lg hover:shadow-xl transition",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-bold uppercase mb-2",children:"Active Requests"}),r.jsx("p",{className:"text-4xl font-bold text-orange-600",children:t.length})]}),r.jsx("div",{className:"bg-orange-600 text-white p-4 rounded-full",children:r.jsx(x.Z,{className:"w-8 h-8"})})]}),r.jsx("p",{className:"text-xs text-gray-600 mt-3",children:"Awaiting donor match and donation"})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-2xl p-6 border-2 border-red-300 shadow-lg hover:shadow-xl transition",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-bold uppercase mb-2",children:"Total Requests"}),r.jsx("p",{className:"text-4xl font-bold text-red-600",children:a})]}),r.jsx("div",{className:"bg-red-600 text-white p-4 rounded-full",children:r.jsx(l.Z,{className:"w-8 h-8 fill-white"})})]}),r.jsx("p",{className:"text-xs text-gray-600 mt-3",children:"All requests created"})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-2xl p-6 border-2 border-green-300 shadow-lg hover:shadow-xl transition",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-bold uppercase mb-2",children:"Fulfilled"}),r.jsx("p",{className:"text-4xl font-bold text-green-600",children:a-t.length})]}),r.jsx("div",{className:"bg-green-600 text-white p-4 rounded-full",children:r.jsx(o.Z,{className:"w-8 h-8"})})]}),r.jsx("p",{className:"text-xs text-gray-600 mt-3",children:"Successfully matched & received"})]})]}),(0,r.jsxs)("div",{className:"mt-8 bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl p-6 border-l-4 border-blue-600",children:[(0,r.jsxs)("h3",{className:"text-lg font-bold text-blue-700 mb-3 flex items-center gap-2",children:[r.jsx(x.Z,{className:"w-5 h-5"}),"Tips for Your Request"]}),(0,r.jsxs)("ul",{className:"space-y-2 text-sm text-gray-700",children:[(0,r.jsxs)("li",{className:"flex items-start gap-2",children:[r.jsx(o.Z,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"})," ",(0,r.jsxs)("span",{children:[r.jsx("strong",{children:"Provide Complete Information:"})," The more details you provide, the faster donors can match."]})]}),(0,r.jsxs)("li",{className:"flex items-start gap-2",children:[r.jsx(o.Z,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"})," ",(0,r.jsxs)("span",{children:[r.jsx("strong",{children:"Update Your Location:"})," Helps nearby donors find you quickly."]})]}),(0,r.jsxs)("li",{className:"flex items-start gap-2",children:[r.jsx(o.Z,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"})," ",(0,r.jsxs)("span",{children:[r.jsx("strong",{children:"Check Status Regularly:"})," Visit your request details to see matching progress."]})]}),(0,r.jsxs)("li",{className:"flex items-start gap-2",children:[r.jsx(o.Z,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"})," ",(0,r.jsxs)("span",{children:[r.jsx("strong",{children:"Contact Hospital:"})," If urgent, reach out to your hospital directly."]})]})]})]})]})}function k(){return(0,r.jsxs)("div",{className:"mt-10 p-8 bg-gradient-to-r from-white via-red-50 to-white rounded-2xl shadow-lg border-2 border-red-200",children:[(0,r.jsxs)("h2",{className:"text-3xl font-bold text-red-700 mb-2 flex items-center gap-2",children:[r.jsx(l.Z,{className:"w-8 h-8 fill-red-600"})," Blood Type Information for Recipients"]}),r.jsx("p",{className:"text-gray-600 mb-6 text-sm",children:"Know which blood types can help you"}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{type:"O-",icon:"⬛",receives:"O- only",description:"Rarest blood type. Can only receive O- blood.",color:"from-red-100 to-red-200",border:"border-red-400"},{type:"O+",icon:"⚪",receives:"O+, O-",description:"Can receive from O donors (most common donors)",color:"from-red-50 to-red-100",border:"border-red-300"},{type:"A-",icon:"⬛",receives:"A-, O-",description:"Can receive from A- and O- donors",color:"from-rose-100 to-rose-200",border:"border-rose-400"},{type:"A+",icon:"⚪",receives:"A+, A-, O+, O-",description:"Can receive from A and O donors",color:"from-red-50 to-red-100",border:"border-red-300"},{type:"B-",icon:"⬛",receives:"B-, O-",description:"Can receive from B- and O- donors",color:"from-rose-100 to-rose-200",border:"border-rose-400"},{type:"B+",icon:"⚪",receives:"B+, B-, O+, O-",description:"Can receive from B and O donors",color:"from-red-50 to-red-100",border:"border-red-300"},{type:"AB-",icon:"⬛",receives:"AB-, A-, B-, O-",description:"Can receive from A, B, and O negative donors",color:"from-pink-100 to-pink-200",border:"border-pink-400"},{type:"AB+",icon:"⚪",receives:"All types",description:"Universal recipient! Can receive from anyone.",color:"from-red-200 to-red-300",border:"border-red-500"}].map((e,s)=>(0,r.jsxs)("div",{className:`bg-gradient-to-br ${e.color} p-5 rounded-2xl shadow-lg border-2 ${e.border} hover:shadow-xl transition-all duration-300 transform hover:scale-105`,children:[(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"font-bold text-3xl text-gray-900",children:e.type}),r.jsx("span",{className:"text-3xl",children:e.icon})]}),(0,r.jsxs)("p",{className:"text-xs text-gray-700 font-semibold italic",children:['"',e.description,'"']})]}),(0,r.jsxs)("div",{className:"bg-white bg-opacity-70 rounded-lg p-3 mt-3",children:[(0,r.jsxs)("p",{className:"text-xs font-bold text-gray-800 mb-2 flex items-center gap-1",children:[r.jsx(m.Z,{className:"w-3 h-3 text-red-600 fill-red-600"})," Can receive from:"]}),r.jsx("p",{className:"text-sm font-bold text-red-700",children:e.receives})]})]},s))}),r.jsx("div",{className:"mt-8 bg-gradient-to-r from-green-50 to-green-100 rounded-xl p-5 border-l-4 border-green-600",children:(0,r.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,r.jsxs)("span",{className:"font-bold text-green-700 flex items-center gap-2 mb-2",children:[r.jsx(l.Z,{className:"w-4 h-4 fill-green-600 text-green-600"})," Know Your Type:"]})," If you have AB+ blood type, you're a universal recipient and can receive blood from any donor - a huge advantage! Check your blood type if you don't know it yet."]})})]})}},5974:(e,s,t)=>{"use strict";t.d(s,{default:()=>p});var r=t(326),a=t(7577),l=t(6438),d=t(9360),i=t(1135),n=t(1009);let o=(0,d.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function c({className:e,variant:s,size:t,asChild:a=!1,...d}){let c=a?l.g7:"button";return r.jsx(c,{"data-slot":"button",className:function(...e){return(0,n.m6)((0,i.W)(e))}(o({variant:s,size:t,className:e})),...d})}var x=t(9730),m=t(4019),h=t(7506),u=t(9436);function p(){let[e,s]=(0,a.useState)(!1),[t,l]=(0,a.useState)([]),[d,i]=(0,a.useState)(""),[n,o]=(0,a.useState)(!1),p=(0,a.useRef)(null),[g,b]=(0,a.useState)(void 0);if(null==g)return null;let f=async()=>{if(!d.trim())return;let e={id:Date.now().toString(),text:d,sender:"user",timestamp:new Date};l(s=>[...s,e]),i(""),o(!0);try{let e=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:d,conversationHistory:t,user:null})}),s=await e.json(),r={id:(Date.now()+1).toString(),text:s.reply||"Sorry, I couldn't process that. Please try again.",sender:"bot",timestamp:new Date};l(e=>[...e,r])}catch(s){console.error("Error sending message:",s);let e={id:(Date.now()+2).toString(),text:"Sorry, I'm having trouble connecting. Please try again later.",sender:"bot",timestamp:new Date};l(s=>[...s,e])}finally{o(!1)}};return(0,r.jsxs)(r.Fragment,{children:[!e&&r.jsx("button",{onClick:()=>s(!0),className:"fixed bottom-6 right-6 bg-gradient-to-r from-red-600 to-red-700 text-white p-4 rounded-full shadow-lg hover:shadow-xl transition hover:from-red-700 hover:to-red-800 z-40","aria-label":"Open chatbot",children:r.jsx(x.Z,{className:"w-6 h-6"})}),e&&(0,r.jsxs)("div",{className:"fixed bottom-6 right-6 w-96 max-h-96 bg-white rounded-xl shadow-2xl flex flex-col z-50 border-2 border-red-200",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-red-600 to-red-700 text-white p-4 flex justify-between items-center rounded-t-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(x.Z,{className:"w-5 h-5"}),r.jsx("h3",{className:"font-bold",children:"Pulse Bot"}),r.jsx("span",{className:"text-xs bg-red-500 px-2 py-1 rounded-full",children:"AI Assistant"}),g?r.jsx("span",{className:"text-xs capitalize bg-white/20 text-white px-2 py-1 rounded-full ml-2",children:g.role||"user"}):null]}),r.jsx("button",{onClick:()=>s(!1),className:"hover:bg-red-500 p-1 rounded transition",children:r.jsx(m.Z,{className:"w-5 h-5"})})]}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[t.map(e=>r.jsx("div",{className:`flex ${"user"===e.sender?"justify-end":"justify-start"}`,children:r.jsx("div",{className:`max-w-xs rounded-lg p-3 ${"user"===e.sender?"bg-red-600 text-white rounded-br-none":"bg-white text-gray-800 border border-red-200 rounded-bl-none"}`,children:r.jsx("p",{className:"text-sm",children:e.text})})},e.id)),n&&r.jsx("div",{className:"flex justify-start",children:r.jsx("div",{className:"bg-white text-gray-800 border border-red-200 rounded-lg rounded-bl-none p-3",children:r.jsx(h.Z,{className:"w-5 h-5 animate-spin text-red-600"})})}),r.jsx("div",{ref:p})]}),r.jsx("div",{className:"border-t border-red-200 p-4 bg-white rounded-b-lg",children:(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:d,onChange:e=>i(e.target.value),onKeyPress:e=>"Enter"===e.key&&f(),placeholder:"Ask me anything...",className:"flex-1 border border-red-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-red-500 focus:ring-1 focus:ring-red-500"}),r.jsx(c,{onClick:f,disabled:n||!d.trim(),className:"bg-red-600 hover:bg-red-700 text-white p-2",children:r.jsx(u.Z,{className:"w-4 h-4"})})]})})]})]})}},3708:(e,s,t)=>{"use strict";function r(){return null}t.d(s,{default:()=>r}),t(7577)},1264:(e,s,t)=>{"use strict";t.d(s,{s:()=>a});var r=t(7577);function a(){return(0,r.useRef)(null)}t(7432)},6985:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let r="http://localhost:5000",a={addRequest:`${r}/request/add`,getAllRequests:`${r}/request/all`}},361:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(2881).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8998:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(2881).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},6762:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(2881).Z)("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]])},7018:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(2881).Z)("Hospital",[["path",{d:"M12 6v4",key:"16clxf"}],["path",{d:"M14 14h-4",key:"esezmu"}],["path",{d:"M14 18h-4",key:"16mqa2"}],["path",{d:"M14 8h-4",key:"z8ypaz"}],["path",{d:"M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2",key:"b1k337"}],["path",{d:"M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18",key:"16g51d"}]])},7650:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(2881).Z)("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]])},2887:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(2881).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},9064:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n,metadata:()=>i});var r=t(9510);t(8147),t(7633);var a=t(8570);let l=(0,a.createProxy)(String.raw`C:\Users\harsh\Downloads\PulseBank-main\PulseBank-main\components\ai-chatbot.tsx#default`),d=(0,a.createProxy)(String.raw`C:\Users\harsh\Downloads\PulseBank-main\PulseBank-main\components\user-guard.tsx#default`),i={title:"Pulse Bank - Save Lives with AI-Powered Blood Donation",description:"Connect blood donors with recipients through AI-powered matching. Find compatible donors near you instantly.",icons:{icon:"/favicon.ico",shortcut:"/favicon.ico",apple:"/favicon.ico"}};function n({children:e}){return r.jsx("html",{lang:"en",children:(0,r.jsxs)("body",{className:"font-sans antialiased",children:[r.jsx(d,{}),e,r.jsx(l,{})]})})}},4932:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(8570).createProxy)(String.raw`C:\Users\harsh\Downloads\PulseBank-main\PulseBank-main\app\recipient\dashboard\page.tsx#default`)},7633:()=>{},8201:(e,s,t)=>{"use strict";class r extends Error{}r.prototype.name="InvalidTokenError"}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[276,975,434,257],()=>t(4071));module.exports=r})();