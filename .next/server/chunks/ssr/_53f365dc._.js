module.exports=[45747,a=>{"use strict";class b extends Error{}function c(a,c){let d;if("string"!=typeof a)throw new b("Invalid token specified: must be a string");c||(c={});let e=+(!0!==c.header),f=a.split(".")[e];if("string"!=typeof f)throw new b(`Invalid token specified: missing part #${e+1}`);try{d=function(a){let b=a.replace(/-/g,"+").replace(/_/g,"/");switch(b.length%4){case 0:break;case 2:b+="==";break;case 3:b+="=";break;default:throw Error("base64 string is not of the correct length")}try{var c;return c=b,decodeURIComponent(atob(c).replace(/(.)/g,(a,b)=>{let c=b.charCodeAt(0).toString(16).toUpperCase();return c.length<2&&(c="0"+c),"%"+c}))}catch(a){return atob(b)}}(f)}catch(a){throw new b(`Invalid token specified: invalid base64 for part #${e+1} (${a.message})`)}try{return JSON.parse(d)}catch(a){throw new b(`Invalid token specified: invalid json for part #${e+1} (${a.message})`)}}b.prototype.name="InvalidTokenError",a.s(["jwtDecode",()=>c])},63220,a=>{"use strict";let b="http://localhost:5000",c={donationHistory:a=>`${b}/donor/history/${a}`,urgentRequests:`${b}/donor/requests`,addDonation:`${b}/donor/add`},d={addRequest:`${b}/request/add`,getAllRequests:`${b}/request/all`};a.s(["DONOR",0,c,"REQUEST",0,d])},4113,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(45747),e=a.i(63220);function f(){let[a,f]=(0,c.useState)({totalDonations:0,totalUnits:0,lastDonationDate:"",nextEligibleDate:"",mostDonatedBloodType:""}),[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(!0);return(0,c.useEffect)(()=>{let a=localStorage.getItem("token");a&&i((0,d.jwtDecode)(a).userId)},[]),(0,c.useEffect)(()=>{h&&fetch(e.DONOR.donationHistory(h)).then(a=>a.json()).then(a=>{let b=a.donations||[];if(0===b.length){f({totalDonations:0,totalUnits:0,lastDonationDate:"N/A",nextEligibleDate:"Eligible Now",mostDonatedBloodType:"N/A"}),k(!1);return}let c=b.length,d=b.reduce((a,b)=>a+b.units,0),e=b[0],g=e.date?.slice(0,10)||"N/A",h=new Date(e.date);h.setDate(h.getDate()+90);let i=h.toISOString().slice(0,10),j={};b.forEach(a=>{j[a.bloodType]||(j[a.bloodType]=0),j[a.bloodType]+=1}),f({totalDonations:c,totalUnits:d,lastDonationDate:g,nextEligibleDate:i,mostDonatedBloodType:Object.entries(j).sort((a,b)=>b[1]-a[1])[0]?.[0]||"N/A"}),k(!1)}).catch(a=>console.error(a))},[h]),(0,b.jsxs)("div",{className:"p-6 max-w-4xl mx-auto",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Your Donation Statistics"}),j?(0,b.jsx)("p",{className:"text-gray-600",children:"Loading stats..."}):(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,b.jsx)(g,{title:"Total Donations",value:a.totalDonations,color:"red"}),(0,b.jsx)(g,{title:"Total Units Donated",value:a.totalUnits,color:"green"}),(0,b.jsx)(g,{title:"Last Donation Date",value:a.lastDonationDate,color:"blue"}),(0,b.jsx)(g,{title:"Next Eligible Donation",value:a.nextEligibleDate,color:"purple"}),(0,b.jsx)(g,{title:"Most Donated Blood Type",value:a.mostDonatedBloodType,color:"yellow"})]})]})}function g({title:a,value:c,color:d}){return(0,b.jsxs)("div",{className:`p-6 rounded-xl shadow bg-white border-l-4 ${{red:"bg-red-100 text-red-700",green:"bg-green-100 text-green-700",blue:"bg-blue-100 text-blue-700",purple:"bg-purple-100 text-purple-700",yellow:"bg-yellow-100 text-yellow-700"}[d]}`,children:[(0,b.jsx)("h3",{className:"text-lg font-semibold",children:a}),(0,b.jsx)("p",{className:"text-3xl font-bold mt-2",children:c})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=_53f365dc._.js.map