module.exports=[96889,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(76472),e=a.i(41710),f=a.i(16201),g=a.i(92e3),h=a.i(20005),i=a.i(4720),j=a.i(41675),k=a.i(26112),l=a.i(19721),m=a.i(24987),n=a.i(63519),o=a.i(94212),p=a.i(74566);let q=(0,l.default)(async()=>{},{loadableGenerated:{modules:[8235]},ssr:!1}),r=async(a,b)=>{try{let c=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${a}&lon=${b}&zoom=18&addressdetails=1`),d=await c.json();if(d.address){let a=d.address,b=[];return a.house_number&&b.push(a.house_number),a.road&&b.push(a.road),a.suburb?b.push(a.suburb):a.neighbourhood?b.push(a.neighbourhood):a.village?b.push(a.village):a.hamlet&&b.push(a.hamlet),a.city?b.push(a.city):a.town&&b.push(a.town),a.postcode&&b.push(`Pin Code ${a.postcode}`),a.state&&b.push(a.state),a.country&&b.push(a.country),b.filter(Boolean).join(", ")||"Location detected"}return"Location detected"}catch(a){return console.error("Error fetching address:",a),"Location detected"}};function s({recipientLocation:a,requests:d=[]}){let[e,f]=(0,c.useState)([]),[g,h]=(0,c.useState)(!0),[i,j]=(0,c.useState)(a?.latitude||21.1466),[l,s]=(0,c.useState)(a?.longitude||79.0889),[t,u]=(0,c.useState)(null),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(null),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)(null);(0,c.useEffect)(()=>{a&&a.latitude&&a.longitude&&(console.log("[RecipientHospitalMap] Location updated from prop:",a),j(a.latitude),s(a.longitude),C(null),w(!0),r(a.latitude,a.longitude).then(a=>{u(a),w(!1)}).catch(a=>{console.error("Error getting address:",a),w(!1)}))},[a]),(0,c.useEffect)(()=>{!a&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(async a=>{console.log("[RecipientHospitalMap] Got geolocation:",a.coords),j(a.coords.latitude),s(a.coords.longitude),w(!0);try{let b=await r(a.coords.latitude,a.coords.longitude);u(b)}catch(a){console.error("Error getting address:",a)}finally{w(!1)}},a=>{console.log("[RecipientHospitalMap] Geolocation error - using default location:",a)})},[a]),(0,c.useEffect)(()=>{(async()=>{try{h(!0),C(null),console.log("[RecipientHospitalMap] Fetching hospitals for location:",{recipientLat:i,recipientLon:l});let a=await fetch("http://localhost:5000/hospital/all");if(console.log("[RecipientHospitalMap] Response status:",a.status),!a.ok)throw Error(`API returned status ${a.status}`);let b=await a.json();if(console.log("[RecipientHospitalMap] Hospital API Response:",b),b.success&&b.hospitals&&b.hospitals.length>0){let a=b.hospitals.map(a=>{let b,c,d,e=a.location?.latitude||21.1466,f=a.location?.longitude||79.0889,g=(b=(e-i)*Math.PI/180,c=(f-l)*Math.PI/180,d=Math.sin(b/2)*Math.sin(b/2)+Math.cos(i*Math.PI/180)*Math.cos(e*Math.PI/180)*Math.sin(c/2)*Math.sin(c/2),2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d))*6371);return console.log(`[RecipientHospitalMap] Hospital: ${a.hospitalName}, Distance: ${g} km`),{...a,distance:g.toFixed(2)}}).filter(a=>{let b=parseFloat(a.distance);return b>=0&&b<=50});console.log("[RecipientHospitalMap] Nearby hospitals found:",a.length),a.sort((a,b)=>parseFloat(a.distance)-parseFloat(b.distance)),0===a.length?(C(null),f([])):(C(null),f(a),console.log("[RecipientHospitalMap] Successfully loaded",a.length,"hospitals"))}else C(null),f([]),console.log("[RecipientHospitalMap] No hospitals data:",b)}catch(a){console.error("[RecipientHospitalMap] Error fetching hospitals:",a),C(`Failed to fetch hospitals: ${a instanceof Error?a.message:"Unknown error"}`)}finally{h(!1)}})()},[i,l]);let D=e.map(a=>({location:{latitude:a.location?.latitude||21.1466,longitude:a.location?.longitude||79.0889},fullName:a.hospitalName||"Hospital",bloodType:a.bloodType||"Hospital"}));return g?(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 border-2 border-blue-200",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsx)(o.Hospital,{className:"w-8 h-8 text-blue-600"}),(0,b.jsx)("h2",{className:"text-3xl font-bold text-blue-700",children:"Nearby Hospitals"})]}),(0,b.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"inline-block w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"}),(0,b.jsx)("p",{className:"mt-4 text-gray-600 font-semibold",children:"Loading hospitals..."})]})})]}):B?(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 border-2 border-red-200",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsx)(o.Hospital,{className:"w-8 h-8 text-red-600"}),(0,b.jsx)("h2",{className:"text-3xl font-bold text-red-700",children:"Nearby Hospitals"})]}),(0,b.jsxs)("div",{className:"text-center py-12 bg-red-50 rounded-xl border-2 border-red-200",children:[(0,b.jsx)(o.Hospital,{className:"w-12 h-12 text-red-300 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-gray-700 font-semibold",children:"No hospital on your location"})]})]}):(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 border-2 border-blue-200",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsx)(o.Hospital,{className:"w-8 h-8 text-blue-600"}),(0,b.jsx)("h2",{className:"text-3xl font-bold text-blue-700",children:"Your Blood Requests & Nearby Hospitals"})]}),d&&d.length>0&&(0,b.jsxs)("div",{className:"mb-8 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6 border-2 border-purple-200",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold text-purple-700 mb-4 flex items-center gap-2",children:[(0,b.jsx)(k.Droplet,{className:"w-5 h-5 text-purple-600 fill-purple-600"}),"Your Active Blood Requests"]}),(0,b.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map((a,c)=>(0,b.jsxs)("div",{onClick:()=>A(a),className:`p-4 rounded-lg cursor-pointer transition-all border-2 ${z?._id===a._id?"bg-purple-200 border-purple-600 shadow-lg":"bg-white border-purple-200 hover:border-purple-400 hover:shadow-md"}`,children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("h4",{className:"font-bold text-gray-800",children:["RE-",a._id?.substring(0,6).toUpperCase()]}),(0,b.jsx)("p",{className:"text-sm text-purple-700 font-semibold",children:a.bloodType})]}),(0,b.jsxs)("span",{className:"bg-purple-600 text-white text-xs font-bold px-2 py-1 rounded-full",children:[a.unitsNeeded," units"]})]}),(0,b.jsxs)("div",{className:"text-xs text-gray-600 space-y-1",children:[(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Status:"})," ",a.status||"Pending"]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Urgency:"})," ",a.urgency||"Moderate"]})]})]},c))}),z&&(0,b.jsxs)("div",{className:"mt-4 pt-4 border-t-2 border-purple-200",children:[(0,b.jsxs)("h4",{className:"font-bold text-purple-700 mb-2",children:["Request Details: RE-",z._id?.substring(0,6).toUpperCase()]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-bold text-purple-600 uppercase",children:"Blood Type"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-red-600",children:z.bloodType})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-bold text-purple-600 uppercase",children:"Units Needed"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:z.unitsNeeded})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-bold text-purple-600 uppercase",children:"Status"}),(0,b.jsx)("p",{className:"text-xl font-bold text-blue-600",children:z.status||"Pending"})]})]})]})]}),0===e.length?(0,b.jsxs)("div",{className:"text-center py-12 bg-blue-50 rounded-xl",children:[(0,b.jsx)(m.MapPin,{className:"w-12 h-12 text-blue-300 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-gray-600 font-semibold",children:"No hospitals found nearby"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Hospitals may not have saved their locations yet. Check back later."})]}):(0,b.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,b.jsx)("div",{className:"md:col-span-2",children:(0,b.jsx)("div",{className:"rounded-xl overflow-hidden shadow-lg h-96 border-2 border-blue-100",children:(0,b.jsx)(q,{hospitals:D,currentLocation:{latitude:i,longitude:l}})})}),(0,b.jsxs)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[(0,b.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3 border-l-4 border-blue-600",children:[(0,b.jsx)("p",{className:"text-xs font-bold text-blue-700 uppercase tracking-wide",children:"ðŸ“ Hospitals Near You"}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[e.length," hospitals found within 0-20 km"]}),e.length>0&&(0,b.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Your Location: ",v?(0,b.jsx)("span",{className:"italic",children:"Loading address..."}):t||"Location detected"]})]}),e.map((a,c)=>(0,b.jsxs)("div",{onClick:()=>y(a),className:`p-4 rounded-xl cursor-pointer transition-all duration-200 border-2 ${x?.id===a.id?"bg-blue-100 border-blue-600 shadow-lg":"bg-gradient-to-r from-white to-blue-50 border-blue-200 hover:border-blue-400 hover:shadow-md"}`,children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,b.jsx)("h3",{className:"font-bold text-gray-800 text-sm line-clamp-2",children:a.hospitalName}),(0,b.jsxs)("span",{className:"bg-blue-600 text-white text-xs font-bold px-2 py-1 rounded-full flex-shrink-0 ml-1",children:[a.distance," km"]})]}),(0,b.jsxs)("div",{className:"space-y-1 text-xs text-gray-600",children:[a.phone&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(n.Phone,{className:"w-3 h-3 text-gray-400"}),(0,b.jsx)("span",{className:"truncate",children:a.phone})]}),a.location?.address&&(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(m.MapPin,{className:"w-3 h-3 text-gray-400 flex-shrink-0 mt-0.5"}),(0,b.jsx)("span",{className:"line-clamp-2",children:a.location.address})]})]}),(0,b.jsx)("div",{className:"mt-3 bg-gray-200 rounded-full h-2 overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-600 transition-all",style:{width:`${Math.max(10,100-parseFloat(a.distance)/Math.max(...e.map(a=>parseFloat(a.distance)))*100)}%`}})}),(0,b.jsxs)("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[(0,b.jsx)(p.Navigation,{className:"w-3 h-3"}),a.distance," km away"]})]},c))]})]}),x&&(0,b.jsxs)("div",{className:"mt-6 bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl p-6 border-l-4 border-blue-600",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold text-blue-700 mb-4 flex items-center gap-2",children:[(0,b.jsx)(o.Hospital,{className:"w-5 h-5"}),x.hospitalName]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-bold text-blue-600 uppercase tracking-wide mb-1",children:"Distance from You"}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-blue-700",children:[x.distance," ",(0,b.jsx)("span",{className:"text-lg text-gray-600",children:"km"})]})]}),x.phone&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-xs font-bold text-blue-600 uppercase tracking-wide mb-1 flex items-center gap-1",children:[(0,b.jsx)(n.Phone,{className:"w-3 h-3"}),"Contact"]}),(0,b.jsx)("a",{href:`tel:${x.phone}`,className:"text-lg font-bold text-blue-700 hover:underline",children:x.phone})]})]}),x.location?.address&&(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsxs)("p",{className:"text-xs font-bold text-blue-600 uppercase tracking-wide mb-1 flex items-center gap-1",children:[(0,b.jsx)(m.MapPin,{className:"w-3 h-3"}),"Address"]}),(0,b.jsx)("p",{className:"text-gray-700",children:x.location.address})]}),(0,b.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,b.jsxs)("button",{onClick:()=>{x.phone&&(window.location.href=`tel:${x.phone}`)},className:"flex-1 px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition flex items-center justify-center gap-2",children:[(0,b.jsx)(n.Phone,{className:"w-4 h-4"}),"Call Hospital"]}),(0,b.jsxs)("button",{onClick:()=>{x.location&&window.open(`https://maps.google.com/?q=${x.location.latitude},${x.location.longitude}`,"_blank")},className:"flex-1 px-4 py-2 bg-blue-100 text-blue-700 font-semibold rounded-lg hover:bg-blue-200 transition flex items-center justify-center gap-2",children:[(0,b.jsx)(p.Navigation,{className:"w-4 h-4"}),"Get Directions"]})]})]})]})}var t=a.i(38246),u=a.i(45747),v=a.i(63220),w=a.i(6899);function x(){let[a,k]=(0,c.useState)(null),[l,m]=(0,c.useState)("Recipient"),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(""),[r,x]=(0,c.useState)(null),[A,B]=(0,c.useState)(null),[C,D]=(0,c.useState)(!1),[E,F]=(0,c.useState)(!1),[G,H]=(0,c.useState)([]),[I,J]=(0,c.useState)(null),[K,L]=(0,c.useState)(!1),M=(0,w.useSocket)(),[N,O]=(0,c.useState)(!1),P=async(a,b)=>{try{let c=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${a}&lon=${b}&zoom=18&addressdetails=1`),d=await c.json();if(d.address){let a=d.address,b=[];return a.house_number&&b.push(a.house_number),a.road&&b.push(a.road),a.suburb?b.push(a.suburb):a.neighbourhood?b.push(a.neighbourhood):a.village?b.push(a.village):a.hamlet&&b.push(a.hamlet),a.city?b.push(a.city):a.town&&b.push(a.town),a.postcode&&b.push(`Pin Code ${a.postcode}`),a.state&&b.push(a.state),a.country&&b.push(a.country),b.filter(Boolean).join(", ")||"Location detected"}return"Location detected"}catch(a){return console.error("Error fetching address:",a),"Location detected"}};return(0,c.useEffect)(()=>{let a=localStorage.getItem("token"),b=localStorage.getItem("user");if(a)try{let b=(0,u.jwtDecode)(a);"recipient"===b.role&&k(b.userId)}catch(a){console.error("Invalid token:",a)}if(b){let a=JSON.parse(b);m(a.fullName||"Recipient"),o(a.email||""),q(a.phone||"")}navigator.geolocation&&navigator.geolocation.getCurrentPosition(async a=>{let b={latitude:a.coords.latitude,longitude:a.coords.longitude};x(b),console.log("Recipient location from geolocation:",b),D(!0);try{let b=await P(a.coords.latitude,a.coords.longitude);B(b)}catch(a){console.error("Error getting address:",a)}finally{D(!1)}},a=>{if(console.warn("Geolocation error:",a),b){let a=JSON.parse(b);a.location&&a.location.latitude&&a.location.longitude&&(x(a.location),console.log("Using stored location:",a.location),D(!0),P(a.location.latitude,a.location.longitude).then(a=>{B(a),D(!1)}).catch(a=>{console.error("Error getting address:",a),D(!1)}))}},{enableHighAccuracy:!0,timeout:15e3})},[]),(0,c.useEffect)(()=>{let b=M.current;if(b)return b.on("request_created",b=>{console.log("New request created:",b),b&&"object"==typeof b&&H(c=>[{...b,status:b.status||"Pending",_id:b._id||b.requestId,requestedBy:b.requestedBy||a},...c])}),b.on("request_updated",a=>{H(b=>b.map(b=>b._id===a._id?{...b,...a}:b))}),b.on("availability_changed",()=>{console.log("Donor availability updated - refreshing requests")}),b.on("request_fulfilled",a=>{H(b=>b.filter(b=>b._id!==a.requestId))}),()=>{b.off("request_created"),b.off("request_updated"),b.off("availability_changed"),b.off("request_fulfilled")}},[M,a]),(0,c.useEffect)(()=>{a&&fetch(v.REQUEST.getAllRequests).then(a=>a.json()).then(b=>{let c=(b.requests||[]).filter(b=>("object"==typeof b.requestedBy?b.requestedBy?._id:b.requestedBy)===a&&!0===b.isRecipientRequest).filter(a=>!a.status||"fulfilled"!==a.status.toLowerCase()&&"successful"!==a.status.toLowerCase());H(c),console.log("My recipient requests:",c)}).catch(a=>console.error("Request fetch error:",a))},[a]),(0,b.jsxs)("main",{className:"min-h-screen bg-gradient-to-br from-white via-red-50 to-white",children:[(0,b.jsx)("header",{className:"bg-gradient-to-r from-red-600 to-red-700 text-white p-6",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(d.Heart,{className:"w-8 h-8 fill-white"}),(0,b.jsx)("h1",{className:"text-3xl font-bold",children:l})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 relative",children:[(0,b.jsx)("button",{onClick:()=>F(!E),className:"p-2 rounded-full hover:bg-red-500 transition bg-white text-red-600 w-10 h-10 flex items-center justify-center",title:"Profile menu",children:"ðŸ‘¤"}),E&&(0,b.jsxs)("div",{className:"absolute right-0 top-12 bg-gradient-to-b from-white to-gray-50 text-gray-800 rounded-2xl shadow-2xl w-64 z-40 border border-red-100 overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-5 bg-gradient-to-r from-red-50 to-red-100 border-b-2 border-red-200",children:[(0,b.jsx)("p",{className:"font-bold text-lg text-red-700",children:l}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:n}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:p})]}),(0,b.jsxs)("div",{className:"py-2",children:[(0,b.jsxs)(t.default,{href:"/recipient/profile",className:"flex items-center gap-3 px-4 py-3 hover:bg-red-50 text-gray-800 transition border-l-4 border-transparent hover:border-red-600",onClick:()=>F(!1),children:[(0,b.jsx)(i.FileText,{className:"w-5 h-5 text-red-600"}),(0,b.jsx)("span",{className:"font-medium",children:"Edit Profile"})]}),(0,b.jsxs)(t.default,{href:"/recipient/history",className:"flex items-center gap-3 px-4 py-3 hover:bg-orange-50 text-gray-800 transition border-l-4 border-transparent hover:border-orange-600",onClick:()=>F(!1),children:[(0,b.jsx)(j.Calendar,{className:"w-5 h-5 text-orange-600"}),(0,b.jsx)("span",{className:"font-medium",children:"View History"})]}),(0,b.jsxs)("button",{onClick:()=>{localStorage.clear(),window.location.href="/"},className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-red-100 text-gray-800 transition border-l-4 border-transparent hover:border-red-700",children:[(0,b.jsx)(h.LogOut,{className:"w-5 h-5 text-red-700"}),(0,b.jsx)("span",{className:"font-medium",children:"Logout"})]})]})]})]})]})}),(0,b.jsxs)("div",{className:"max-w-7xl mx-auto p-6 space-y-8",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold",children:"Your Blood Requests"}),(0,b.jsx)(t.default,{href:"/recipient/create-request",className:"px-6 py-2 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700 transition",children:"+ New Request"})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[0===G.length&&(0,b.jsx)("p",{className:"text-gray-600 col-span-full",children:"You have not created any requests yet."}),G.map((a,c)=>(0,b.jsxs)("div",{className:`bg-gradient-to-br ${"Fulfilled"===a.status?"from-green-50 to-white border-2 border-green-200":"Pending"===a.status?"from-orange-50 to-white border-2 border-orange-200":"from-red-50 to-white border-2 border-red-200"} rounded-2xl shadow-xl p-6 hover:shadow-2xl transition`,children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm text-gray-600 font-bold uppercase tracking-wide mb-2",children:"Blood Type Needed"}),(0,b.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,b.jsx)("div",{className:"text-4xl font-bold text-red-600",children:a.bloodType}),(0,b.jsxs)("div",{className:"text-lg text-gray-600",children:[a.unitsNeeded," units"]})]})]}),(0,b.jsx)("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full font-bold text-sm ${(a=>{switch(a){case"Fulfilled":return"bg-green-100";case"Pending":return"bg-orange-100";case"Cancelled":return"bg-red-100";default:return"bg-gray-100"}})(a.status)}`,children:"Fulfilled"===a.status?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.CheckCircle,{className:"w-4 h-4 text-green-600"}),(0,b.jsx)("span",{className:"text-green-600",children:"Fulfilled"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e.Clock,{className:"w-4 h-4 text-orange-600"}),(0,b.jsx)("span",{className:"text-orange-600",children:"Pending"})]})})]}),(0,b.jsxs)("div",{className:"border-t border-gray-200 pt-4 mb-4 space-y-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-600 font-bold uppercase",children:"Hospital"}),(0,b.jsx)("p",{className:"text-gray-800 font-semibold",children:a.hospital||"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-600 font-bold uppercase",children:"Urgency"}),(0,b.jsx)("p",{className:"text-orange-600 font-semibold",children:a.urgency||"MODERATE"})]})]}),(0,b.jsx)("button",{onClick:()=>{J(a),L(!0)},className:"w-full px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white font-semibold rounded-lg hover:shadow-lg transition mt-2",children:"View Details"})]},c))]})]}),K&&I&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full overflow-hidden",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-red-600 to-red-700 text-white p-8",children:(0,b.jsxs)("h2",{className:"text-3xl font-bold flex items-center gap-2",children:[(0,b.jsx)(d.Heart,{className:"w-8 h-8 fill-white"}),"Blood Request Details"]})}),(0,b.jsxs)("div",{className:"p-8 space-y-6 max-h-[70vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"bg-red-50 rounded-xl p-5 border-2 border-red-200",children:[(0,b.jsx)("h3",{className:"text-gray-600 font-bold text-xs uppercase mb-2",children:"Blood Type"}),(0,b.jsx)("p",{className:"text-4xl font-bold text-red-600",children:I.bloodType})]}),(0,b.jsxs)("div",{className:"bg-orange-50 rounded-xl p-5 border-2 border-orange-200",children:[(0,b.jsx)("h3",{className:"text-gray-600 font-bold text-xs uppercase mb-2",children:"Units Needed"}),(0,b.jsx)("p",{className:"text-4xl font-bold text-orange-600",children:I.unitsNeeded})]}),(0,b.jsxs)("div",{className:`rounded-xl p-5 border-2 ${"Fulfilled"===I.status?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:[(0,b.jsx)("h3",{className:"text-gray-600 font-bold text-xs uppercase mb-2",children:"Status"}),(0,b.jsx)("p",{className:`text-xl font-bold ${"Fulfilled"===I.status?"text-green-600":"text-yellow-600"}`,children:I.status})]})]}),(0,b.jsxs)("div",{className:"border-t-2 border-gray-200 pt-6",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[(0,b.jsx)(g.AlertCircle,{className:"w-6 h-6 text-red-600"}),"Request Information"]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 font-bold uppercase mb-1",children:"Patient/Recipient Name"}),(0,b.jsx)("p",{className:"text-lg text-gray-800 font-semibold",children:I.recipientName||"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 font-bold uppercase mb-1",children:"Hospital"}),(0,b.jsx)("p",{className:"text-lg text-gray-800",children:I.hospital||"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 font-bold uppercase mb-1",children:"Urgency Level"}),(0,b.jsx)("p",{className:"text-lg text-orange-600 font-semibold",children:I.urgency||"MODERATE"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 font-bold uppercase mb-1",children:"Confirmation Status"}),(0,b.jsx)("p",{className:`text-lg font-semibold px-3 py-1 rounded inline-block ${(a=>{switch(a){case"Confirmed":return"text-green-600 bg-green-100";case"Rejected":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}})(I.confirmationStatus||"Pending")}`,children:I.confirmationStatus||"Pending"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 font-bold uppercase mb-1",children:"Created"}),(0,b.jsx)("p",{className:"text-lg text-gray-800",children:new Date(I.createdAt||Date.now()).toLocaleDateString()})]})]})]}),(0,b.jsxs)("div",{className:"border-t-2 border-gray-200 pt-6",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[(0,b.jsx)(f.CheckCircle,{className:"w-6 h-6 text-green-600"}),"Request Progress"]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:`w-6 h-6 rounded-full ${I.status?"bg-green-600":"bg-gray-300"}`}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-bold text-gray-800",children:"Request Created"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:new Date(I.createdAt||Date.now()).toLocaleString()})]})]}),"Fulfilled"===I.status&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-6 h-6 rounded-full bg-green-600"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-bold text-gray-800",children:"Donor Matched"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Blood type compatibility confirmed"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-6 h-6 rounded-full bg-green-600"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-bold text-gray-800",children:"Donation Scheduled"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Blood scheduled for delivery"})]})]})]})]})]})]}),(0,b.jsx)("div",{className:"bg-gray-50 p-8 border-t-2 border-gray-200 flex justify-end gap-4",children:(0,b.jsx)("button",{onClick:()=>L(!1),className:"px-8 py-3 bg-gray-300 text-gray-800 font-bold rounded-lg hover:bg-gray-400 transition",children:"Close"})})]})}),(0,b.jsx)("div",{className:"max-w-7xl mx-auto p-6",children:(0,b.jsx)(y,{recipientName:l,requests:G})}),(0,b.jsx)("div",{className:"max-w-7xl mx-auto p-6",children:(0,b.jsx)(s,{recipientLocation:r,requests:G})}),(0,b.jsx)("div",{className:"max-w-7xl mx-auto p-6",children:(0,b.jsx)(z,{})})]})}function y({recipientName:a,requests:c}){let e=c.filter(a=>"Fulfilled"!==a.status),h=c.length;return(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[(0,b.jsxs)("h2",{className:"text-3xl font-bold text-red-700 mb-6 flex items-center gap-2",children:[(0,b.jsx)(d.Heart,{className:"w-8 h-8 fill-red-600"}),"Your Blood Request Overview"]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-2xl p-6 border-2 border-orange-300 shadow-lg hover:shadow-xl transition",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 font-bold uppercase mb-2",children:"Active Requests"}),(0,b.jsx)("p",{className:"text-4xl font-bold text-orange-600",children:e.length})]}),(0,b.jsx)("div",{className:"bg-orange-600 text-white p-4 rounded-full",children:(0,b.jsx)(g.AlertCircle,{className:"w-8 h-8"})})]}),(0,b.jsx)("p",{className:"text-xs text-gray-600 mt-3",children:"Awaiting donor match and donation"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-2xl p-6 border-2 border-red-300 shadow-lg hover:shadow-xl transition",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 font-bold uppercase mb-2",children:"Total Requests"}),(0,b.jsx)("p",{className:"text-4xl font-bold text-red-600",children:h})]}),(0,b.jsx)("div",{className:"bg-red-600 text-white p-4 rounded-full",children:(0,b.jsx)(d.Heart,{className:"w-8 h-8 fill-white"})})]}),(0,b.jsx)("p",{className:"text-xs text-gray-600 mt-3",children:"All requests created"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-2xl p-6 border-2 border-green-300 shadow-lg hover:shadow-xl transition",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 font-bold uppercase mb-2",children:"Fulfilled"}),(0,b.jsx)("p",{className:"text-4xl font-bold text-green-600",children:h-e.length})]}),(0,b.jsx)("div",{className:"bg-green-600 text-white p-4 rounded-full",children:(0,b.jsx)(f.CheckCircle,{className:"w-8 h-8"})})]}),(0,b.jsx)("p",{className:"text-xs text-gray-600 mt-3",children:"Successfully matched & received"})]})]}),(0,b.jsxs)("div",{className:"mt-8 bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl p-6 border-l-4 border-blue-600",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold text-blue-700 mb-3 flex items-center gap-2",children:[(0,b.jsx)(g.AlertCircle,{className:"w-5 h-5"}),"Tips for Your Request"]}),(0,b.jsxs)("ul",{className:"space-y-2 text-sm text-gray-700",children:[(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)(f.CheckCircle,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"})," ",(0,b.jsxs)("span",{children:[(0,b.jsx)("strong",{children:"Provide Complete Information:"})," The more details you provide, the faster donors can match."]})]}),(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)(f.CheckCircle,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"})," ",(0,b.jsxs)("span",{children:[(0,b.jsx)("strong",{children:"Update Your Location:"})," Helps nearby donors find you quickly."]})]}),(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)(f.CheckCircle,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"})," ",(0,b.jsxs)("span",{children:[(0,b.jsx)("strong",{children:"Check Status Regularly:"})," Visit your request details to see matching progress."]})]}),(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)(f.CheckCircle,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"})," ",(0,b.jsxs)("span",{children:[(0,b.jsx)("strong",{children:"Contact Hospital:"})," If urgent, reach out to your hospital directly."]})]})]})]})]})}function z(){return(0,b.jsxs)("div",{className:"mt-10 p-8 bg-gradient-to-r from-white via-red-50 to-white rounded-2xl shadow-lg border-2 border-red-200",children:[(0,b.jsxs)("h2",{className:"text-3xl font-bold text-red-700 mb-2 flex items-center gap-2",children:[(0,b.jsx)(d.Heart,{className:"w-8 h-8 fill-red-600"})," Blood Type Information for Recipients"]}),(0,b.jsx)("p",{className:"text-gray-600 mb-6 text-sm",children:"Know which blood types can help you"}),(0,b.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{type:"O-",icon:"â¬›",receives:"O- only",description:"Rarest blood type. Can only receive O- blood.",color:"from-red-100 to-red-200",border:"border-red-400"},{type:"O+",icon:"âšª",receives:"O+, O-",description:"Can receive from O donors (most common donors)",color:"from-red-50 to-red-100",border:"border-red-300"},{type:"A-",icon:"â¬›",receives:"A-, O-",description:"Can receive from A- and O- donors",color:"from-rose-100 to-rose-200",border:"border-rose-400"},{type:"A+",icon:"âšª",receives:"A+, A-, O+, O-",description:"Can receive from A and O donors",color:"from-red-50 to-red-100",border:"border-red-300"},{type:"B-",icon:"â¬›",receives:"B-, O-",description:"Can receive from B- and O- donors",color:"from-rose-100 to-rose-200",border:"border-rose-400"},{type:"B+",icon:"âšª",receives:"B+, B-, O+, O-",description:"Can receive from B and O donors",color:"from-red-50 to-red-100",border:"border-red-300"},{type:"AB-",icon:"â¬›",receives:"AB-, A-, B-, O-",description:"Can receive from A, B, and O negative donors",color:"from-pink-100 to-pink-200",border:"border-pink-400"},{type:"AB+",icon:"âšª",receives:"All types",description:"Universal recipient! Can receive from anyone.",color:"from-red-200 to-red-300",border:"border-red-500"}].map((a,c)=>(0,b.jsxs)("div",{className:`bg-gradient-to-br ${a.color} p-5 rounded-2xl shadow-lg border-2 ${a.border} hover:shadow-xl transition-all duration-300 transform hover:scale-105`,children:[(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"font-bold text-3xl text-gray-900",children:a.type}),(0,b.jsx)("span",{className:"text-3xl",children:a.icon})]}),(0,b.jsxs)("p",{className:"text-xs text-gray-700 font-semibold italic",children:['"',a.description,'"']})]}),(0,b.jsxs)("div",{className:"bg-white bg-opacity-70 rounded-lg p-3 mt-3",children:[(0,b.jsxs)("p",{className:"text-xs font-bold text-gray-800 mb-2 flex items-center gap-1",children:[(0,b.jsx)(k.Droplet,{className:"w-3 h-3 text-red-600 fill-red-600"})," Can receive from:"]}),(0,b.jsx)("p",{className:"text-sm font-bold text-red-700",children:a.receives})]})]},c))}),(0,b.jsx)("div",{className:"mt-8 bg-gradient-to-r from-green-50 to-green-100 rounded-xl p-5 border-l-4 border-green-600",children:(0,b.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,b.jsxs)("span",{className:"font-bold text-green-700 flex items-center gap-2 mb-2",children:[(0,b.jsx)(d.Heart,{className:"w-4 h-4 fill-green-600 text-green-600"})," Know Your Type:"]})," If you have AB+ blood type, you're a universal recipient and can receive blood from any donor - a huge advantage! Check your blood type if you don't know it yet."]})})]})}a.s(["default",()=>x],96889)}];

//# sourceMappingURL=app_recipient_dashboard_page_tsx_ee052de9._.js.map