(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[35],{1350:function(e,t,a){Promise.resolve().then(a.bind(a,268))},268:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return A}});var s=a(7437),o=a(2265),r=a(9322),l=a(9388),n=a(1671);function i(e){let{isOpen:t,request:a,onConfirm:i,onReject:d,isLoading:c=!1}=e,[h,m]=(0,o.useState)(""),[u,x]=(0,o.useState)(!1);if(!t||!a)return null;let p=a.isRecipientRequest?a.recipientName||"Recipient":a.hospital||"Hospital";return(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-lg max-w-md w-full mx-4 p-8",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)(r.Z,{className:"w-12 h-12 text-red-600"})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-center text-gray-900 mb-2",children:"Confirm Donation?"}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"From:"}),(0,s.jsx)("span",{className:"font-semibold",children:p})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Blood Type:"}),(0,s.jsx)("span",{className:"font-semibold text-red-600",children:a.bloodType})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Units Needed:"}),(0,s.jsx)("span",{className:"font-semibold",children:a.unitsNeeded})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Distance:"}),(0,s.jsxs)("span",{className:"font-semibold",children:[a.locationKm||"N/A"," km"]})]})]}),u?(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Why are you rejecting? (optional)"}),(0,s.jsx)("textarea",{value:h,onChange:e=>m(e.target.value),placeholder:"Enter reason for rejecting...",className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",rows:3})]}):null,(0,s.jsx)("div",{className:"flex gap-3",children:u?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>{x(!1),m("")},disabled:c,className:"flex-1 px-4 py-3 bg-gray-200 text-gray-900 rounded-lg font-semibold hover:bg-gray-300 disabled:opacity-50",children:"Back"}),(0,s.jsxs)("button",{onClick:()=>{d(h),x(!1),m("")},disabled:c,className:"flex-1 px-4 py-3 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[(0,s.jsx)(l.Z,{className:"w-5 h-5"}),"Reject"]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>x(!0),disabled:c,className:"flex-1 px-4 py-3 bg-gray-200 text-gray-900 rounded-lg font-semibold hover:bg-gray-300 disabled:opacity-50",children:"Reject"}),(0,s.jsxs)("button",{onClick:i,disabled:c,className:"flex-1 px-4 py-3 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[(0,s.jsx)(n.Z,{className:"w-5 h-5"}),"Confirm"]})]})}),c&&(0,s.jsx)("p",{className:"text-center text-sm text-gray-600 mt-3",children:"Processing..."})]})})}var d=a(166),c=a(7648),h=a(4474),m=a(8997),u=a(8736),x=a(1047),p=a(9205);let g=(0,p.Z)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);var f=a(7692),b=a(3774),y=a(2489),j=a(1723);let v=(0,p.Z)("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);var N=a(3759);let w=(0,p.Z)("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]),S=(0,p.Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var k=a(1239);let D=(0,p.Z)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),C=(0,p.Z)("Ambulance",[["path",{d:"M10 10H6",key:"1bsnug"}],["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.28a1 1 0 0 0-.684-.948l-1.923-.641a1 1 0 0 1-.578-.502l-1.539-3.076A1 1 0 0 0 16.382 8H14",key:"lrkjwd"}],["path",{d:"M8 8v4",key:"1fwk8c"}],["path",{d:"M9 18h6",key:"x1upvd"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);var E=a(8985);(0,d.default)(()=>a.e(251).then(a.bind(a,6251)),{loadableGenerated:{webpack:()=>[6251]},ssr:!1});let I=(0,d.default)(()=>a.e(521).then(a.bind(a,7521)),{loadableGenerated:{webpack:()=>[7521]},ssr:!1});function A(){let[e,t]=(0,o.useState)([]),[a,r]=(0,o.useState)([]),[l,n]=(0,o.useState)([]),[d,p]=(0,o.useState)([]),[y,j]=(0,o.useState)([]),[v,N]=(0,o.useState)(null),[w,S]=(0,o.useState)("Donor"),[k,D]=(0,o.useState)(""),[C,A]=(0,o.useState)(""),[L,P]=(0,o.useState)(""),[H,F]=(0,o.useState)(!1),[J,U]=(0,o.useState)(null),[z,G]=(0,o.useState)(!1),[Y,V]=(0,o.useState)(!1),[$,K]=(0,o.useState)(20),[W,X]=(0,o.useState)(0),[Q,ee]=(0,o.useState)(!0),[et,ea]=(0,o.useState)(!1),[es,eo]=(0,o.useState)(null),[er,el]=(0,o.useState)(!1),en=(0,E.s)(),ei=["\uD83E\uDE78 Your donation saves up to 3 lives. Be a hero today!","\uD83E\uDE78 One donation, three lives. You have the power to help.","\uD83E\uDE78 Blood donation is a gift of love. Give today, save a life tomorrow.","\uD83E\uDE78 Donate blood. It's the simplest way to make a difference.","\uD83E\uDE78 Every drop counts. Your blood donation matters more than you know.","\uD83E\uDE78 Be someone's type O positive. Donate blood today.","\uD83E\uDE78 A patient without blood is a patient without hope. Donate now.","\uD83E\uDE78 Your generosity flows through us. Thank you for donating!","\uD83E\uDE78 Blood donation is the greatest gift of all. Keep giving.","\uD83E\uDE78 Donate blood and become a real-life superhero."],[ed,ec]=(0,o.useState)(!1);(0,o.useEffect)(()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("user");if(e)try{let t=(0,h.o)(e);N(t.userId)}catch(e){console.error("Invalid token",e)}if(t){let e=JSON.parse(t);if(console.log("[Dashboard] Loading user from localStorage:",e),console.log("[Dashboard] Profile image:",e.profileImage),S(e.fullName||"Donor"),D(e.email||""),A(e.phone||""),P(e.profileImage||""),G(e.available||!1),K(e.sleepTime||20),e.locationSharingStoppedAt){let t=new Date(e.locationSharingStoppedAt).getTime(),a=6e4*(e.sleepTime||20);new Date().getTime()-t>a?(V(!1),U(null),e.locationSharingStoppedAt=null,localStorage.setItem("user",JSON.stringify(e))):V(!0)}else V(e.locationSharing||!1)}},[]),(0,o.useEffect)(()=>{let e=e=>{let t=(null==e?void 0:e.detail)||{};S(t.fullName||"Donor"),D(t.email||""),A(t.phone||""),P(t.profileImage||"")};return window.addEventListener("user-updated",e),()=>window.removeEventListener("user-updated",e)},[]),(0,o.useEffect)(()=>{let e=()=>{let e=localStorage.getItem("user");if(e)try{let t=JSON.parse(e);S(t.fullName||"Donor"),D(t.email||""),A(t.phone||""),P(t.profileImage||"")}catch(e){console.error("Unable to parse stored user",e)}};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[]),(0,o.useEffect)(()=>{let e=setInterval(()=>{X(e=>(e+1)%ei.length)},8e3);return()=>clearInterval(e)},[ei.length]),(0,o.useEffect)(()=>{let e=en.current;if(e)return e.emit("register",v),e.on("schedule_status_updated",e=>{console.log("[Socket] Schedule status updated:",e),j(t=>t.map(t=>t._id===e.scheduleId?{...t,status:e.status}:t)),em(),alert("Your donation schedule was ".concat(e.status.toUpperCase()))}),e.on("request_created",e=>{e&&e._id&&(r(t=>t.some(t=>t._id===e._id)?t:[e,...t]),e.isRecipientRequest?p(t=>t.some(t=>t._id===e._id)?t:[e,...t]):e.hospital&&""!==e.hospital&&n(t=>t.some(t=>t._id===e._id)?t:[e,...t]),console.log("New request created:",e))}),e.on("availability_changed",e=>{console.log("Donor availability updated:",e)}),e.on("request_fulfilled",e=>{r(t=>t.filter(t=>t._id!==e.requestId)),n(t=>t.filter(t=>t._id!==e.requestId)),p(t=>t.filter(t=>t._id!==e.requestId)),t(t=>[...t,{_id:e.requestId,units:e.unitsNeeded,bloodType:e.bloodType,date:new Date}])}),e.on("request_confirmed",e=>{e&&e._id&&(console.log("Request confirmation status updated:",e),n(t=>t.map(t=>t._id===e._id?{...t,confirmationStatus:e.confirmationStatus,confirmedBy:e.confirmedBy,confirmationNotes:e.confirmationNotes}:t)),p(t=>t.map(t=>t._id===e._id?{...t,confirmationStatus:e.confirmationStatus,confirmedBy:e.confirmedBy,confirmationNotes:e.confirmationNotes}:t)),r(t=>t.map(t=>t._id===e._id?{...t,confirmationStatus:e.confirmationStatus,confirmedBy:e.confirmedBy,confirmationNotes:e.confirmationNotes}:t)))}),e.on("donation_completed",e=>{e&&e.requestId&&(console.log("Donation completed (time reached):",e),n(t=>t.map(t=>t._id===e.requestId?{...t,confirmationStatus:"Successful",status:"Fulfilled"}:t)),p(t=>t.map(t=>t._id===e.requestId?{...t,confirmationStatus:"Successful",status:"Fulfilled"}:t)),r(t=>t.map(t=>t._id===e.requestId?{...t,confirmationStatus:"Successful",status:"Fulfilled"}:t)))}),()=>{e.off("schedule_status_updated"),e.off("request_created"),e.off("availability_changed"),e.off("request_fulfilled"),e.off("request_confirmed"),e.off("donation_completed")}},[v,en]),(0,o.useEffect)(()=>{v&&fetch("http://localhost:5000/donor/history/".concat(v)).then(e=>e.json()).then(e=>t(e.donations||[])).catch(e=>console.error("history fetch error",e))},[v]);let eh=async()=>{try{let e=await fetch("http://localhost:5000/request/all"),t=(await e.json()).requests||[];console.log("[Dashboard] Fetched raw requests:",t.length),t.length>0&&console.log("[Dashboard] Sample raw request:",{hospital:t[0].hospital,phone:t[0].phone,address:t[0].address,location:t[0].location});let a=(e,t,a,s)=>{let o=(a-e)*Math.PI/180,r=(s-t)*Math.PI/180,l=Math.sin(o/2)*Math.sin(o/2)+Math.cos(e*Math.PI/180)*Math.cos(a*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2);return Math.round(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))*63710)/10},s=t.map(e=>{if(J&&e.location&&e.location.latitude&&e.location.longitude){let t=a(J.lat,J.lng,e.location.latitude,e.location.longitude);return console.log("[Dashboard] Distance calc: Donor(".concat(J.lat.toFixed(4),", ").concat(J.lng.toFixed(4),") -> Hospital ").concat(e.hospital,"(").concat(e.location.latitude,", ").concat(e.location.longitude,") = ").concat(t,"km")),{...e,calculatedDistance:t}}return e}),o=s.filter(e=>e.hospital&&""!==e.hospital&&!e.isRecipientRequest&&e.location&&e.location.latitude&&e.location.longitude&&!!J&&e.calculatedDistance<=20),l=s.filter(e=>!0===e.isRecipientRequest&&e.location&&e.location.latitude&&e.location.longitude&&(!J||e.calculatedDistance<=20));if(n(o),p(l),r(s),console.log("[Dashboard] Loaded hospitals within 20km:",o.length),o.length>0){let e=o[0];console.log("[Dashboard] Sample hospital after processing:",{hospital:e.hospital,phone:e.phone,address:e.address,calculatedDistance:e.calculatedDistance,location:e.location})}}catch(e){console.error("Request fetch error:",e)}},em=async()=>{if(v)try{let e=await fetch("http://localhost:5000/schedule/donor/".concat(v)),t=(await e.json()).schedules||[],a=Array.from(new Map(t.map(e=>{var t;return[(null===(t=e.requestId)||void 0===t?void 0:t._id)||e.requestId||e._id,e]})).values());j(a),console.log("[Dashboard] Loaded schedules:",a),eh()}catch(e){console.error("schedules fetch err",e)}};(0,o.useEffect)(()=>{em()},[v]),(0,o.useEffect)(()=>{let e=setTimeout(()=>{em()},500);return()=>clearTimeout(e)},[v]),(0,o.useEffect)(()=>{if(!J&&v){let e=setTimeout(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>{U({lat:e.coords.latitude,lng:e.coords.longitude}),console.log("[Donor Dashboard] Location auto-requested:",e.coords)},e=>{console.log("[Donor Dashboard] Location permission denied or error:",e),eh()},{enableHighAccuracy:!0,timeout:15e3})},500);return()=>clearTimeout(e)}},[v]),(0,o.useEffect)(()=>{J&&eh()},[J]);let eu=async()=>{if(!v)return alert("⚠ Not logged in");if(!J)return alert("⚠ Please share your location first!");try{let e=await fetch("http://localhost:5000/donor/availability",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({donorId:v,available:!0,latitude:J.lat,longitude:J.lng})}),t=await e.json();if(t.success){G(!0);let e=localStorage.getItem("user");if(e){let t=JSON.parse(e);t.available=!0,localStorage.setItem("user",JSON.stringify(t))}}else alert("Error: "+(t.message||"Could not mark available"))}catch(e){console.error(e),alert("Network error while marking availability")}},ex=async()=>{if(!v)return alert("⚠ Not logged in");try{let e=await fetch("http://localhost:5000/donor/availability",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({donorId:v,available:!1})}),t=await e.json();if(t.success){G(!1);let e=localStorage.getItem("user");if(e){let t=JSON.parse(e);t.available=!1,localStorage.setItem("user",JSON.stringify(t))}}else alert("Error: "+(t.message||"Could not mark unavailable"))}catch(e){console.error(e),alert("Network error while marking unavailable")}},ep=async()=>{if(es){el(!0);try{let e=await fetch("http://localhost:5000/request/".concat(es._id,"/confirm"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"Confirmed",confirmedBy:v,notes:"Donor confirmed and will proceed to schedule donation."})}),t=await e.json();if(t.success){try{await fetch("http://localhost:5000/email/send-donation-scheduled",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({requestId:es._id,donorId:v,donorName:w,donorEmail:k,hospital:es.hospital,bloodType:es.bloodType,units:es.unitsNeeded,recipientName:es.recipientName,recipientEmail:es.recipientEmail,isRecipientRequest:es.isRecipientRequest})})}catch(e){console.error("Error sending emails:",e)}ea(!1),window.location.href="/donor/schedule-donation?requestId=".concat(es._id,"&hospital=").concat(encodeURIComponent(es.hospital||""),"&units=").concat(es.unitsNeeded,"&bloodType=").concat(es.bloodType)}else alert("Error confirming donation: "+(t.message||"Unknown error"))}catch(e){console.error("Error confirming donation:",e),alert("Network error while confirming donation")}finally{el(!1)}}},eg=async e=>{if(es){el(!0);try{let t=await fetch("http://localhost:5000/request/".concat(es._id,"/confirm"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"Rejected",confirmedBy:v,notes:e||"Donor rejected donation request."})}),a=await t.json();a.success?(n(e=>e.map(e=>e._id===es._id?{...e,confirmationStatus:"Rejected"}:e)),p(e=>e.map(e=>e._id===es._id?{...e,confirmationStatus:"Rejected"}:e)),ea(!1),alert("Donation rejected. Hospital has been notified.")):alert("Error rejecting donation: "+(a.message||"Unknown error"))}catch(e){console.error("Error rejecting donation:",e),alert("Network error while rejecting donation")}finally{el(!1)}}};return(0,s.jsxs)("main",{className:"min-h-screen bg-linear-to-br from-white via-red-50 to-white",children:[(0,s.jsxs)("header",{className:"bg-red-600 text-white p-6 shadow-lg flex justify-between items-center sticky top-0 z-50",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 text-2xl font-bold",children:[(0,s.jsx)(m.Z,{className:"w-7 h-7 fill-white"}),w]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 relative",children:[(0,s.jsx)("button",{onClick:()=>F(!H),className:"p-2 rounded-full hover:bg-red-500 transition bg-white text-red-600 w-10 h-10 flex items-center justify-center",title:"Profile menu",children:"\uD83D\uDC64"}),H&&(0,s.jsxs)("div",{className:"absolute right-0 top-12 bg-gradient-to-b from-white to-gray-50 text-gray-800 rounded-2xl shadow-2xl w-64 z-40 border border-red-100 overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-5 bg-gradient-to-r from-red-50 to-red-100 border-b-2 border-red-200",children:[(0,s.jsx)("p",{className:"font-bold text-lg text-red-700",children:w}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:k}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:C})]}),(0,s.jsxs)("div",{className:"py-2",children:[(0,s.jsxs)(c.default,{href:"/donor/profile",className:"flex items-center gap-3 px-4 py-3 hover:bg-red-50 text-gray-800 transition border-l-4 border-transparent hover:border-red-600",onClick:()=>F(!1),children:[(0,s.jsx)(u.Z,{className:"w-5 h-5 text-red-600"}),(0,s.jsx)("span",{className:"font-medium",children:"Edit Profile"})]}),(0,s.jsxs)(c.default,{href:"/donor/history",className:"flex items-center gap-3 px-4 py-3 hover:bg-orange-50 text-gray-800 transition border-l-4 border-transparent hover:border-orange-600",onClick:()=>F(!1),children:[(0,s.jsx)(x.Z,{className:"w-5 h-5 text-orange-600"}),(0,s.jsx)("span",{className:"font-medium",children:"View History"})]}),(0,s.jsxs)(c.default,{href:"/donor/perks",className:"flex items-center gap-3 px-4 py-3 hover:bg-yellow-50 text-gray-800 transition border-l-4 border-transparent hover:border-yellow-600",onClick:()=>F(!1),children:[(0,s.jsx)(g,{className:"w-5 h-5 text-yellow-600"}),(0,s.jsx)("span",{className:"font-medium",children:"View Perks"})]}),(0,s.jsxs)("button",{onClick:()=>{if(Y){let e=localStorage.getItem("user");if(e){let t=JSON.parse(e);t.locationSharingStoppedAt=new Date().toISOString(),t.sleepTime=$,localStorage.setItem("user",JSON.stringify(t))}}localStorage.removeItem("token"),window.location.href="/"},className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-red-100 text-gray-800 transition border-l-4 border-transparent hover:border-red-700",children:[(0,s.jsx)(f.Z,{className:"w-5 h-5 text-red-700"}),(0,s.jsx)("span",{className:"font-medium",children:"Logout"})]})]})]})]})]}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto p-6 space-y-12",children:[(0,s.jsx)(_,{donorName:w,profileImage:L,getLocation:()=>{if(!navigator.geolocation)return alert("Your browser does not support location");navigator.geolocation.getCurrentPosition(async e=>{let t={lat:e.coords.latitude,lng:e.coords.longitude};console.log("[Donor Dashboard] Location shared:",t),U(t),V(!0);let a=localStorage.getItem("user");if(a){let e=JSON.parse(a);e.locationSharing=!0,e.locationSharingStoppedAt=null,localStorage.setItem("user",JSON.stringify(e))}setTimeout(async()=>{await eh(),console.log("[Donor Dashboard] Requests reloaded after location share")},100),alert("Location captured and sharing enabled")},e=>{console.error("[Donor Dashboard] Geolocation error:",e),1===e.code?alert("Please allow location access"):alert("Unable to fetch location")},{enableHighAccuracy:!0,timeout:15e3})},stopLocationSharing:()=>{V(!1),U(null),n([]);let e=localStorage.getItem("user");if(e){let t=JSON.parse(e);t.locationSharing=!1,t.locationSharingStoppedAt=null,localStorage.setItem("user",JSON.stringify(t))}alert("Location sharing stopped")},locationSharing:Y,available:z,markAvailable:eu,markUnavailable:ex,currentQuote:ei[W]}),(0,s.jsx)(q,{showVideo:Q,setShowVideo:ee}),(0,s.jsx)("div",{className:"max-w-7xl mx-auto p-6",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 border-2 border-red-200",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,s.jsx)(b.Z,{className:"w-8 h-8 text-red-600"}),(0,s.jsx)("h2",{className:"text-3xl font-bold text-red-700",children:"Nearby Blood Requests"})]}),l.length>0||d.length>0?(0,s.jsx)(s.Fragment,{children:J?(0,s.jsx)(I,{hospitalRequests:[...l,...d],donorLocation:J}):null}):(0,s.jsxs)("div",{className:"text-center py-12 bg-red-50 rounded-xl",children:[(0,s.jsx)(b.Z,{className:"w-12 h-12 text-red-300 mx-auto mb-3"}),(0,s.jsx)("p",{className:"text-gray-600 font-semibold",children:"No blood requests found"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Check back later for new blood requests from hospitals and recipients"})]})]})}),(0,s.jsx)(Z,{schedules:y}),(0,s.jsx)(O,{}),(0,s.jsx)(R,{}),(0,s.jsx)(T,{}),(0,s.jsx)(M,{schedules:y}),(0,s.jsx)(B,{history:e})]}),(0,s.jsx)(i,{isOpen:et,request:es,onConfirm:ep,onReject:eg,isLoading:er})]})}function _(e){let{donorName:t,profileImage:a,getLocation:o,stopLocationSharing:r,locationSharing:l,available:i,markAvailable:d,markUnavailable:c,currentQuote:h}=e;return console.log("[HeroCard] Rendering with profileImage:",a),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border-l-4 border-red-600 grid md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"p-10",children:[(0,s.jsxs)("h2",{className:"text-3xl font-bold text-red-700",children:["Welcome back",t?", ".concat(t.split(" ")[0]):"","!"]}),(0,s.jsx)("p",{className:"text-gray-700 mt-2 text-lg italic font-semibold text-red-600 min-h-[60px] flex items-center",children:h}),(0,s.jsxs)("div",{className:"mt-6 flex flex-col gap-4",children:[(0,s.jsx)("div",{className:"flex gap-2",children:l?(0,s.jsxs)("button",{onClick:r,className:"bg-linear-to-r from-purple-500 to-purple-600 text-white px-6 py-3 rounded-lg flex items-center gap-2 font-semibold hover:shadow-lg transition",children:[(0,s.jsx)(b.Z,{className:"w-5 h-5"})," Stop Sharing"]}):(0,s.jsxs)("button",{onClick:o,className:"bg-linear-to-r from-blue-500 to-blue-600 text-white px-6 py-3 rounded-lg flex items-center gap-2 font-semibold hover:shadow-lg transition",children:[(0,s.jsx)(b.Z,{className:"w-5 h-5"})," Share Location"]})}),(0,s.jsx)("div",{className:"flex gap-2",children:i?(0,s.jsxs)("button",{onClick:c,className:"bg-linear-to-r from-red-500 to-red-600 text-white px-6 py-3 rounded-lg flex gap-2 items-center font-semibold hover:shadow-lg transition",children:[(0,s.jsx)(y.Z,{className:"w-5 h-5"})," Unavailable"]}):(0,s.jsxs)("button",{onClick:d,className:"bg-linear-to-r from-green-500 to-green-600 text-white px-6 py-3 rounded-lg flex gap-2 items-center font-semibold hover:shadow-lg transition",children:[(0,s.jsx)(n.Z,{className:"w-5 h-5"})," Mark Available"]})})]})]}),(0,s.jsx)("div",{className:"bg-gradient-to-br from-red-50 via-red-100 to-red-200 flex items-center justify-center p-4 min-h-[280px]",children:a?(0,s.jsx)("div",{className:"relative w-full h-full flex items-center justify-center",children:(0,s.jsx)("img",{src:a,alt:"Donor profile",className:"max-w-full max-h-[250px] rounded-lg shadow-2xl object-contain"})}):(0,s.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,s.jsx)(m.Z,{className:"text-red-500 w-20 h-20"}),(0,s.jsx)("p",{className:"text-red-600 text-sm font-medium",children:"Upload your photo"})]})})]})}function q(e){let{showVideo:t,setShowVideo:a}=e;return t?(0,s.jsxs)("div",{className:"mt-10 relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500 via-red-400 to-red-500 rounded-2xl blur-lg opacity-50 -z-10"}),(0,s.jsxs)("div",{className:"relative bg-gradient-to-br from-red-50 to-white rounded-2xl shadow-2xl overflow-hidden border-2 border-red-200 p-4",children:[(0,s.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"text-4xl",children:"\uD83C\uDFAC"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-2xl font-bold text-red-700",children:"Donor Education Video"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Learn about blood donation & impact"})]})]}),(0,s.jsx)("button",{onClick:()=>a(!1),className:"text-red-600 hover:text-red-800 text-2xl transition",title:"Close video",children:"✕"})]}),(0,s.jsx)("div",{className:"relative rounded-xl overflow-hidden bg-black shadow-lg",children:(0,s.jsx)("iframe",{title:"Intro video",className:"w-full aspect-video",src:"https://www.youtube.com/embed/_JlmwDqaYA0?autoplay=1&rel=0&modestbranding=1",allow:"autoplay; encrypted-media"})}),(0,s.jsx)("button",{onClick:()=>a(!1),className:"w-full mt-4 bg-gradient-to-r from-red-500 to-red-600 text-white py-3 rounded-lg font-semibold hover:shadow-lg transition",children:"Close Video"})]})]}):null}function M(e){let{schedules:t}=e,a=(t||[]).filter(e=>e.status&&"completed"!==e.status.toLowerCase()&&"cancelled"!==e.status.toLowerCase());return a.length?(0,s.jsxs)("div",{className:"mt-12",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold text-red-700 mb-4",children:"My Scheduled Donations"}),(0,s.jsx)("div",{className:"grid md:grid-cols-2 gap-6",children:a.map((e,t)=>{var a;return(0,s.jsxs)("div",{className:"bg-white p-5 rounded-xl shadow border-l-4 border-orange-500",children:[(0,s.jsxs)("h3",{className:"text-xl font-bold text-red-700",children:["Hospital: ",null===(a=e.requestId)||void 0===a?void 0:a.hospital]}),(0,s.jsxs)("p",{className:"mt-2 flex gap-2",children:[(0,s.jsx)(x.Z,{})," ",e.date]}),(0,s.jsxs)("p",{className:"flex gap-2",children:[(0,s.jsx)(j.Z,{})," ",e.time]}),(0,s.jsxs)("p",{className:"mt-3 font-semibold",children:["Status: ",(0,s.jsx)("span",{className:"bg-red-100 px-3 py-1 rounded-lg",children:e.status.toUpperCase()})]})]},t)})})]}):null}function B(e){let{history:t}=e;return t.length?(0,s.jsxs)("div",{className:"mt-12",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold text-red-700 mb-4",children:"My Donation History"}),(0,s.jsx)("div",{className:"grid md:grid-cols-3 gap-6",children:t.map((e,t)=>(0,s.jsxs)("div",{className:"bg-white p-5 rounded-xl shadow border-l-4 border-green-600",children:[(0,s.jsxs)("p",{className:"text-xl font-bold",children:["+ ",e.units," units"]}),(0,s.jsx)("p",{children:new Date(e.date).toLocaleDateString()})]},t))})]}):null}function T(){let[e,t]=(0,o.useState)(0),[a,r]=(0,o.useState)(!0),l=[{title:"Life-Saving Donation Saves 3 Lives",outcome:"One blood donation can save up to 3 lives. A single donation in Delhi today helped 3 emergency patients.",icon:"droplet",impact:"+3 lives saved",date:"Today",image:"https://images.unsplash.com/photo-1576091160550-2173dba999ef?w=500&h=400&fit=crop"},{title:"Critical Surgery Averted",outcome:"A young accident victim received emergency transfusion from our donors. Now recovering well at Apollo Hospital.",icon:"hospital",impact:"1 life saved",date:"Yesterday",image:"https://images.unsplash.com/photo-1631217b5f58-d699e5edd3a5?w=500&h=400&fit=crop"},{title:"Newborn Gets Second Chance",outcome:"A premature baby in NICU received platelet transfusion thanks to donors. Mother says 'They gave us hope'.",icon:"baby",impact:"1 child saved",date:"2 days ago",image:"https://images.unsplash.com/photo-1516627145497-ae3dbe626c3d?w=500&h=400&fit=crop"},{title:"Blood Camp Success",outcome:"200 donors participated in blood drive at Mumbai Corporate Park. 280 units collected for hospitals in need.",icon:"target",impact:"+280 units",date:"3 days ago",image:"https://images.unsplash.com/photo-1631217b5f58-d699e5edd3a5?w=500&h=400&fit=crop"},{title:"Cancer Patient Gets Help",outcome:"Leukemia patient undergoing chemotherapy received 2 units of whole blood. Treatment proceeding smoothly.",icon:"zap",impact:"1 patient sustained",date:"4 days ago",image:"https://images.unsplash.com/photo-1576091160550-2173dba999ef?w=500&h=400&fit=crop"},{title:"Rare Blood Type Found",outcome:"O- negative donor's blood matched rare case. Thalassemia patient received critical transfusion in Chennai.",icon:"star",impact:"1 critical match",date:"5 days ago",image:"https://images.unsplash.com/photo-1624507898257-dae5d0ed8202?w=500&h=400&fit=crop"}],n=l.filter(e=>e.image&&""!==e.image.trim());if(0===n.length)return(0,s.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold text-red-700 mb-6",children:"\uD83E\uDE78 Donor Impact Stories"}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[(0,s.jsx)(m.Z,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600 font-medium",children:"Impact stories coming soon..."})]})]});let i=n[e%n.length];return(0,o.useEffect)(()=>{let e=setInterval(()=>{r(!1),setTimeout(()=>{t(e=>(e+1)%l.length),r(!0)},300)},6e3);return()=>clearInterval(e)},[]),(0,s.jsxs)("div",{className:"mt-10 p-8 bg-gradient-to-r from-red-50 via-red-100 to-red-50 rounded-2xl shadow-xl border-2 border-red-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("h2",{className:"text-3xl font-bold text-red-700 flex items-center gap-3",children:[(0,s.jsx)("span",{className:"text-4xl animate-pulse",children:"\uD83D\uDCF0"})," Live Donation Impact"]}),(0,s.jsx)("div",{className:"flex gap-2",children:l.map((a,o)=>(0,s.jsx)("button",{onClick:()=>{r(!1),setTimeout(()=>{t(o),r(!0)},100)},className:"h-2 rounded-full transition-all duration-300 cursor-pointer ".concat(o===e?"bg-red-600 w-8":"bg-red-200 w-2 hover:bg-red-300"),title:"Go to news ".concat(o+1)},o))})]}),(0,s.jsxs)("div",{className:"transition-opacity duration-300 ".concat(a?"opacity-100":"opacity-0"),children:[(0,s.jsx)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden border border-red-100",children:(0,s.jsxs)("div",{className:"p-8 space-y-4",children:[(0,s.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-2xl font-bold text-red-700 mb-2",children:i.title}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("span",{className:"bg-red-600 text-white px-3 py-1 rounded-full text-sm font-semibold flex items-center gap-2",children:[function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"w-5 h-5",a="".concat(t," text-white");switch(e){case"droplet":return(0,s.jsx)(v,{className:a});case"hospital":return(0,s.jsx)(N.Z,{className:a});case"baby":return(0,s.jsx)(w,{className:a});case"target":return(0,s.jsx)(S,{className:a});case"zap":return(0,s.jsx)(k.Z,{className:a});case"star":return(0,s.jsx)(D,{className:a});case"heart":default:return(0,s.jsx)(m.Z,{className:a});case"ambulance":return(0,s.jsx)(C,{className:a})}}(i.icon,"w-4 h-4"),i.date]}),(0,s.jsx)("span",{className:"bg-green-100 text-green-700 px-3 py-1 rounded-lg text-sm font-bold",children:i.impact})]})]})}),(0,s.jsx)("p",{className:"text-gray-700 text-base leading-relaxed",children:i.outcome}),(0,s.jsx)("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl p-4 border-l-4 border-orange-400",children:(0,s.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,s.jsx)("span",{className:"font-bold text-orange-600",children:"\uD83D\uDCA1 Key Insight:"})," ",i.outcome.split(".")[0],"."]})})]})}),(0,s.jsx)("div",{className:"mt-4 bg-white rounded-lg p-4 border-l-4 border-blue-400 shadow-md",children:(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,s.jsx)("span",{className:"font-bold text-blue-600",children:"ℹ️ Did you know?"})," Every 2 seconds someone in the world needs blood. Your donation can save up to 3 lives, and you can donate again in just 56 days!"]})})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center mt-6 gap-4",children:[(0,s.jsx)("button",{onClick:()=>{r(!1),setTimeout(()=>{t(e=>(e-1+n.length)%n.length),r(!0)},100)},className:"bg-red-600 hover:bg-red-700 text-white p-3 rounded-full shadow-lg transition",title:"Previous news",children:"← Prev"}),(0,s.jsxs)("span",{className:"text-gray-600 font-semibold text-sm",children:[e+1," / ",n.length]}),(0,s.jsx)("button",{onClick:()=>{r(!1),setTimeout(()=>{t(e=>(e+1)%n.length),r(!0)},100)},className:"bg-red-600 hover:bg-red-700 text-white p-3 rounded-full shadow-lg transition",title:"Next news",children:"Next →"})]})]})}function Z(e){let{schedules:t}=e,a=(null==t?void 0:t.length)||0,o=(null==t?void 0:t.reduce((e,t)=>{var a;return e+((null===(a=t.requestId)||void 0===a?void 0:a.unitsNeeded)||t.unitsNeeded||0)},0))||0,r=(null==t?void 0:t.reduce((e,t)=>{let a=t.status||"Pending";return e[a]=(e[a]||0)+1,e},{}))||{};return console.log("[ScheduleStatistics] Schedules:",t),console.log("[ScheduleStatistics] Total Scheduled:",a),console.log("[ScheduleStatistics] Total Units:",o),console.log("[ScheduleStatistics] Status Counts:",r),(0,s.jsxs)("div",{className:"mt-12 bg-gradient-to-r from-red-500 to-red-600 rounded-2xl shadow-2xl p-10",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-4xl font-bold text-white",children:"\uD83E\uDE78 Your Donation Impact"}),(0,s.jsx)("p",{className:"text-white text-opacity-90 mt-2",children:"Track your scheduled donations and their status"})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("p",{className:"text-sm font-bold text-red-600 uppercase tracking-wider",children:"Scheduled Donations"}),(0,s.jsx)("span",{className:"text-3xl",children:"\uD83D\uDCC5"})]}),(0,s.jsx)("p",{className:"text-5xl font-bold text-red-700",children:a}),(0,s.jsx)("p",{className:"text-gray-600 text-sm mt-2",children:"Donation appointments booked"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("p",{className:"text-sm font-bold text-red-600 uppercase tracking-wider",children:"Total Units"}),(0,s.jsx)("span",{className:"text-3xl",children:"\uD83D\uDC89"})]}),(0,s.jsx)("p",{className:"text-5xl font-bold text-red-700",children:o}),(0,s.jsx)("p",{className:"text-gray-600 text-sm mt-2",children:"Units scheduled to donate"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("p",{className:"text-sm font-bold text-red-600 uppercase tracking-wider",children:"Status Summary"}),(0,s.jsx)("span",{className:"text-3xl",children:"\uD83D\uDCCA"})]}),(0,s.jsx)("div",{className:"space-y-2",children:Object.entries(r).length>0?Object.entries(r).map(e=>{let[t,a]=e;return(0,s.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[(0,s.jsxs)("span",{className:"text-gray-700 font-semibold capitalize",children:[t,":"]}),(0,s.jsx)("span",{className:"text-lg font-bold text-red-600",children:a})]},t)}):(0,s.jsx)("p",{className:"text-gray-600 text-sm",children:"No scheduled donations yet"})})]})]}),a>0&&(0,s.jsx)("div",{className:"mt-8 pt-6 border-t-2 border-white border-opacity-30",children:(0,s.jsxs)("p",{className:"text-center text-white font-semibold text-lg",children:["\uD83C\uDFAF You've scheduled ",(0,s.jsx)("span",{className:"text-yellow-200",children:a})," life-saving donations totaling ",(0,s.jsxs)("span",{className:"text-yellow-200",children:[o," units"]})," of blood!"]})})]})}function O(){return(0,s.jsxs)("div",{className:"mt-10 p-6 bg-white rounded-xl shadow border",children:[(0,s.jsxs)("h2",{className:"text-3xl font-bold text-red-700 mb-2 flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-4xl",children:"\uD83E\uDE78"})," Blood Donation Frequency Guide"]}),(0,s.jsx)("p",{className:"text-gray-600 mb-6 text-sm",children:"Know how often you can donate and make maximum impact on lives"}),(0,s.jsx)("div",{className:"grid md:grid-cols-2 gap-6",children:[{type:"Whole Blood",icon:"\uD83E\uDE79",wait:56,year:6,benefit:"Helps all blood types",recovery:"3-4 weeks",color:"from-red-400 to-red-600",bg:"bg-red-50"},{type:"Plasma",icon:"\uD83D\uDC9B",wait:2,year:24,benefit:"Golden component",recovery:"24 hours",color:"from-yellow-400 to-yellow-600",bg:"bg-yellow-50"},{type:"Platelets",icon:"\uD83D\uDC9A",wait:2,year:24,benefit:"Helps cancer patients",recovery:"24 hours",color:"from-green-400 to-green-600",bg:"bg-green-50"},{type:"Red Cells",icon:"❤️",wait:112,year:3,benefit:"Critical for anemia",recovery:"8 weeks",color:"from-pink-400 to-pink-600",bg:"bg-pink-50"}].map((e,t)=>(0,s.jsxs)("div",{className:"p-6 rounded-2xl shadow-lg border-2 border-".concat(e.color.split(" ")[1]," ").concat(e.bg," hover:shadow-xl transition-all duration-300 transform hover:scale-105"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"font-bold text-lg text-gray-800",children:[e.icon," ",e.type]}),(0,s.jsx)("p",{className:"text-sm text-gray-600 font-semibold",children:e.benefit})]}),(0,s.jsx)("div",{className:"bg-gradient-to-r ".concat(e.color," text-white rounded-full w-12 h-12 flex items-center justify-center font-bold"),children:e.year})]}),(0,s.jsxs)("div",{className:"space-y-2 mt-4",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-700 font-semibold",children:"Frequency:"}),(0,s.jsxs)("span",{className:"bg-white px-3 py-1 rounded-lg font-bold text-gray-800",children:["Every ",e.wait," days"]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-700 font-semibold",children:"Annual:"}),(0,s.jsxs)("span",{className:"bg-white px-3 py-1 rounded-lg font-bold text-gray-800",children:[e.year,"x per year"]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-700 font-semibold",children:"Recovery:"}),(0,s.jsx)("span",{className:"bg-white px-3 py-1 rounded-lg font-bold text-gray-800",children:e.recovery})]})]})]},t))})]})}function R(){return(0,s.jsxs)("div",{className:"mt-10 p-8 bg-gradient-to-r from-white via-blue-50 to-white rounded-2xl shadow-lg border-2 border-blue-200",children:[(0,s.jsxs)("h2",{className:"text-3xl font-bold text-red-700 mb-2 flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-4xl",children:"\uD83E\uDE7A"})," Blood Compatibility Chart"]}),(0,s.jsx)("p",{className:"text-gray-600 mb-6 text-sm",children:"Discover which blood types you can save with your donation"}),(0,s.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{type:"O-",badge:"\uD83C\uDF1F Universal Donor",donate:["Everyone"],description:"Rarest hero - can save anyone",bg:"bg-gradient-to-br from-red-100 to-red-200",border:"border-red-400"},{type:"O+",badge:"Most Common",donate:["O+","A+","B+","AB+"],description:"Help positive blood types",bg:"bg-gradient-to-br from-red-100 to-red-200",border:"border-red-400"},{type:"A-",badge:"Rare Giver",donate:["A-","A+","AB-","AB+"],description:"Support 4 blood types",bg:"bg-gradient-to-br from-rose-100 to-rose-200",border:"border-rose-400"},{type:"A+",badge:"Common",donate:["A+","AB+"],description:"Help A and AB types",bg:"bg-gradient-to-br from-red-50 to-red-100",border:"border-red-300"},{type:"B-",badge:"Rare Giver",donate:["B-","B+","AB-","AB+"],description:"Support 4 blood types",bg:"bg-gradient-to-br from-rose-100 to-rose-200",border:"border-rose-400"},{type:"B+",badge:"Common",donate:["B+","AB+"],description:"Help B and AB types",bg:"bg-gradient-to-br from-red-50 to-red-100",border:"border-red-300"},{type:"AB-",badge:"Rarest",donate:["AB-","AB+"],description:"Precious for AB types",bg:"bg-gradient-to-br from-pink-100 to-pink-200",border:"border-pink-400"},{type:"AB+",badge:"\uD83C\uDF1F Universal Recipient",donate:["AB+"],description:"Can receive from anyone",bg:"bg-gradient-to-br from-red-200 to-red-300",border:"border-red-500"}].map((e,t)=>(0,s.jsxs)("div",{className:"".concat(e.bg," p-5 rounded-2xl shadow-lg border-2 ").concat(e.border," hover:shadow-xl transition-all duration-300 transform hover:scale-105"),children:[(0,s.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold text-2xl text-gray-900 mb-1",children:e.type}),(0,s.jsx)("span",{className:"inline-block bg-white px-3 py-1 rounded-full text-xs font-bold text-gray-700 shadow-sm",children:e.badge})]})}),(0,s.jsxs)("p",{className:"text-xs text-gray-700 font-semibold mb-3 italic",children:['"',e.description,'"']}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-bold text-gray-800 mb-2",children:"\uD83D\uDC89 Donates to:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:e.donate.map((e,t)=>(0,s.jsx)("span",{className:"px-3 py-1.5 bg-white font-bold text-gray-800 rounded-lg text-xs shadow border-2 border-gray-300",children:e},t))})]})]},t))}),(0,s.jsx)("div",{className:"mt-8 bg-gradient-to-r from-red-50 to-pink-50 rounded-xl p-5 border-l-4 border-red-600",children:(0,s.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,s.jsx)("span",{className:"font-bold text-red-700",children:"\uD83D\uDCA1 Pro Tip:"})," O- blood type donors are the most sought after because they can donate to anyone. If you have a rare blood type, you're a superhero for those who need it!"]})})]})}},8985:function(e,t,a){"use strict";a.d(t,{s:function(){return l}});var s=a(2265),o=a(8680);let r=null;function l(){let e=(0,s.useRef)(null);return(0,s.useEffect)(()=>(r||((r=(0,o.io)("http://localhost:5000",{reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,reconnectionAttempts:5})).on("connect",()=>{console.log("✅ Socket connected:",null==r?void 0:r.id)}),r.on("disconnect",()=>{console.log("❌ Socket disconnected")}),r.on("error",e=>{console.error("Socket error:",e)})),e.current=r,()=>{}),[]),e}},1671:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9388:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},1723:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},3759:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("Hospital",[["path",{d:"M12 6v4",key:"16clxf"}],["path",{d:"M14 14h-4",key:"esezmu"}],["path",{d:"M14 18h-4",key:"16mqa2"}],["path",{d:"M14 8h-4",key:"z8ypaz"}],["path",{d:"M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2",key:"b1k337"}],["path",{d:"M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18",key:"16g51d"}]])},2489:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},1239:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},4474:function(e,t,a){"use strict";a.d(t,{o:function(){return o}});class s extends Error{}function o(e,t){let a;if("string"!=typeof e)throw new s("Invalid token specified: must be a string");t||(t={});let o=!0===t.header?0:1,r=e.split(".")[o];if("string"!=typeof r)throw new s(`Invalid token specified: missing part #${o+1}`);try{a=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var a;return a=t,decodeURIComponent(atob(a).replace(/(.)/g,(e,t)=>{let a=t.charCodeAt(0).toString(16).toUpperCase();return a.length<2&&(a="0"+a),"%"+a}))}catch(e){return atob(t)}}(r)}catch(e){throw new s(`Invalid token specified: invalid base64 for part #${o+1} (${e.message})`)}try{return JSON.parse(a)}catch(e){throw new s(`Invalid token specified: invalid json for part #${o+1} (${e.message})`)}}s.prototype.name="InvalidTokenError"}},function(e){e.O(0,[216,653,971,117,744],function(){return e(e.s=1350)}),_N_E=e.O()}]);